!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=31)}([function(e,t,o){e.exports=o(12)},function(e,t,o){"use strict";var n=o(4),i=Object.prototype.toString;function r(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function c(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function p(e){return"[object Function]"===i.call(e)}function s(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var o=0,n=e.length;o<n;o++)t.call(null,e[o],o,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:l,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:p,isStream:function(e){return c(e)&&p(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:s,merge:function e(){var t={};function o(o,n){l(t[n])&&l(o)?t[n]=e(t[n],o):l(o)?t[n]=e({},o):r(o)?t[n]=o.slice():t[n]=o}for(var n=0,i=arguments.length;n<i;n++)s(arguments[n],o);return t},extend:function(e,t,o){return s(t,(function(t,i){e[i]=o&&"function"==typeof t?n(t,o):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t){const o=[{name:"Monday",selected:!0,allDay:!0,timeStart:"00:00",timeEnd:"23:59"},{name:"Tuesday",selected:!0,allDay:!0,timeStart:"00:00",timeEnd:"23:59"},{name:"Wednesday",selected:!0,allDay:!0,timeStart:"00:00",timeEnd:"23:59"},{name:"Thursday",selected:!0,allDay:!0,timeStart:"00:00",timeEnd:"23:59"},{name:"Friday",selected:!0,allDay:!0,timeStart:"00:00",timeEnd:"23:59"},{name:"Saturday",selected:!0,allDay:!0,timeStart:"00:00",timeEnd:"23:59"},{name:"Sunday",selected:!0,allDay:!0,timeStart:"00:00",timeEnd:"23:59"}],n={id:0,text_box_extra_price_type:0,email_box_extra_price_type:0,text_area_extra_price_type:0,number_field_extra_price_type:0,file_upload_extra_price_type:0,color_picker_extra_price_type:0,checkbox_extra_price_type:[0],dropdown_extra_price_type:[0],dropdown_thumbnail_extra_price_type:[0],radio_button_extra_price_type:[0],swatch_extra_price_type:[0],button_extra_price_type:[0],text_box_extra_price:"",email_box_extra_price:"",text_area_extra_price:"",number_field_extra_price:"",file_upload_extra_price:"",color_picker_extra_price:"",checkbox_extra_price:[""],dropdown_extra_price:[""],dropdown_thumbnail_extra_price:[""],radio_button_extra_price:[""],swatch_extra_price:[""],button_extra_price:[""],text_box_extra_variant:"",email_box_extra_variant:"",text_area_extra_variant:"",number_field_extra_variant:"",file_upload_extra_variant:"",color_picker_extra_variant:"",checkbox_extra_variant:[""],dropdown_extra_variant:[""],dropdown_thumbnail_extra_variant:[""],radio_button_extra_variant:[""],swatch_extra_variant:[""],button_extra_variant:[""]},i={id:0,option_id:0,conditional_option_label:null,conditional_option_type:null,type_contain:null,conditional_option_value:null},r={index_option:0,id:0,label_on_product:null,label_on_cart:null,option_type:0,placeholder_dropdown:"-- Please select --",radio_button_value:[""],checkbox_value:[""],dropdown_value:[""],dropdown_thumbnail_value:[""],swatch_label:[null],swatch_type:[0],dropdown_thumbnail_type:[0],color_value:[""],dropdown_color_value:[""],image_value:[""],dropdown_image_value:[""],cdn_image_value:[""],button_value:[""],required:0,placeholder:"",default_value:"",help_text:"",help_text_type:0,help_text_position:0,max_value:null,min_value:null,max_selector:1,min_selector:null,inline:1,max_character:null,min_character:null,dropdown_search_bar:0,dropdown_thumbnail_search_bar:0,extra_price:n,conditional_options_match:0,conditional_options_display:0,conditional_options:[i],disable_past_date:-1,disable_past_date_type:null,enable_cut_off_time:0,date_time_mode:"date_picker",disable_date_range:null,disable_specific_date:null,display_date_time_type:0,time_format:0,overall_format:0,date_time_config:o,select_quantity:[0],sku_value:[""],min_quantity:null,max_quantity:null,file_type:"all",custom_file_type:"",instruction_value:null,max_number_file_upload:1},a={id:0,name:null,priority:0,status:1,apply_to:0,customer_ids:"",customer_tags:"",product_condition_type:0,exclude_product_type:0,product_ids:"",product_collections:"",product_tags:"",exclude_product_tags:"",specific_variant_ids:"",options:[r]};e.exports={defaultOptionSet:a,defaultGeneralOptionSetConfig:{customer_ids:[],customer_tags:[],product_ids:[],product_collections:[],product_tags:[],exclude_product_tags:[],specific_variant_ids:[]},defaultDateTime:{selected:!0,allDay:!0,timeStart:"00:00",timeEnd:"23:59"},defaultDateTimeConfig:o,defaultExtraPrice:n,defaultConditionalOptions:i,defaultOption:r}},function(e,t,o){"use strict";(function(t){var n=o(1),i=o(18),r=o(6),a={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,p={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(l=o(7)),l),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,o){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(o||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,o=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!o&&"json"===this.responseType;if(a||i&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw r(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};p.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){p.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){p.headers[e]=n.merge(a)})),e.exports=p}).call(this,o(17))},function(e,t,o){"use strict";e.exports=function(e,t){return function(){for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];return e.apply(t,o)}}},function(e,t,o){"use strict";var n=o(1);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,o){if(!t)return e;var r;if(o)r=o(t);else if(n.isURLSearchParams(t))r=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),r=a.join("&")}if(r){var c=e.indexOf("#");-1!==c&&(e=e.slice(0,c)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},function(e,t,o){"use strict";e.exports=function(e,t,o,n,i){return e.config=t,o&&(e.code=o),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,o){"use strict";var n=o(1),i=o(19),r=o(20),a=o(5),c=o(21),l=o(24),p=o(25),s=o(8);e.exports=function(e){return new Promise((function(t,o){var d=e.data,u=e.headers,_=e.responseType;n.isFormData(d)&&delete u["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.Authorization="Basic "+btoa(y+":"+h)}var f=c(e.baseURL,e.url);function b(){if(m){var n="getAllResponseHeaders"in m?l(m.getAllResponseHeaders()):null,r={data:_&&"text"!==_&&"json"!==_?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m};i(t,o,r),m=null}}if(m.open(e.method.toUpperCase(),a(f,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=b:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(b)},m.onabort=function(){m&&(o(s("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){o(s("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),o(s(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},n.isStandardBrowserEnv()){var g=(e.withCredentials||p(f))&&e.xsrfCookieName?r.read(e.xsrfCookieName):void 0;g&&(u[e.xsrfHeaderName]=g)}"setRequestHeader"in m&&n.forEach(u,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete u[t]:m.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),_&&"json"!==_&&(m.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){m&&(m.abort(),o(e),m=null)})),d||(d=null),m.send(d)}))}},function(e,t,o){"use strict";var n=o(6);e.exports=function(e,t,o,i,r){var a=new Error(e);return n(a,t,o,i,r)}},function(e,t,o){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,o){"use strict";var n=o(1);e.exports=function(e,t){t=t||{};var o={},i=["url","method","data"],r=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],c=["validateStatus"];function l(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function p(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(o[i]=l(void 0,e[i])):o[i]=l(e[i],t[i])}n.forEach(i,(function(e){n.isUndefined(t[e])||(o[e]=l(void 0,t[e]))})),n.forEach(r,p),n.forEach(a,(function(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(o[i]=l(void 0,e[i])):o[i]=l(void 0,t[i])})),n.forEach(c,(function(n){n in t?o[n]=l(e[n],t[n]):n in e&&(o[n]=l(void 0,e[n]))}));var s=i.concat(r).concat(a).concat(c),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===s.indexOf(e)}));return n.forEach(d,p),o}},function(e,t,o){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,o){"use strict";var n=o(1),i=o(4),r=o(13),a=o(10);function c(e){var t=new r(e),o=i(r.prototype.request,t);return n.extend(o,r.prototype,t),n.extend(o,t),o}var l=c(o(3));l.Axios=r,l.create=function(e){return c(a(l.defaults,e))},l.Cancel=o(11),l.CancelToken=o(28),l.isCancel=o(9),l.all=function(e){return Promise.all(e)},l.spread=o(29),l.isAxiosError=o(30),e.exports=l,e.exports.default=l},function(e,t,o){"use strict";var n=o(1),i=o(5),r=o(14),a=o(15),c=o(10),l=o(26),p=l.validators;function s(e){this.defaults=e,this.interceptors={request:new r,response:new r}}s.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=c(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:p.transitional(p.boolean,"1.0.0"),forcedJSONParsing:p.transitional(p.boolean,"1.0.0"),clarifyTimeoutError:p.transitional(p.boolean,"1.0.0")},!1);var o=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,o.unshift(t.fulfilled,t.rejected))}));var i,r=[];if(this.interceptors.response.forEach((function(e){r.push(e.fulfilled,e.rejected)})),!n){var s=[a,void 0];for(Array.prototype.unshift.apply(s,o),s=s.concat(r),i=Promise.resolve(e);s.length;)i=i.then(s.shift(),s.shift());return i}for(var d=e;o.length;){var u=o.shift(),_=o.shift();try{d=u(d)}catch(e){_(e);break}}try{i=a(d)}catch(e){return Promise.reject(e)}for(;r.length;)i=i.then(r.shift(),r.shift());return i},s.prototype.getUri=function(e){return e=c(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,o){return this.request(c(o||{},{method:e,url:t,data:(o||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,o,n){return this.request(c(n||{},{method:e,url:t,data:o}))}})),e.exports=s},function(e,t,o){"use strict";var n=o(1);function i(){this.handlers=[]}i.prototype.use=function(e,t,o){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!o&&o.synchronous,runWhen:o?o.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,o){"use strict";var n=o(1),i=o(16),r=o(9),a=o(3);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(c(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,o){"use strict";var n=o(1),i=o(3);e.exports=function(e,t,o){var r=this||i;return n.forEach(o,(function(o){e=o.call(r,e,t)})),e}},function(e,t){var o,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(o===setTimeout)return setTimeout(e,0);if((o===r||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:r}catch(e){o=r}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,p=[],s=!1,d=-1;function u(){s&&l&&(s=!1,l.length?p=l.concat(p):d=-1,p.length&&_())}function _(){if(!s){var e=c(u);s=!0;for(var t=p.length;t;){for(l=p,p=[];++d<t;)l&&l[d].run();d=-1,t=p.length}l=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];p.push(new m(e,t)),1!==p.length||s||c(_)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,o){"use strict";var n=o(1);e.exports=function(e,t){n.forEach(e,(function(o,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=o,delete e[n])}))}},function(e,t,o){"use strict";var n=o(8);e.exports=function(e,t,o){var i=o.config.validateStatus;o.status&&i&&!i(o.status)?t(n("Request failed with status code "+o.status,o.config,null,o.request,o)):e(o)}},function(e,t,o){"use strict";var n=o(1);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,o,i,r,a){var c=[];c.push(e+"="+encodeURIComponent(t)),n.isNumber(o)&&c.push("expires="+new Date(o).toGMTString()),n.isString(i)&&c.push("path="+i),n.isString(r)&&c.push("domain="+r),!0===a&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,o){"use strict";var n=o(22),i=o(23);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},function(e,t,o){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,o){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,o){"use strict";var n=o(1),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,o,r,a={};return e?(n.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=n.trim(e.substr(0,r)).toLowerCase(),o=n.trim(e.substr(r+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([o]):a[t]?a[t]+", "+o:o}})),a):a}},function(e,t,o){"use strict";var n=o(1);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function i(e){var n=e;return t&&(o.setAttribute("href",n),n=o.href),o.setAttribute("href",n),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return e=i(window.location.href),function(t){var o=n.isString(t)?i(t):t;return o.protocol===e.protocol&&o.host===e.host}}():function(){return!0}},function(e,t,o){"use strict";var n=o(27),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}}));var r={},a=n.version.split(".");function c(e,t){for(var o=t?t.split("."):a,n=e.split("."),i=0;i<3;i++){if(o[i]>n[i])return!0;if(o[i]<n[i])return!1}return!1}i.transitional=function(e,t,o){var i=t&&c(t);function a(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(o?". "+o:"")}return function(o,n,c){if(!1===e)throw new Error(a(n," has been removed in "+t));return i&&!r[n]&&(r[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(o,n,c)}},e.exports={isOlderVersion:c,assertOptions:function(e,t,o){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var r=n[i],a=t[r];if(a){var c=e[r],l=void 0===c||a(c,r,e);if(!0!==l)throw new TypeError("option "+r+" must be "+l)}else if(!0!==o)throw Error("Unknown option "+r)}},validators:i}},function(e){e.exports=JSON.parse('{"_from":"axios@^0.21.1","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.1","name":"axios","escapedName":"axios","rawSpec":"^0.21.1","saveSpec":null,"fetchSpec":"^0.21.1"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.1","_where":"/var/www/html/product-options-api","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},function(e,t,o){"use strict";var n=o(11);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var o=this;e((function(e){o.reason||(o.reason=new n(e),t(o.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,o){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,o){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},function(e,t,o){"use strict";o.r(t);var n=o(0),i=o.n(n);function r(e,t,o){e.home={},e.home.formActionCartHomePage=function(){return document.querySelectorAll(['[bss-po-featured-product-key] form[id*="product_form"]',"#page-content .shopify-section .product-area",".bss-po-custom-quick-buy-drawer"])},e.po.generateOptionSetOnHomePage=async function(){const t=document.querySelectorAll("[bss-po-featured-product-key]"),o=[];if(t.length&&e.enableFeaturedProduct){t.forEach(e=>{let t=e.getAttribute("bss-po-featured-product-key");o.push(`id:"${t}"`)});const n=await e.helper.callSearchLiquidApi(o);e.home.productsData=n,n.length&&n.forEach(async t=>{e.home.idProduct=t.id,e.home.productData=t;let o=null;const n=document.querySelector(`[bss-po-featured-product-key='${t.id}']`);if("platinum"===e.currentPlan&&n){o=n.getAttribute("bss-po-featured-product-variant-id-first-load"),t.variantId=o;const i=n.querySelector('product-form form[action="/cart/add"] input[name="id"]');if(i){let o;i.addEventListener("change",n=>{o&&clearTimeout(o),o=setTimeout(()=>{const o=n.target.value;o&&(t.variantId=o,e.po.generateOptionSetForVariant({variantId:o,idProductOnHomePage:t.id,dataHomePage:t}))},200)})}}await e.po.generateOptionSetOnProductPage({variantId:o,idProductOnHomePage:t.id,dataHomePage:t}),"platinum"===e.currentPlan&&e.enableDisplayProductPrice&&e.enableAddOns&&document.addEventListener("BSSchangeProductPrice",e.helper.debounce(()=>e.po.handleChangePrice(t,t.id)))})}},e.po.getOptionsSelected=function(){let n=e.po.getAppliedOptionSetOnProductPage();if(!n)return;let i=t.product,r=new Map,a=new Map,c=0,l=0;n.options.forEach(t=>{let n=t.required,i=e.settings.option_text+" "+t.label_on_product+" "+e.settings.required_text;if(0==t.option_type){let l=document.querySelector("#po_text_box"+t.id).value;l.length>0&&""!=l.trim()&&(t.extra_price.text_box_extra_price&&e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns?(r.set(t.label_on_cart,l+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(t.extra_price.text_box_extra_price))+")"),c+=parseFloat(t.extra_price.text_box_extra_price)):r.set(t.label_on_cart,l),a.set(t.label_on_cart,l)),1==n&&0==l.length&&o.set("#po_text_box"+t.id,i)}else if(1==t.option_type){let l=document.querySelector("#po_number_field"+t.id).value;isNaN(parseInt(l))||(t.extra_price.number_field_extra_price&&e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns?(r.set(t.label_on_cart,l+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(t.extra_price.number_field_extra_price))+")"),c+=parseFloat(t.extra_price.number_field_extra_price)):r.set(t.label_on_cart,l),a.set(t.label_on_cart,l)),1==n&&0==l.length&&o.set("#po_number_field"+t.id,i)}else if(2==t.option_type){let l=[],p=[];document.querySelectorAll('input[name="po_checkbox'+t.id+'"]').forEach((e,t)=>{e.checked&&(p.push(t),l.push(e.value))});let s=0;p.forEach(e=>{t.extra_price.checkbox_extra_price[e]&&(s+=parseFloat(t.extra_price.checkbox_extra_price[e]))}),l.length>0&&(s&&e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns?(r.set(t.label_on_cart,l.join(", ")+" (+ "+e.money.addMoneyWithCurrencyFormat("0",s)+")"),c+=s):r.set(t.label_on_cart,l.join(", ")),a.set(t.label_on_cart,l.join(", "))),1==n&&0==l.length&&o.set('input[name="po_checkbox'+t.id+'"]',i)}else if(3==t.option_type){let l=document.querySelector("#po_dropdown_menu"+t.id),p=l.selectedIndex,s=l.value;s!==t.placeholder_dropdown&&(t.extra_price.dropdown_extra_price[p-1]&&e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns?(r.set(t.label_on_cart,s+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(t.extra_price.dropdown_extra_price[p-1]))+")"),c+=parseFloat(t.extra_price.dropdown_extra_price[p-1])):r.set(t.label_on_cart,s),a.set(t.label_on_cart,s)),1==n&&s==t.placeholder_dropdown&&o.set("#po_dropdown_menu"+t.id,i)}else if(4==t.option_type){let l=!1,p=document.querySelectorAll('input[name="po_radio_button'+t.id+'"]');p.forEach((e,t)=>{e.checked&&(l=t)});let s=p[l];null!=s&&(t.extra_price.radio_button_extra_price[l]&&e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns?(r.set(t.label_on_cart,s.value+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(t.extra_price.radio_button_extra_price[l]))+")"),c+=parseFloat(t.extra_price.radio_button_extra_price[l])):r.set(t.label_on_cart,s.value),a.set(t.label_on_cart,s.value)),1==n&&null==s&&o.set('input[name="po_radio_button'+t.id+'"]',i)}else if(5==t.option_type){let l=[],p=[],s=[];document.querySelectorAll('input[name="po_swatch'+t.id+'"]').forEach((e,t)=>{e.checked&&(p.push(t),l.push(e.value))});let d=0;p.forEach(e=>{t.extra_price.swatch_extra_price[e]&&(d+=parseFloat(t.extra_price.swatch_extra_price[e]))}),l.length>0&&(d&&e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns?(r.set(t.label_on_cart,l.join(", ")+" (+ "+e.money.addMoneyWithCurrencyFormat("0",d)+")"),c+=d):r.set(t.label_on_cart,l.join(", ")),s=s.map(e=>JSON.stringify(e)),a.set(t.label_on_cart,s)),1==n&&0==l.length&&o.set('input[name="po_swatch'+t.id+'"]',i)}else if(6==t.option_type){let l=[],p=[];document.querySelectorAll('input[name="po_button'+t.id+'"]').forEach((t,o)=>{(t.checked&&4784!==e.storeId||4784==e.storeId&&t.checked&&"none"!==t.closest(".po-stack").style.display)&&(p.push(o),l.push(t.value))});let s=0;p.forEach(e=>{t.extra_price.button_extra_price[e]&&(s+=parseFloat(t.extra_price.button_extra_price[e]))}),l.length>0&&(s&&e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns?(r.set(t.label_on_cart,l.join(", ")+" (+ "+e.money.addMoneyWithCurrencyFormat("0",s)+")"),c+=s):r.set(t.label_on_cart,l.join(", ")),a.set(t.label_on_cart,l.join(", "))),1==n&&0==l.length&&o.set('input[name="po_button'+t.id+'"]',i)}else if(7==t.option_type)objFileUpload[t.id]?(t.extra_price.file_upload_extra_price&&e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns?(r.set(t.label_on_cart,objFileUpload[t.id]),r.set(`Extra fee for "${t.label_on_cart}" option`,e.money.addMoneyWithCurrencyFormat("0",parseFloat(t.extra_price.file_upload_extra_price))),c+=parseFloat(t.extra_price.file_upload_extra_price)):r.set(t.label_on_cart,objFileUpload[t.id]),a.set(t.label_on_cart,objFileUpload[t.id])):!objFileUpload[t.id]&&n&&o.set('input[name="po_file_upload'+t.id+'"]',i);else if(8==t.option_type&&e.currentPlan&&"free"!==e.currentPlan){let c=document.querySelector(`input[name="po_datetime${t.id}"]`).value;"function"==typeof bssFixSupportDateTimeFeaturedProduct?c=bssFixSupportDateTimeFeaturedProduct(e,t,c):e.page.isHomePage()&&(c=document.querySelector(`[bss-po-featured-product-key='${e.home.idProductAddToCart}'] input[name="po_datetime${t.id}"]`).value),c?(r.set(t.label_on_cart,c),a.set(t.label_on_cart,c)):1!=n||c||o.set(`input[name="po_datetime${t.id}"]`,i)}else if(10==t.option_type&&e.currentPlan&&"free"!==e.currentPlan){let l=document.querySelector(`[name="po_color_picker_value${t.id}"]`).value;l.length>0&&""!=l.trim()&&(t.extra_price.color_picker_extra_price&&e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns?(r.set(t.label_on_cart,numberValue+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(t.extra_price.color_picker_extra_price))+")"),c+=parseFloat(t.extra_price.color_picker_extra_price)):r.set(t.label_on_cart,l),a.set(t.label_on_cart,l)),1==n&&0==l.length&&o.set("#po_color_picker"+t.id,i)}else if(11==t.option_type){let l=document.querySelector("#po_text_area"+t.id).value;l.length>0&&""!=l.trim()&&(t.extra_price.text_area_extra_price&&e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns?(r.set(t.label_on_cart,l+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(t.extra_price.text_area_extra_price))+")"),c+=parseFloat(t.extra_price.text_area_extra_price)):r.set(t.label_on_cart,l),a.set(t.label_on_cart,l)),1==n&&0==l.length&&o.set("#po_text_area"+t.id,i)}else if(12==t.option_type){let l=document.querySelector("#po_dropdown_menu_thumbnail"+t.id),p=l.selectedIndex,s=l.value;s!==t.placeholder_dropdown&&(t.extra_price.dropdown_thumbnail_extra_price[p-1]&&e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns?(r.set(t.label_on_cart,s+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(t.extra_price.dropdown_thumbnail_extra_price[p-1]))+")"),c+=parseFloat(t.extra_price.dropdown_thumbnail_extra_price[p-1])):r.set(t.label_on_cart,s),a.set(t.label_on_cart,s)),1==n&&s==t.placeholder_dropdown&&o.set("#po_dropdown_menu_thumbnail"+t.id,i)}else if(13==t.option_type){let l=document.querySelector("#po_email_box"+t.id).value;l.length>0&&""!=l.trim()&&(t.extra_price.email_box_extra_price&&e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns?(r.set(t.label_on_cart,l+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(t.extra_price.email_box_extra_price))+")"),c+=parseFloat(t.extra_price.email_box_extra_price)):r.set(t.label_on_cart,l),a.set(t.label_on_cart,l)),1==n&&0==l.length&&o.set("#po_email_box"+t.id,i)}}),c&&a.set("totalExtraPrice",parseFloat(c.toFixed(2)));let p=[];document.querySelectorAll('.single-option-selector.single-option-selector-product-template.product-form__input,.form__input.form__input--select,.single-option-selector,.single-option-radio input[type="radio"]:checked,.js.product-form__input input[type="radio"]:checked, .product-form__input .select select, .variant-wrapper .variant-input input:checked, div.variations h4.swatch__title span.nt_name_current, .form-vertical .wetheme-dropdown select, .options-selection__select-wrapper .options-selection__select select option:checked, .product__meta .product__controls-group .product__color-chips button.product__chip.selected, .product-page--form-container .product-form--variants select.product-form--variant-select option:checked, .product-form--regular .variant-selection .options-selection__option-values .options-selection__option-value-input:checked, .variant-input-wrap select option:checked, .product-options div[data-section-container] label span[data-label-value], .entry-content .swatches-wrapper input[type="radio"]:checked, .pf-container div[data-option-buttons] select option:checked, .product-form__inner .product-form__controls-group .product-form__option-select-wrapper select option:checked').forEach(e=>{p.push(e.value)}),p=p.join(" / ");let s=!1;0==p.length?s=i.variants[0]:i.variants.forEach(e=>{e.title==p&&(s=e)});let d=document.querySelector('input[name="quantity"]'),u=[];r.forEach((e,t)=>{u.push({key:t,value:e})});let _=e.po.customHideProp(n,u,c,l,0);u=_.customAttributes,c=_.totalExtraPrice,l=_.totalVariantExtraPrice;let m=[],y=p?`${i.title}-${p}`:""+i.title;if(m=c&&d?[{variantId:"gid://shopify/ProductVariant/"+s.id,quantity:Number(d.value)},{title:y,originalUnitPrice:c,taxable:s.taxable,sku:"",quantity:Number(d.value),customAttributes:u}]:c&&!d?[{variantId:"gid://shopify/ProductVariant/"+s.id,quantity:1},{title:y,originalUnitPrice:c,taxable:s.taxable,sku:"",quantity:1,customAttributes:u}]:!c&&d?[{variantId:"gid://shopify/ProductVariant/"+s.id,quantity:Number(d.value),customAttributes:u}]:[{variantId:"gid://shopify/ProductVariant/"+s.id,quantity:1,customAttributes:u}],0==o.size)return m;if(document.querySelectorAll(".bss-error-msg").forEach(e=>e.remove()),o.forEach((e,t)=>{let o=document.querySelector(t).closest(".po-stack"),n=`<span class="bss-error-msg"><small>${e}</small></span>`;0==o.querySelectorAll(".bss-error-msg").length&&o.insertAdjacentHTML("beforeend",n)}),o.size){const[e]=o.keys();document.querySelector(e).focus()}return null}}function a(){BSS_PO.helper.convertDayOfWeek=function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]}}function c(){BSS_PO.helper.toggleModalEditOption=function(){document.getElementById("ajaxifyOptionsCart").style.display="none"}}var l=o(2);const p=e=>l.defaultDateTimeConfig.map(t=>e&&e.length?{...t,...e.find(e=>e.name==t.name)}:t);var s={grad:.9,turn:360,rad:360/(2*Math.PI)},d=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},u=function(e,t,o){return void 0===t&&(t=0),void 0===o&&(o=Math.pow(10,t)),Math.round(o*e)/o+0},_=function(e,t,o){return void 0===t&&(t=0),void 0===o&&(o=1),e>o?o:e>t?e:t},m=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},y=function(e){return{r:_(e.r,0,255),g:_(e.g,0,255),b:_(e.b,0,255),a:_(e.a)}},h=function(e){return{r:u(e.r),g:u(e.g),b:u(e.b),a:u(e.a,3)}},f=/^#([0-9a-f]{3,8})$/i,b=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},g=function(e){var t=e.r,o=e.g,n=e.b,i=e.a,r=Math.max(t,o,n),a=r-Math.min(t,o,n),c=a?r===t?(o-n)/a:r===o?2+(n-t)/a:4+(t-o)/a:0;return{h:60*(c<0?c+6:c),s:r?a/r*100:0,v:r/255*100,a:i}},x=function(e){var t=e.h,o=e.s,n=e.v,i=e.a;t=t/360*6,o/=100,n/=100;var r=Math.floor(t),a=n*(1-o),c=n*(1-(t-r)*o),l=n*(1-(1-t+r)*o),p=r%6;return{r:255*[n,c,a,a,l,n][p],g:255*[l,n,n,c,a,a][p],b:255*[a,a,l,n,n,c][p],a:i}},v=function(e){return{h:m(e.h),s:_(e.s,0,100),l:_(e.l,0,100),a:_(e.a)}},S=function(e){return{h:u(e.h),s:u(e.s),l:u(e.l),a:u(e.a,3)}},w=function(e){return x((o=(t=e).s,{h:t.h,s:(o*=((n=t.l)<50?n:100-n)/100)>0?2*o/(n+o)*100:0,v:n+o,a:t.a}));var t,o,n},O=function(e){return{h:(t=g(e)).h,s:(i=(200-(o=t.s))*(n=t.v)/100)>0&&i<200?o*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,o,n,i},P=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,k=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,q=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,C=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$={string:[[function(e){var t=f.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?u(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?u(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=q.exec(e)||C.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:y({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=P.exec(e)||k.exec(e);if(!t)return null;var o,n,i=v({h:(o=t[1],n=t[2],void 0===n&&(n="deg"),Number(o)*(s[n]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return w(i)},"hsl"]],object:[[function(e){var t=e.r,o=e.g,n=e.b,i=e.a,r=void 0===i?1:i;return d(t)&&d(o)&&d(n)?y({r:Number(t),g:Number(o),b:Number(n),a:Number(r)}):null},"rgb"],[function(e){var t=e.h,o=e.s,n=e.l,i=e.a,r=void 0===i?1:i;if(!d(t)||!d(o)||!d(n))return null;var a=v({h:Number(t),s:Number(o),l:Number(n),a:Number(r)});return w(a)},"hsl"],[function(e){var t=e.h,o=e.s,n=e.v,i=e.a,r=void 0===i?1:i;if(!d(t)||!d(o)||!d(n))return null;var a=function(e){return{h:m(e.h),s:_(e.s,0,100),v:_(e.v,0,100),a:_(e.a)}}({h:Number(t),s:Number(o),v:Number(n),a:Number(r)});return x(a)},"hsv"]]},T=function(e,t){for(var o=0;o<t.length;o++){var n=t[o][0](e);if(n)return[n,t[o][1]]}return[null,void 0]},E=function(e){return"string"==typeof e?T(e.trim(),$.string):"object"==typeof e&&null!==e?T(e,$.object):[null,void 0]},A=function(e,t){var o=O(e);return{h:o.h,s:_(o.s+100*t,0,100),l:o.l,a:o.a}},I=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},F=function(e,t){var o=O(e);return{h:o.h,s:o.s,l:_(o.l+100*t,0,100),a:o.a}},B=function(){function e(e){this.parsed=E(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return u(I(this.rgba),2)},e.prototype.isDark=function(){return I(this.rgba)<.5},e.prototype.isLight=function(){return I(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=h(this.rgba)).r,o=e.g,n=e.b,r=(i=e.a)<1?b(u(255*i)):"","#"+b(t)+b(o)+b(n)+r;var e,t,o,n,i,r},e.prototype.toRgb=function(){return h(this.rgba)},e.prototype.toRgbString=function(){return t=(e=h(this.rgba)).r,o=e.g,n=e.b,(i=e.a)<1?"rgba("+t+", "+o+", "+n+", "+i+")":"rgb("+t+", "+o+", "+n+")";var e,t,o,n,i},e.prototype.toHsl=function(){return S(O(this.rgba))},e.prototype.toHslString=function(){return t=(e=S(O(this.rgba))).h,o=e.s,n=e.l,(i=e.a)<1?"hsla("+t+", "+o+"%, "+n+"%, "+i+")":"hsl("+t+", "+o+"%, "+n+"%)";var e,t,o,n,i},e.prototype.toHsv=function(){return e=g(this.rgba),{h:u(e.h),s:u(e.s),v:u(e.v),a:u(e.a,3)};var e},e.prototype.invert=function(){return D({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),D(A(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),D(A(this.rgba,-e))},e.prototype.grayscale=function(){return D(A(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),D(F(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),D(F(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?D({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):u(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=O(this.rgba);return"number"==typeof e?D({h:e,s:t.s,l:t.l,a:t.a}):u(t.h)},e.prototype.isEqual=function(e){return this.toHex()===D(e).toHex()},e}(),D=function(e){return e instanceof B?e:new B(e)};function L(e,t){e.common.getMarketDataByCountryCode=async function(){let o=[];if(sessionStorage.getItem("po_market_session")&&localStorage.getItem("po_market"))o=JSON.parse(function(e){return decodeURIComponent(escape(window.atob(e)))}(localStorage.getItem("po_market")));else try{const{apiDomain:r}=e,a=t.shop.domain,c={headers:{"Content-Type":"application/json"}},{data:l}=await i.a.get(`${r}/market/get-market-data?domain=${a}`,c);l.success&&(localStorage.removeItem("po_market"),sessionStorage.setItem("po_market_session",!0),localStorage.setItem("po_market",(n=JSON.stringify(l.data),window.btoa(unescape(encodeURIComponent(n))))),o=l.data,l.data.length||console.log("PO market adjustment default"))}catch(e){console.log("Error:",e)}var n;const r=Shopify.country;let a=o.length&&o.find(e=>e.catalog&&Object.values(e.catalog).length&&e.catalog.markets.nodes[0].regions.includes(r));e.marketData=a||{},Object.keys(e.marketData).length||1!=Shopify.currency.rate||(sessionStorage.setItem("po_market_session",!1),e.marketStatus=!1)},e.common.convertRate=function(t,o){let n=t;if(e.marketStatus&&Shopify&&Shopify.currency){let i=parseFloat(Shopify.currency.rate),r=e.marketData.parent&&e.marketData.parent.adjustment?e.marketData.parent.adjustment.value:0,a=e.marketData.parent&&e.marketData.parent.adjustment?e.marketData.parent.adjustment.type:"";n=a&&r?"PERCENTAGE_DECREASE"==a?"checkout"==o?parseFloat((Number(t)*(1-Number(r)/100)).toFixed(2)):parseFloat((Number(t)*Number(i)*(1-Number(r)/100)).toFixed(2)):"checkout"==o?parseFloat((Number(t)*(1+Number(r)/100)).toFixed(2)):parseFloat((Number(t)*Number(i)*(1+Number(r)/100)).toFixed(2)):"checkout"==o?parseFloat(Number(t).toFixed(2)):parseFloat((Number(t)*Number(i)).toFixed(2))}return n}}class M{constructor(e){this.BSS_PO=e}init(){console.log("%cStart Cart Observer","background-color: darkblue; color: white; font-style: italic; border: 5px solid hotpink; font-size: 2em;"),this.emitCartChanges().then(()=>{this.observeCartChanges()}),window.addEventListener("cart_changed",BSS_PO.helper.debounce(e=>{const{changedCartItems:t,newCart:o,oldCart:n}=e.detail,i=JSON.parse(window.localStorage.getItem("__"))||[];t.forEach(e=>{if(i.every(({key:t})=>t!==e.encodeKeyData))return;const t=JSON.parse(this.BSS_PO.helper.base64Decode(i.find(({key:t})=>t===e.encodeKeyData).value));window.localStorage.setItem(e.key,JSON.stringify(t.option))}),o.items.forEach(e=>{const t=i.find(({key:t})=>t===e.encodeKeyData);if(t){const o=JSON.parse(this.BSS_PO.helper.base64Decode(t.value)),n=["bss-po-line-item-key","bss-po-cart-item-key","bss-po-line-properties"];if(o.keys.forEach(t=>{document.querySelectorAll(n.map(e=>`[${e}="${t}"]`).join(",")).forEach(t=>{n.forEach(o=>{t.getAttribute(o)&&t.setAttribute(o,e.key)})})}),o.keys.some(t=>t===e.key))return;const r=[...o.keys,e.key];o.keys=r;const a=i.map(t=>t.key===e.key?this.BSS_PO.helper.base64Encode(JSON.stringify(o)):t);window.localStorage.setItem("__",JSON.stringify(a))}}),"undefined"==typeof BSS_B2B&&1==this.BSS_PO.enableAddOns&&this.BSS_PO.cart.displayPriceAddOnsWithCartItems(o)})),window.addEventListener("cart_changed",BSS_PO.helper.debounce(e=>{const{changedCartItems:t,newCart:o,oldCart:n}=e.detail;if(1===this.BSS_PO.enableDiscount&&"platinum"==this.BSS_PO.currentPlan){const e=window.localStorage.getItem("appliedDiscount");if(e)if(0===o.items.length)window.localStorage.removeItem("appliedDiscount"),document.querySelector(".bss-po-discount-code-block")&&document.querySelector(".bss-po-discount-code-block").remove();else{let t=setInterval(async()=>{BSS_PO.cart.discount.utils.rendering||(BSS_PO.cart.discount.utils.showDiscountCodeFeature&&this.BSS_PO.cart.handleApplyDiscountCode(e),clearInterval(t))},500)}}}))}async setBase64EncodeData(e){const t=JSON.stringify({customAttributes:e.properties,product_id:e.product_id,variant_id:e.variant_id}),o=this.BSS_PO.helper.base64Encode(t);e.encodeKeyData=o}async fetchCart(){const e=await fetch("/cart.js"),t=await e.json();return this.handleReturnCartItems(t.items),t}handleReturnCartItems(e){0===e.length&&this.clearEncodeData(),e.forEach(e=>{this.setBase64EncodeData(e)})}clearEncodeData(){window.localStorage.removeItem("__")}storeCart(e){window.localStorage.setItem("cart",JSON.stringify(e))}storedCart(){return JSON.parse(window.localStorage.getItem("cart"))||{items:[]}}findCartChanges(e,t){const o=t.items,n=e.items;return o.filter(e=>n.every(t=>e.key!==t.key))}async emitCartChanges(){const e=await this.fetchCart(),t=this.storedCart(),o=this.findCartChanges(t,e),n=new CustomEvent("cart_changed",{detail:{newCart:e,oldCart:t,changedCartItems:o}});window.dispatchEvent(n),this.storeCart(e)}observeCartChanges(){new PerformanceObserver(e=>{e.getEntries().forEach(e=>{const t=["xmlhttprequest","fetch"].includes(e.initiatorType),o=/\/cart\//.test(e.name);t&&o&&this.emitCartChanges()})}).observe({entryTypes:["resource"]})}}function j(e,t){console.log("PO script");let o={},n=new Map,s=new Map,d=[];e.conditional={newArray:[]};e.marketStatus=!1,e.marketData={};const u=()=>{!function(e){e.page={},e.helper={},e.page.getPage=function(){return window.location.href.split("/")},e.page.isProductPage=function(){var t=e.page.getPage();return 8564==e.storeId?"products"==t[t.length-2]||"products"==t[t.length-3]:"products"==t[t.length-2]},e.page.isHomePage=function(){var t=e.page.getPage();return""==t[t.length-1]||t[t.length-1]==(Shopify&&Shopify.routes&&Shopify.routes.root.slice(1,Shopify.routes.root.length-1))},e.page.isProductPreviewPage=function(){var t=e.page.getPage();return t[t.length-1].includes("products_preview")},e.page.isProductPageWithAds=function(){var t=e.page.getPage();return"products"==t[t.length-3]&&t[t.length-1].includes("utm_")},e.page.isCollectionPage=function(){var t=e.page.getPage();return"collections"==t[t.length-2]},e.page.isCartPage=function(){var t=e.page.getPage();return t[t.length-1].split("?").length>1?"cart"==t[t.length-1].split("?")[0]:"cart"==t[t.length-1]},e.page.windowMobileCheck=function(){let e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},e.helper.getShopifyLocaleParams=function(){let e="";return"undefined"!=typeof Shopify&&Shopify&&Shopify.locale&&(e="?locale="+Shopify.locale),e},e.helper.getEvenIndexElements=function(e){return e.filter((e,t)=>t%2==0)},e.helper.getOddIndexElements=function(e){return e.filter((e,t)=>t%2!=0)},e.helper.waitForElement=function(e,t=0){const o=(new Date).getTime();return new Promise((n,i)=>{const r=setInterval(()=>{const a=(new Date).getTime();document.querySelector(e)?(clearInterval(r),n()):t&&a-o>=t&&(clearInterval(r),i())},100)})},e.helper.detectBuyItNowButtonInterVal=function(){let t=0,o=setInterval((function(){(e.page.isProductPage()||e.page.isHomePage())&&e.enable&&0!=e.optionSets.length&&1569!=e.storeId?(1722==e.storeId&&e.page.isProductPage()||t<=12?e.po.buyItNow():clearInterval(o),t++):clearInterval(o)}),500)},e.helper.callSearchLiquidApi=async function(e){const t="/search.js?q="+e.join(" OR ")+"&view=bss.po",o=encodeURI(t);try{const e=await fetch(o);return await e.json()}catch(e){console.log(e)}},e.helper.getCartData=async function(){try{const e=await fetch("/cart.js",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(200===e.status)return await e.json()}catch(e){console.log(e)}},e.helper.generateHtmlForUploadedFileLink=function(){let e=[];function t(e){const t=/(https?:\/\/[^\s]+)/g;return t.test(e)?e.replace(t,(function(e){if(e.toLowerCase().indexOf(".jpg")>0||e.toLowerCase().indexOf(".png")>0||e.toLowerCase().indexOf(".gif")>0||e.toLowerCase().indexOf(".svg")>0)return`<a href=${e} target="_blank" style="border: 0px;"><img src="${e}" style="width: 50px; border: 0px; -moz-border-radius: 5px; border-radius: 5px;" /></a>`;{const t=e.split("/").pop();return`<a href=${e} target="_blank"><span class="bss-po-cart-file">${t}</span></a>`}})):""+e}e=document.querySelectorAll(['form[action*="/cart"] .product-details__item span[data-cart-item-property-value]:not(a)','form[action*="/cart"] .cart__row.responsive-table__row td p']),e=[...e].filter(e=>!e.querySelector("a, img")),e.forEach(e=>{if(e.innerHTML.split(",").length>1){const o=e.innerHTML.split(",").map(e=>t(e)).join();e.innerHTML=o}else e.innerHTML=t(e.innerHTML)})},e.helper.getCartJsData=async function(){return await fetch("/cart.js").then(e=>e.json()).then(e=>e).catch(e=>{console.log("Error:",e)})},e.helper.updateCartJsData=async function(e){return await fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>e).catch(e=>{console.log("Error:",e)})},e.helper.changeCartJsData=async function(e){return await fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>e).catch(e=>{console.error("Error:",e)})},e.helper.autoResizeTextArea=async function(e){e.style.height="auto",e.style.height=e.scrollHeight+"px"},e.helper.autoResizeTextAreaOnEnter=async function(t,o){13===t.keyCode&&e.helper.autoResizeTextArea(o)},e.helper.eventListenersWhenCartActivities=function(e){const t=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(){return this.addEventListener("load",(function(){["/cart/add.js","/cart/update.js","/cart/change.js","/cart/clear.js"].includes(this._url)&&e()})),t.apply(this,arguments)}},e.helper.debounce=function(e,t=200){let o;return(...n)=>{clearTimeout(o),o=setTimeout(()=>{e.apply(this,n)},t)}},e.helper.listenCartActivitiesByFetch=function(e,t=1e3){!function(o,n){"function"==typeof n&&(o.fetch=function(){const o=n.apply(this,arguments);return o.then(o=>{[window.location.origin+"/cart/update",window.location.origin+"/cart/change",window.location.origin+"/cart/change.js",window.location.origin+"/cart/clear"].includes(o.url)&&setTimeout(()=>{e()},t)}),o})}(window,window.fetch)},e.helper.getSkuItemBySkuType=function(t,o){const n=e.settings.sku_type,i=e.settings.sku_separator,r=e.currentPlan&&"free"!==e.currentPlan;return r&&0==n&&t&&o?`${t}${o}`:r&&(1==n||0==n&&!t)?o.substring(i.length):""},e.helper.checkPOCreateDraftOrder=function(t){let o=t.items;if(o.length)for(let t=0;t<o.length;t++){let n=o[t].key,i="0";if(localStorage.getItem(n)){let t=JSON.parse(localStorage.getItem(n));if(i=Number(t.totalExtraPrice),i=e.common.convertRate(i),t.skuOptionValueString&&t.skuOptionValueString.length||i>0)return!0}}return!1},e.helper.addEventListenerInput=function(e){e.value=e.value.replace(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,"")},e.helper.base64Encode=function(e=""){return window.btoa(window.encodeURIComponent(e))},e.helper.base64Decode=function(e=""){return window.decodeURIComponent(window.atob(e))},e.helper.formatOptionLabel=function(e){let t="";return e&&(t=e.replace(/(')|(")/g,"\\'")),t},e.helper.createNewAddToCart=function(e){let t=document.createElement("div");return t.className="bss-po-btn-addToCart",document.querySelector(e).appendChild(t),t},e.helper.cloneStyles=function({node:e,cloneNode:t}){const o=window.getComputedStyle(e);if(""!==o.cssText)t.style.cssText=o.cssText;else{const e=Array.from(o).reduce((e,t)=>`${e}${t}:${o.getPropertyValue(t)};`,"");t.style.cssText=e}t.classList.add("bss-po-btn-addToCart")},e.helper.cloneButtonFunc=function(e,t){const o=e.cloneNode(!0);return e.parentNode.insertBefore(o,e),o.classList.add("bss-po-btn-checkout"),e.parentNode.removeChild(e),t.push(o),t}}(e),function(e,t){e.money={},e.money.addMoneyWithCurrencyFormat=function(o,n){let i="",r=/\{\{\s*(\w+)\s*\}\}/,a=t.shop.money_format;function c(e,t){return void 0===e?t:e}function l(e,t,o,n,i){if(o=c(o,2),n=c(n,","),i=c(i,"."),isNaN(e)||null==e||isNaN(t)||null==t)return 0;let r=(e=(Number(e)+Number(t)).toFixed(o)).split(".");return r[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+n)+(r[1]?i+r[1]:"")}switch(a.match(r)[1]){case"amount":if("function"==typeof bssFixSupportFormatMoneyAmount){let t=bssFixSupportFormatMoneyAmount(e,o,n);o=t[0],n=t[1]}else Shopify.currency&&"INR"==Shopify.currency.active&&("string"==typeof o&&0==o.indexOf(".")&&(o=o.replace(".","")),"string"==typeof n&&0==n.indexOf(".")&&(n=n.replace(".","")));i=l(o,n,2);break;case"amount_no_decimals":i=l(o,n,0);break;case"amount_with_comma_separator":if("function"==typeof bssFixSupportFormatMoneyAmountWithCommaSeparator){let t=bssFixSupportFormatMoneyAmountWithCommaSeparator(e,o,n);o=t[0],n=t[1]}else"string"==typeof o&&o.includes(",")&&(o=o.replace(/\./g,"").replace(",",".")),"string"==typeof n&&(n=n.replace(/\./g,"").replace(",","."));i=l(o,n,2,".",",");break;case"amount_no_decimals_with_comma_separator":if("function"==typeof bssFixSupportFormatMoneyAmountNoDecimalsWithCommaSeparator){let t=bssFixSupportFormatMoneyAmountNoDecimalsWithCommaSeparator(e,o,n);o=t[0],n=t[1]}else"string"==typeof o&&(o=o.replace(/\./g,"")),"string"==typeof n&&(n=n.replace(/\./g,""));i=l(o,n,0,".",",");break;case"amount_with_apostrophe_separator":"string"==typeof o&&(o=o.replace(/\'/g,"")),"string"==typeof n&&(n=n.replace(/\'/g,"")),i=l(o,n,2,"'",".")}return"function"==typeof bssFixSupportSpecificFormatMoney&&(a=bssFixSupportSpecificFormatMoney(e,a)),a.replace(r,i)},e.money.addMoneyWithCurrencyFormatWithB2BApps=function(e){let o=t.shop.money_format;switch(e=e?e.toString():0,o.match(/\{\{\s*(\w+)\s*\}\}/)[1]){case"amount":e=e.replace(/\,/g,"");case"amount_no_decimals":e=e.replace(/\./g,"");case"amount_with_comma_separator":e=e.replace(/\./g,"").replace(",",".");case"amount_no_decimals_with_comma_separator":e=e.replace(/\./g,"");case"amount_with_apostrophe_separator":e=e.replace(/\'/g,"")}return Number(e)/100}}(e,t),a(),function(e){e.common={},e.common.selectorVariant=[".single-option-selector.single-option-selector-product-template.product-form__input option:checked",".form__input.form__input--select",".single-option-selector option:checked",'.single-option-radio input[type="radio"]:checked','.js.product-form__input input[type="radio"]:checked',"select[data-variant-input]",".product-form__input .select select",".variant-wrapper .variant-input input:checked",".product-options select",'product-option-picker input[type="radio"]:checked',".form-field-input.form-field-select[data-product-option]",".option-swatch-value ",".ProductForm__Option .ProductForm__OptionName .ProductForm__SelectedValue",".swatch-wrapper input:checked","div.variations h4.swatch__title span.nt_name_current",".radio-wrapper select option:checked",".block-swatch__radio.product-form__single-selector:checked",".product-form__single-selector:checked",'.radio__button input[type="radio"]:checked',".form-vertical .wetheme-dropdown select",".margem-form-botoes .color-swatches .color-swatches-item input.product-option:checked",".row .product-form-option .wetheme-dropdown__wrapper span",".options-selection__select-wrapper .options-selection__select select option:checked",".shopify-section .product-page--root .product-page--top-panel select.product-form--variant-select option:checked",".product__meta .product__controls-group .product__color-chips button.product__chip.selected",".product-single__meta .product-blocks button.selected ",".product-page--form-container .product-form--root .product-form--variants .radios--input:checked",'product-variants input[type="radio"]:checked ',".product-page--form-container .product-form--variants select.product-form--variant-select option:checked",".product-form--regular .variant-selection .options-selection__option-values .options-selection__option-value-input:checked",'.swatch-items-wrapper input[type="radio"]:checked',".variant-input-wrap select option:checked",".product-options div[data-section-container] label span[data-label-value]",'.entry-content .swatches-wrapper input[type="radio"]:checked',".selector-wrapper select option:checked",".product-form__inner .product-form__controls-group .product-form__option-select-wrapper select option:checked",".detail .input-row .option-selectors .option-selector__btns input:checked",".\\#product-options-dropdown-toggle div[data-current]",'.product-options .cc-select__listbox .cc-select__option[aria-selected="true"]',"span.select-popout__value",".ProductForm__Item span.ProductForm__SelectedValue",".prod__option-label span.option-label",'.pf-option-swatches input[type="radio"]:checked',".selector-wrapper ul li a",'radio-swatch input[type="radio"]:checked',".swatches__container .swatches__option-value",'variant-radios input[type="radio"]:checked'],e.common.selectorVariantPicker=["variant-radios.bss-po-variant","variant-selects.bss-po-variant"]}(e),function(e,t,o){e.common.getOptionSelected=function(t,n=""){let i=new Map,r=new Map,a=0;const c={};let l=0,p={},s="",d=!1;if((e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId)&&(d=!0),t){const o=t.product_condition_type;t.options.forEach(t=>{const u=e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns;let _=e.common.getSeletorOfByOptionType(t.option_type,t.id);if((e.page.isHomePage()||d)&&(_=`[bss-po-featured-product-key='${n}'] ${_}`),0==t.option_type){let n=document.querySelector(_),c=n.value,d={};if(c.length>0&&""!=c.trim()){if(u){let o=0;0==t.extra_price.text_box_extra_price_type?o=t.extra_price.text_box_extra_price:"platinum"==e.currentPlan&&1==t.extra_price.text_box_extra_price_type&&(o=t.extra_price.text_box_extra_variant_price,o&&(l+=parseFloat(o)),d={id:t.extra_price.text_box_extra_variant,quantity:t.extra_price.text_box_extra_variant_quantity}),o>0?(a+=parseFloat(o),o=e.common.convertRate(o),i.set(t.label_on_cart,c+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(o))+")"),4784==e.storeId&&i.set(t.label_on_cart,c)):i.set(t.label_on_cart,c)}else i.set(t.label_on_cart,c);Object.keys(d).length&&(p[t.label_on_cart]=d),r.set(t.label_on_cart,c),s+=e.common.concatSkuStringValue(t.sku_value[0])}e.po.validateOptionOnProductPage({option:t,element:n,selector:_,optionSetConditionType:o})}else if(1==t.option_type){let n=document.querySelector(_),c=n.value,d={};if(!isNaN(parseInt(c))){if(u){let o=0;0==t.extra_price.number_field_extra_price_type?o=t.extra_price.number_field_extra_price:"platinum"==e.currentPlan&&1==t.extra_price.number_field_extra_price_type&&(o=t.extra_price.number_field_extra_variant_price,d={id:t.extra_price.number_field_extra_variant,quantity:t.extra_price.number_field_extra_variant_quantity},l+=parseFloat(o)),o>0?(a+=parseFloat(o),o=e.common.convertRate(o),i.set(t.label_on_cart,c+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(o))+")"),4784==e.storeId&&i.set(t.label_on_cart,c)):i.set(t.label_on_cart,c)}else i.set(t.label_on_cart,c);Object.keys(d).length&&(p[t.label_on_cart]=d),r.set(t.label_on_cart,c),s+=e.common.concatSkuStringValue(t.sku_value[0])}e.po.validateOptionOnProductPage({option:t,element:n,selector:_,optionSetConditionType:o})}else if(2==t.option_type){let n=document.querySelectorAll(_),d=0,m=0,y={},h={};const f={};if(n.forEach((n,i)=>{if(n.checked){s+=e.common.concatSkuStringValue(t.sku_value[i]),y[i]=n.value;const o=e.common.getQuantityByOptionValue(t,n);if(o&&(f[n.value]=o),u)if(0==t.extra_price.checkbox_extra_price_type[i]){let e=parseFloat(t.extra_price.checkbox_extra_price[i]);e&&(d+=o?o*e:e)}else if("platinum"==e.currentPlan&&1==t.extra_price.checkbox_extra_price_type[i]&&t.extra_price.checkbox_extra_variant_price[i]){h[n.value]={id:t.extra_price.checkbox_extra_variant[i],quantity:t.extra_price.checkbox_extra_variant_quantity[i]};let e=parseFloat(t.extra_price.checkbox_extra_variant_price[i]);o?(d+=o*e,m+=o*e):(d+=e,m+=e)}}e.po.validateOptionOnProductPage({option:t,element:n,selector:_,optionSetConditionType:o})}),e.po.validateQuantity(null,_,t),Object.keys(f).length&&(c[t.label_on_cart]=f),Object.keys(y).length>0){const o=Object.keys(y).map(e=>f[y[e]]?`${f[y[e]]} x ${y[e]}`:""+y[e]).join(", ");d&&u?(a+=d,l+=m,d=e.common.convertRate(d),i.set(t.label_on_cart,o+" (+ "+e.money.addMoneyWithCurrencyFormat("0",d)+")"),4784==e.storeId&&i.set(t.label_on_cart,o)):i.set(t.label_on_cart,o),Object.keys(h).length&&(p[t.label_on_cart]=h),r.set(t.label_on_cart,Object.values(y).join(", "))}}else if(3==t.option_type){let n=document.querySelector(_),m=n.selectedIndex,y=document.querySelector(`#po_dropdown_menu${t.id} option[id="po_dropdown${m-1}"]`),h="";(e.page.isHomePage()||d)&&(h=_.match(/'(\d+)'/)[1],y=document.querySelector(`[bss-po-featured-product-key='${h}'] #po_dropdown_menu${t.id} option[id="po_dropdown${m-1}"]`));const f={};let b=n.value,g={};if(b!==t.placeholder_dropdown){const o=e.common.getQuantityByOptionValue(t,y,h);o&&(f[b]=o);const n=o?`${o} x ${b}`:b;if(u){let o=e.common.getExtraPriceByOptionValue(t,y,h);o?(a+=parseFloat(o),"platinum"==e.currentPlan&&1==t.extra_price.dropdown_extra_price_type[m-1]&&t.extra_price.dropdown_extra_variant_price[m-1]&&(g={id:t.extra_price.dropdown_extra_variant[m-1],quantity:t.extra_price.dropdown_extra_variant_quantity[m-1]},l+=o),o=e.common.convertRate(o),i.set(t.label_on_cart,n+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(o))+")"),4784==e.storeId&&i.set(t.label_on_cart,n)):i.set(t.label_on_cart,n)}else i.set(t.label_on_cart,n);Object.keys(g).length&&(p[t.label_on_cart]=g),r.set(t.label_on_cart,b),s+=e.common.concatSkuStringValue(t.sku_value[m-1])}e.po.validateOptionOnProductPage({option:t,element:n,selector:_,optionSetConditionType:o}),e.po.validateQuantity(null,_,t),Object.keys(f).length&&(c[t.label_on_cart]=f)}else if(4==t.option_type){let n=document.querySelectorAll(_),d=0,m=0,y={},h={},f={};if(n.forEach((n,i)=>{if(n.checked){y[i]=n.value,s+=e.common.concatSkuStringValue(t.sku_value[i]);const o=e.common.getQuantityByOptionValue(t,n);if(o&&(f[n.value]=o),u)if(0==t.extra_price.radio_button_extra_price_type[i]){let e=parseFloat(t.extra_price.radio_button_extra_price[i]);e&&(d+=o?o*e:e)}else if("platinum"==e.currentPlan&&1==t.extra_price.radio_button_extra_price_type[i]&&t.extra_price.radio_button_extra_variant_price[i]){h[n.value]={id:t.extra_price.radio_button_extra_variant[i],quantity:t.extra_price.radio_button_extra_variant_quantity[i]};let e=parseFloat(t.extra_price.radio_button_extra_variant_price[i]);o?(d+=o*e,m+=o*e):(d+=e,m+=e)}}e.po.validateOptionOnProductPage({option:t,element:n,selector:_,optionSetConditionType:o})}),e.po.validateQuantity(null,_,t),Object.keys(f).length&&(c[t.label_on_cart]=f),Object.keys(y).length>0){const o=Object.keys(y).map(e=>f[y[e]]?`${f[y[e]]} x ${y[e]}`:""+y[e]).join(", ");d&&u?(a+=d,l+=m,d=e.common.convertRate(d),i.set(t.label_on_cart,o+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(d))+")"),4784==e.storeId&&i.set(t.label_on_cart,o)):i.set(t.label_on_cart,o),Object.keys(h).length&&(p[t.label_on_cart]=h),r.set(t.label_on_cart,Object.values(y).join(", "))}}else if(5==t.option_type){let n=[],d=[],y=[];const h=[],f={};let b=document.querySelectorAll(_),g=document.querySelectorAll('input[name="po_swatch'+t.id+'"]:checked + .po-option__swatch-media'),x={},v=0,S=0;b.forEach((i,r)=>{if(i.checked){n.push(i.value),s+=e.common.concatSkuStringValue(t.sku_value[r]);const o=e.common.getQuantityByOptionValue(t,i);if(o&&(h.push(o),f[i.value]=o),u)if(0==t.extra_price.swatch_extra_price_type[r]){let e=parseFloat(t.extra_price.swatch_extra_price[r]);e&&(v+=o?o*e:e)}else if("platinum"==e.currentPlan&&1==t.extra_price.swatch_extra_price_type[r]&&t.extra_price.swatch_extra_variant_price[r]){let e=parseFloat(t.extra_price.swatch_extra_variant_price[r]);e&&(o?(v+=o*e,S+=o*e):(v+=e,S+=e)),x[i.value]={id:t.extra_price.swatch_extra_variant[r],quantity:t.extra_price.swatch_extra_variant_quantity[r]}}}e.po.validateOptionOnProductPage({option:t,element:i,selector:_,optionSetConditionType:o})}),e.po.validateQuantity(null,_,t),Object.keys(f).length&&(c[t.label_on_cart]=f),g.forEach(e=>{e.querySelector(".po-option__color-value")?d.push(D(e.querySelector(".po-option__color-value").style.backgroundColor).toHex()):e.querySelector(".po-option__image-value")&&d.push(e.querySelector(".po-option__image-value").style.backgroundImage)});for(var m=0;m<d.length;m++){const e={title:n[m],value:d[m]};y.push(e)}if(n.length>0){let o=n.join(", ");h.length&&(o=n.map((e,t)=>h[t]?`${h[t]} x ${e}`:e).join(", ")),v&&u?(a+=v,l+=S,v=e.common.convertRate(v),i.set(t.label_on_cart,o+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(v))+")"),4784==e.storeId&&i.set(t.label_on_cart,o)):i.set(t.label_on_cart,o),y=y.map(e=>JSON.stringify(e)),Object.keys(x).length&&(p[t.label_on_cart]=x),r.set(t.label_on_cart,y)}}else if(6==t.option_type){let n={},d={},m=document.querySelectorAll(_),y=0,h=0;const f={};if(m.forEach((i,r)=>{if(i.checked&&4784!==e.storeId||4784==e.storeId&&i.checked&&"none"!==i.closest(".po-stack").style.display){n[r]=i.value,s+=e.common.concatSkuStringValue(t.sku_value[r]);const o=e.common.getQuantityByOptionValue(t,i);if(o&&(f[i.value]=o),u)if(0==t.extra_price.button_extra_price_type[r]){let e=parseFloat(t.extra_price.button_extra_price[r]);e&&(y+=o?o*e:e)}else if("platinum"==e.currentPlan&&1==t.extra_price.button_extra_price_type[r]&&t.extra_price.button_extra_variant_price[r]){d[i.value]={id:t.extra_price.button_extra_variant[r],quantity:t.extra_price.button_extra_variant_quantity[r]};let e=parseFloat(t.extra_price.button_extra_variant_price[r]);o?(y+=o*e,h+=o*e):(y+=e,h+=e)}}e.po.validateOptionOnProductPage({option:t,element:i,selector:_,optionSetConditionType:o})}),e.po.validateQuantity(null,_,t),Object.keys(f).length&&(c[t.label_on_cart]=f),Object.keys(n).length>0){const o=Object.keys(n).map(e=>f[n[e]]?`${f[n[e]]} x ${n[e]}`:""+n[e]).join(", ");y&&u?(a+=y,y=e.common.convertRate(y),i.set(t.label_on_cart,o+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(y))+")"),4784==e.storeId&&i.set(t.label_on_cart,o),l+=h):i.set(t.label_on_cart,o),Object.keys(d).length&&(p[t.label_on_cart]=d),r.set(t.label_on_cart,Object.values(n).join(", "))}}else if(7==t.option_type){const n=document.querySelector(_),c=e.common.getLinkFileUploadedBySelector({selector:_,optionId:t.id,optionSetConditionType:o});let d={};if(c&&c.length){const o=c.map(e=>e.url).join(", ");if(s+=e.common.concatSkuStringValue(t.sku_value[0]),i.set(t.label_on_cart,o),r.set(t.label_on_cart,o),u){let o=0;0==t.extra_price.file_upload_extra_price_type?o=t.extra_price.file_upload_extra_price:"platinum"==e.currentPlan&&1==t.extra_price.file_upload_extra_price_type&&(o=t.extra_price.file_upload_extra_variant_price,d={id:t.extra_price.file_upload_extra_variant,quantity:t.extra_price.file_upload_extra_variant_quantity},o&&(l+=parseFloat(t.extra_price.file_upload_extra_variant_price))),o>0&&""!=o&&(a+=parseFloat(o),o=e.common.convertRate(o),i.set(`Extra fee for "${t.label_on_cart}" option`,e.money.addMoneyWithCurrencyFormat("0",parseFloat(o))))}Object.keys(d).length&&(p[t.label_on_cart]=d);"undefined"!=typeof BSS_B2B&&(1==BSS_B2B.shopModules[0].status||1==BSS_B2B.shopModules[1].status)&&a&&r.set(`BSS_POExtra fee for "${t.label_on_cart}" option`,e.money.addMoneyWithCurrencyFormat("0",parseFloat(t.extra_price.file_upload_extra_price)))}e.po.validateOptionOnProductPage({option:t,element:n,selector:_,optionSetConditionType:o})}else if(8==t.option_type&&e.currentPlan&&"free"!==e.currentPlan){let a=document.querySelector(_),c=document.querySelector(`input[name="po_datetime${t.id}"]`).value;(e.page.isHomePage()||d)&&(c=document.querySelector(`[bss-po-featured-product-key='${n}'] input[name="po_datetime${t.id}"]`).value),c&&(i.set(t.label_on_cart,c),r.set(t.label_on_cart,c)),e.po.validateOptionOnProductPage({option:t,element:a,selector:_,optionSetConditionType:o})}else if(10==t.option_type&&e.currentPlan&&"free"!==e.currentPlan){let c=document.querySelector(`input[name="po_color_picker_value${t.id}"]`).value;(e.page.isHomePage()||d)&&(c=document.querySelector(`[bss-po-featured-product-key='${n}'] input[name="po_color_picker_value${t.id}"]`).value);let m={};if(c.length>0&&""!=c.trim()){if(u){let o=0;t.extra_price.color_picker_extra_price&&0==t.extra_price.color_picker_extra_price_type?o=t.extra_price.color_picker_extra_price:"platinum"==e.currentPlan&&1==t.extra_price.color_picker_extra_price_type&&(o=t.extra_price.color_picker_extra_variant_price,o&&(l+=parseFloat(o)),m={id:t.extra_price.color_picker_extra_variant,quantity:t.extra_price.color_picker_extra_variant_quantity}),o>0?(a+=parseFloat(o),o=e.common.convertRate(o),i.set(t.label_on_cart,c+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(o))+")"),4784==e.storeId&&i.set(t.label_on_cart,c)):i.set(t.label_on_cart,c)}else i.set(t.label_on_cart,c);Object.keys(m).length&&(p[t.label_on_cart]=m),r.set(t.label_on_cart,c),s+=e.common.concatSkuStringValue(t.sku_value[0])}e.po.validateOptionOnProductPage({option:t,element:c,selector:_,optionSetConditionType:o})}else if(11==t.option_type){let n=document.querySelector(_),c=n.value,d={};if(c.length>0&&""!=c.trim()){if(u){let o=0;0==t.extra_price.text_area_extra_price_type?o=t.extra_price.text_area_extra_price:"platinum"==e.currentPlan&&1==t.extra_price.text_area_extra_price_type&&(o=t.extra_price.text_area_extra_variant_price,o&&(l+=parseFloat(o)),d={id:t.extra_price.text_area_extra_variant,quantity:t.extra_price.text_area_extra_variant_quantity}),o>0?(a+=parseFloat(o),o=e.common.convertRate(o),i.set(t.label_on_cart,c+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(o))+")"),4784==e.storeId&&i.set(t.label_on_cart,c)):i.set(t.label_on_cart,c)}else i.set(t.label_on_cart,c);Object.keys(d).length&&(p[t.label_on_cart]=d),r.set(t.label_on_cart,c),s+=e.common.concatSkuStringValue(t.sku_value[0])}e.po.validateOptionOnProductPage({option:t,element:n,selector:_,optionSetConditionType:o})}else if(12==t.option_type){let n=document.querySelector(_),m=n.selectedIndex,y=document.querySelector(`#po_dropdown_menu_thumbnail${t.id} option[id="po_dropdown${m-1}"]`),h="";(e.page.isHomePage()||d)&&(h=_.match(/'(\d+)'/)[1],y=document.querySelector(`[bss-po-featured-product-key='${h}'] #po_dropdown_menu_thumbnail${t.id} option[id="po_dropdown${m-1}"]`));let f=e.common.getExtraPriceByOptionValue(t,y,h);const b={};let g=n.value,x={};if(g!==t.placeholder_dropdown){const o=e.common.getQuantityByOptionValue(t,y,h);o&&(b[g]=o);const n=o?`${o} x ${g}`:g;f&&u?(i.set(t.label_on_cart,n+" (+ "+e.money.addMoneyWithCurrencyFormat("0",f)+")"),4784==e.storeId&&i.set(t.label_on_cart,n),a+=f,"platinum"==e.currentPlan&&1==t.extra_price.dropdown_thumbnail_extra_price_type[m-1]&&t.extra_price.dropdown_thumbnail_extra_variant_price[m-1]&&(x={id:t.extra_price.dropdown_thumbnail_extra_variant[m-1],quantity:t.extra_price.dropdown_thumbnail_extra_variant_quantity[m-1]},l+=f)):i.set(t.label_on_cart,n),Object.keys(x).length&&(p[t.label_on_cart]=x),r.set(t.label_on_cart,g),s+=e.common.concatSkuStringValue(t.sku_value[m-1])}e.po.validateOptionOnProductPage({option:t,element:n,selector:_,optionSetConditionType:o}),e.po.validateQuantity(null,_,t),Object.keys(b).length&&(c[t.label_on_cart]=b)}else if(13==t.option_type){let n=document.querySelector(_),c=n.value,d={};if(c.length>0&&""!=c.trim()){if(u){let o=0;0==t.extra_price.email_box_extra_price_type?o=t.extra_price.email_box_extra_price:"platinum"==e.currentPlan&&1==t.extra_price.email_box_extra_price_type&&(o=t.extra_price.email_box_extra_variant_price,o&&(l+=parseFloat(o)),d={id:t.extra_price.email_box_extra_variant,quantity:t.extra_price.email_box_extra_variant_quantity}),o>0?(a+=parseFloat(o),o=e.common.convertRate(o),i.set(t.label_on_cart,c+" (+ "+e.money.addMoneyWithCurrencyFormat("0",parseFloat(o))+")"),4784==e.storeId&&i.set(t.label_on_cart,c)):i.set(t.label_on_cart,c)}else i.set(t.label_on_cart,c);Object.keys(d).length&&(p[t.label_on_cart]=d),r.set(t.label_on_cart,c),s+=e.common.concatSkuStringValue(t.sku_value[0])}e.po.validateOptionOnProductPage({option:t,element:n,selector:_,optionSetConditionType:o})}})}return r.set("optionQuantity",c),r.set("variantData",p),r.set("skuOptionValueString",s),{chosenOptions:i,chosenOptionsWithoutPriceAddOns:r,totalExtraPrice:a,errorMap:o,totalVariantExtraPrice:l,skuOptionValueString:s}},e.common.getCurrentVariant=function(t,o=""){let n=[],i=document.querySelectorAll(e.common.selectorVariant);if(e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId){let t=e.common.selectorVariant.map(e=>{if(!e.includes("[bss-po-featured-product-key"))return`[bss-po-featured-product-key='${o}'] `+e});t.every(e=>!e)||(i=document.querySelectorAll(t))}"function"==typeof bssFixSupportGetDefaultShopifyOptions&&(i=bssFixSupportGetDefaultShopifyOptions(e,i,o)),i.forEach(o=>{let i=!1;"function"==typeof bssFixSupportSetDefaultOptionValue&&(i=bssFixSupportSetDefaultOptionValue(e,o,n,i,t)),i||n.push(o.value)}),n=n.join(" / ");let r=!1;if(0==n.length)r=t.variants[0];else{t.variants.some(e=>"Default Title"===e.title)?r=t.variants[0]:t.variants.forEach(e=>{e.title==n&&(r=e)})}return r},e.common.getCurrentQuantity=function(t){let o='input[name="quantity"]',n="";if(1959==e.storeId)o='form[action*="/cart/add"]#add-to-cart-form input[name="quantity"]';else if(1722==e.storeId)o=".my-8 select[name='quantity'], input[name='quantity']";else if(4341==e.storeId)o="input.input--small";else if(1612==e.storeId)o="input.product__input";else if(3096==e.storeId)o=".product-menu-quantity input.quantity-input";else if(3101==e.storeId)o=".\\#product-qty-selector-inner select[name='quantity']";else if(3793==e.storeId)o=".\\#product-qty-selector-inner select[name='quantity']";else if(6923==e.storeId)return n="undefined"===window.bss_quantity?1:parseInt(window.bss_quantity),n;return 1569==e.storeId&&(o=`[bss-po-featured-product-key='${t}'] `+o),e.page.isCollectionPage()&&7019==e.storeId&&(o=`[bss-po-featured-product-key='${t}'] `+o),e.page.isHomePage()&&(o=`[bss-po-featured-product-key='${t}'] `+o),n=document.querySelector(o),null!==n?n.value:1},e.common.getMessageFromSettings=function(t){return{requiredErrorMessage:`${e.settings.option_text} ${t.label_on_product} ${e.settings.required_text}`,minCharacterErrorMessage:`${e.settings.min_character_text}: ${t.min_character}`,maxCharacterWarningMessage:`${e.settings.max_character_text}: ${t.max_character}`,minValueErrorMessage:`${e.settings.min_value_text}: ${t.min_value}`,maxValueErrorMessage:`${e.settings.max_value_text}: ${t.max_value}`,minSelectorErrorMessage:`${e.settings.min_selector_text}: ${t.min_selector}`,maxSelectorWarningMessage:`${e.settings.max_selector_text}: ${t.max_selector}`,minQuantityErrorMessage:`${e.settings.min_quantity_text}: ${t.min_quantity}`,maxQuantityWarningMessage:`${e.settings.max_quantity_text}: ${t.max_quantity}`,emailFormatErrorMessage:""+e.settings.error_email_format_message}},e.common.getSeletorOfByOptionType=function(e,t){const o={0:"po_text_box",1:"po_number_field",2:"po_checkbox",3:"po_dropdown_menu",4:"po_radio_button",5:"po_swatch",6:"po_button",7:"po_file_upload",8:"po_datetime",10:"po_color_picker",11:"po_text_area",12:"po_dropdown_menu_thumbnail",13:"po_email_box"}[Number(e)];return[0,1,3,11,12,13].includes(e)?`#${o}${t}`:`input[name="${o}${t}"]`},e.common.getCssAdvancedByOptionType=function(t){const o="advanced"==e.currentPlan||"platinum"==e.currentPlan;if(0==t||13==t)return{textbox_label_style:e.currentPlan&&o?`font-size: ${e.settings.title_size}px ;${1==parseInt(e.settings.title_color_type)?`color: ${e.settings.title_color};`:""} font-weight: ${parseInt(e.settings.title_font_weight)?"bold":"normal"};`:"",textbox_value_style:e.currentPlan&&o?`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?`color: ${e.settings.value_color};`:""} font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"}; position: relative; outline: none;`:"",textbox_input_style:e.currentPlan&&o?`height: ${e.settings.textbox_number_height}px; border: #e3e1e1 !important; box-shadow: none;`:"",textbox_input_parent_style:e.currentPlan&&o?`border: 1px solid #e3e1e1;border-radius: 5px;display: flex;width: ${parseInt(e.settings.textbox_number_width)}%; align-items:center;`:""};if(1==t)return{number_label_style:e.currentPlan&&o?`font-size: ${e.settings.title_size}px ;${1==parseInt(e.settings.title_color_type)?`color: ${e.settings.title_color};`:""} font-weight: ${parseInt(e.settings.title_font_weight)?"bold":"normal"};`:"",number_value_style:e.currentPlan&&o?`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?`color: ${e.settings.value_color};`:""} font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`:"",number_input_style:e.currentPlan&&o?`width: ${e.settings.textbox_number_width}%; height: ${e.settings.textbox_number_height}px;`:""};if(2==t)return{checkbox_label_style:e.currentPlan&&o?`font-size: ${e.settings.title_size}px ;${1==parseInt(e.settings.title_color_type)?`color: ${e.settings.title_color};`:""} font-weight: ${parseInt(e.settings.title_font_weight)?"bold":"normal"};`:"",checkbox_value_style:e.currentPlan&&o?`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?`color: ${e.settings.value_color};`:""} font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`:"",checkbox_input_style:e.currentPlan&&o?`width: ${e.settings.checkbox_radio_width}px; height: ${e.settings.checkbox_radio_width}px;`:""};if(3==t)return{dropdown_label_style:e.currentPlan&&o?`font-size: ${e.settings.title_size}px ;${1==parseInt(e.settings.title_color_type)?`color: ${e.settings.title_color};`:""} font-weight: ${parseInt(e.settings.title_font_weight)?"bold":"normal"};`:"",dropdown_value_style:e.currentPlan&&o?`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?`color: ${e.settings.value_color};`:""} font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`:"",dropdown_input_style:e.currentPlan&&o?`width: ${e.settings.dropdown_width}%; height: ${e.settings.dropdown_height}px;`:"",dropdown_search_style:e.currentPlan&&o?`font-size: ${e.settings.value_size}px ;width: 100% ; height: 30px ;border-radius: 5px;${1==parseInt(e.settings.value_color_type)?`color: ${e.settings.value_color};`:""} font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`:"",dropdown_display_search_style:e.currentPlan&&o?"display: block;":"display: none;"};if(4==t)return{radio_label_style:e.currentPlan&&o?`font-size: ${e.settings.title_size}px ;${1==parseInt(e.settings.title_color_type)?`color: ${e.settings.title_color};`:""} font-weight: ${parseInt(e.settings.title_font_weight)?"bold":"normal"};`:"",radio_value_style:e.currentPlan&&o?`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?`color: ${e.settings.value_color};`:""} font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`:"",radio_input_style:e.currentPlan&&o?`width: ${e.settings.checkbox_radio_width}px; height: ${e.settings.checkbox_radio_width}px;`:""};if(5==t){let t;switch(e.settings.swatches_hover){case 1:t=`color: ${e.settings.swatches_hover_text_color}; background-color: ${e.settings.swatches_hover_color};`;break;case 2:t=`background-color: ${e.settings.swatches_hover_color}; width: 165px; z-index: 7; padding-bottom: 10px;`;break;case 3:t=`color: ${e.settings.swatches_hover_text_color}; background-color: ${e.settings.swatches_hover_color}; width: 165px; z-index: 7;`;break;default:t=""}return{swatch_label_style:e.currentPlan&&o?`font-size: ${e.settings.title_size}px ;${1==parseInt(e.settings.title_color_type)?`color: ${e.settings.title_color};`:""} font-weight: ${parseInt(e.settings.title_font_weight)?"bold":"normal"};`:"",swatch_value_style:e.currentPlan&&o?`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?`color: ${e.settings.value_color};`:""} font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`:"",swatch_input_style:e.currentPlan&&o?`width: ${e.settings.swatches_width}px; height: ${e.settings.swatches_height}px; ${parseInt(e.settings.swatches_shape)?"border-radius: 50%":""};`:"",swatch_input2_style:e.currentPlan&&o?`width: ${e.settings.swatches_width-8}px; height: ${e.settings.swatches_height-8}px; ${parseInt(e.settings.swatches_shape)?"border-radius: 50%;":""}`:"",swatch_tooltip_style:e.currentPlan&&o?t:""}}return 6==t?{button_label_style:e.currentPlan&&o?`font-size: ${e.settings.title_size}px ;${1==parseInt(e.settings.title_color_type)?`color: ${e.settings.title_color};`:""} color: ${e.settings.title_color}; font-weight: ${parseInt(e.settings.title_font_weight)?"bold":"normal"};`:""}:7==t?{file_label_style:e.currentPlan&&o?`font-size: ${e.settings.title_size}px ;${1==parseInt(e.settings.title_color_type)?`color: ${e.settings.title_color};`:""} font-weight: ${parseInt(e.settings.title_font_weight)?"bold":"normal"};`:""}:8==t?{datepicker_label_style:`font-size: ${e.settings.title_size}px ;${1==parseInt(e.settings.title_color_type)?"color: "+e.settings.title_color:null}; font-weight: ${parseInt(e.settings.title_font_weight)?"bold":"normal"};`,datepicker_value_style:`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?"color: "+e.settings.value_color:null}; font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`}:10==t?{color_picker_label_style:e.currentPlan&&o?`font-size: ${e.settings.title_size}px ;${1==parseInt(e.settings.title_color_type)?`color: ${e.settings.title_color};`:""} font-weight: ${parseInt(e.settings.title_font_weight)?"bold":"normal"};`:""}:11==t?{text_area_label_style:e.currentPlan&&o?`font-size: ${e.settings.title_size}px ;${1==parseInt(e.settings.title_color_type)?`color: ${e.settings.title_color};`:""} font-weight: ${parseInt(e.settings.title_font_weight)?"bold":"normal"};`:"",text_area_value_style:e.currentPlan&&o?`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?`color: ${e.settings.value_color};`:""} font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"}; position: relative; outline: none;`:"",text_area_input_style:e.currentPlan&&o?"border: #e3e1e1 !important; box-shadow: none;":"",text_area_input_parent_style:e.currentPlan&&o?`border: 1px solid #e3e1e1;border-radius: 5px;display: flex;width: ${parseInt(e.settings.textbox_number_width)}%; align-items:center;`:""}:12==t?{dropdown_thumbnail_label_style:e.currentPlan&&o?`font-size: ${e.settings.title_size}px ;${1==parseInt(e.settings.title_color_type)?`color: ${e.settings.title_color};`:""} font-weight: ${parseInt(e.settings.title_font_weight)?"bold":"normal"};`:"",dropdown_thumbnail_value_style:e.currentPlan&&o?`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?`color: ${e.settings.value_color};`:""} font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`:"",dropdown_thumbnail_search_style:e.currentPlan&&o?`font-size: ${e.settings.value_size}px ;width: 100% ; height: 30px ;border-radius: 5px;${1==parseInt(e.settings.value_color_type)?`color: ${e.settings.value_color};`:""} font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`:"",dropdown_thumbnail_display_search_style:e.currentPlan&&o?"display: block;":"display: none;"}:void 0},e.common.generateUniqueId=function(){return"xxxxxxxxxxxx5xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))+Math.floor(Date.now()).toString()},e.common.getLinkFileUploadedBySelector=function({selector:e,optionId:o,optionSetConditionType:n}){const i=document.querySelector(e).closest(""+(4!==n||window.bss_admin_option?".bss-po-product-page:not(.bss-po-specific-variant)":".bss-po-product-page.bss-po-specific-variant")).getAttribute("data-position");return t[`${i}-${o}`]},e.common.getQuantityByOptionValue=function(t,o,n){const{select_quantity:i}=t,r={2:"po-option--checkbox-wrapper",4:"po-option--radioButton-wrapper",3:"po-option--dropdown-wrapper",5:"po-option--swatch-wrapper",6:"po-option--button-wrapper",12:"po-option--dropdown-thumbnail-wrapper"};if(5==t.option_type||2==t.option_type||3==t.option_type||4==t.option_type||6==t.option_type||12==t.option_type){let a=null;if(3!=t.option_type&&12!=t.option_type)a=o&&o.closest("."+r[t.option_type]);else{let i=3==t.option_type?"#po_dropdown_menu":"#po_dropdown_menu_thumbnail";a=o&&document.querySelector(`${i}${t.id} ~ .${r[t.option_type]}#${o.id}`),(e.page.isHomePage()&&n||1569==e.storeId)&&(a=o&&document.querySelector(`[bss-po-featured-product-key='${n}'] ${i}${t.id} ~ .${r[t.option_type]}#${o.id}`))}if(i[o&&o.getAttribute("id").replace(/\D+/g,"")]){const e=a.querySelector(".quantity-control");if(e){const t=e.querySelector("input.quantity-input");return t?Number(t.value):0}}return null}},e.common.getExtraPriceByOptionValue=function(t,o,n){let i=0;if(3!=t.option_type&&12!=t.option_type)o.forEach((o,n)=>{if(o.checked){const r=e.common.getQuantityByOptionValue(t,o);let a=0;2!=t.option_type&&4!=t.option_type&&5!=t.option_type&&6!=t.option_type||(a=e.common.getExtraPriceByOption(t,n)),a&&(i+=r?r*a:a)}});else{if(!o)return;const r=e.common.getQuantityByOptionValue(t,o,n);let a=parseInt(o.id.match(/\d+/)[0],10),c=0;c=e.common.getExtraPriceByOption(t,a),c&&(i+=r?r*c:c)}return i},e.common.getVariantDataOnOptionSet=async function(t,o){let n=e.common.getAllExtraVariant(t).filter(e=>null!==e&&""!==e);if(!n.length)return[];await e.common.getDataExtraVariantByIds(n,o).then(e=>{t.variants=e})},e.common.addVariantDataToOption=function(e,t){if(0==t.option_type)e.variants&&1==t.extra_price.text_box_extra_price_type&&t.extra_price.text_box_extra_variant&&e.variants.forEach(e=>{e.id.includes(t.extra_price.text_box_extra_variant)&&(t.extra_price.text_box_extra_variant_id=e.id,t.extra_price.text_box_extra_variant_price=e.price,t.extra_price.text_box_extra_variant_quantity=e.inventoryQuantity,t.extra_price.text_box_extra_variant_sku=e.sku)});else if(1==t.option_type)e.variants&&1==t.extra_price.number_field_extra_price_type&&t.extra_price.number_field_extra_variant&&e.variants.forEach(e=>{e.id.includes(t.extra_price.number_field_extra_variant)&&(t.extra_price.number_field_extra_variant_id=e.id,t.extra_price.number_field_extra_variant_price=e.price,t.extra_price.number_field_extra_variant_quantity=e.inventoryQuantity,t.extra_price.number_field_extra_variant_sku=e.sku)});else if(2==t.option_type){if(e.variants&&t.extra_price.checkbox_extra_price_type.includes(1)){let o=[],n=[],i=[],r=[];t.extra_price.checkbox_extra_variant.forEach((t,a)=>{t?e.variants.forEach(e=>{e.id.includes(t)&&(o.push(e.id),n.push(e.price),i.push(e.inventoryQuantity),r.push(e.sku))}):(o.push(""),n.push(""),i.push(""),r.push(""))}),t.extra_price.checkbox_extra_variant_id=o,t.extra_price.checkbox_extra_variant_price=n,t.extra_price.checkbox_extra_variant_quantity=i,t.extra_price.checkbox_extra_variant_sku=r}}else if(3==t.option_type){if(e.variants&&t.extra_price.dropdown_extra_price_type.includes(1)){let o=[],n=[],i=[],r=[];t.extra_price.dropdown_extra_variant.forEach((t,a)=>{t?e.variants.forEach(e=>{e.id.includes(t)&&(o.push(e.id),n.push(e.price),i.push(e.inventoryQuantity),r.push(e.sku))}):(o.push(""),n.push(""),i.push(""),r.push(""))}),t.extra_price.dropdown_extra_variant_id=o,t.extra_price.dropdown_extra_variant_price=n,t.extra_price.dropdown_extra_variant_quantity=i,t.extra_price.dropdown_extra_variant_sku=r}}else if(4==t.option_type){if(e.variants&&t.extra_price.radio_button_extra_price_type.includes(1)){let o=[],n=[],i=[],r=[];t.extra_price.radio_button_extra_variant.forEach((t,a)=>{t?e.variants.forEach(e=>{e.id.includes(t)&&(o.push(e.id),n.push(e.price),i.push(e.inventoryQuantity),r.push(e.sku))}):(o.push(""),n.push(""),i.push(""),r.push(""))}),t.extra_price.radio_button_extra_variant_id=o,t.extra_price.radio_button_extra_variant_price=n,t.extra_price.radio_button_extra_variant_quantity=i,t.extra_price.radio_button_extra_variant_sku=r}}else if(5==t.option_type){if(e.variants&&t.extra_price.swatch_extra_price_type.includes(1)){let o=[],n=[],i=[],r=[];t.extra_price.swatch_extra_variant.forEach((t,a)=>{t?e.variants.forEach(e=>{e.id.includes(t)&&(o.push(e.id),n.push(e.price),i.push(e.inventoryQuantity),r.push(e.sku))}):(o.push(""),n.push(""),i.push(""),r.push(""))}),t.extra_price.swatch_extra_variant_id=o,t.extra_price.swatch_extra_variant_price=n,t.extra_price.swatch_extra_variant_quantity=i,t.extra_price.swatch_extra_variant_sku=r}}else if(6==t.option_type){if(e.variants&&t.extra_price.button_extra_price_type.includes(1)){let o=[],n=[],i=[],r=[];t.extra_price.button_extra_variant.forEach((t,a)=>{t?e.variants.forEach(e=>{e.id.includes(t)&&(o.push(e.id),n.push(e.price),i.push(e.inventoryQuantity),r.push(e.sku))}):(o.push(""),n.push(""),i.push(""),r.push(""))}),t.extra_price.button_extra_variant_id=o,t.extra_price.button_extra_variant_price=n,t.extra_price.button_extra_variant_quantity=i,t.extra_price.button_extra_variant_sku=r}}else if(7==t.option_type)e.variants&&1==t.extra_price.file_upload_extra_price_type&&t.extra_price.file_upload_extra_variant&&e.variants.forEach(e=>{e.id.includes(t.extra_price.file_upload_extra_variant)&&(t.extra_price.file_upload_extra_variant_id=e.id,t.extra_price.file_upload_extra_variant_price=e.price,t.extra_price.file_upload_extra_variant_quantity=e.inventoryQuantity,t.extra_price.file_upload_extra_variant_sku=e.sku)});else if(10==t.option_type)e.variants&&1==t.extra_price.color_picker_extra_price_type&&t.extra_price.color_picker_extra_variant&&e.variants.forEach(e=>{e.id.includes(t.extra_price.color_picker_extra_variant)&&(t.extra_price.color_picker_extra_variant_id=e.id,t.extra_price.color_picker_extra_variant_price=e.price,t.extra_price.color_picker_extra_variant_quantity=e.inventoryQuantity,t.extra_price.color_picker_extra_variant_sku=e.sku)});else if(11==t.option_type)e.variants&&1==t.extra_price.text_area_extra_price_type&&t.extra_price.text_area_extra_variant&&e.variants.forEach(e=>{e.id.includes(t.extra_price.text_area_extra_variant)&&(t.extra_price.text_area_extra_variant_id=e.id,t.extra_price.text_area_extra_variant_price=e.price,t.extra_price.text_area_extra_variant_quantity=e.inventoryQuantity,t.extra_price.text_area_extra_variant_sku=e.sku)});else if(12==t.option_type){if(e.variants&&t.extra_price.dropdown_thumbnail_extra_price_type.includes(1)){let o=[],n=[],i=[],r=[];t.extra_price.dropdown_thumbnail_extra_variant.forEach((t,a)=>{t?e.variants.forEach(e=>{e.id.includes(t)&&(o.push(e.id),n.push(e.price),i.push(e.inventoryQuantity),r.push(e.sku))}):(o.push(""),n.push(""),i.push(""),r.push(""))}),t.extra_price.dropdown_thumbnail_extra_variant_id=o,t.extra_price.dropdown_thumbnail_extra_variant_price=n,t.extra_price.dropdown_thumbnail_extra_variant_quantity=i,t.extra_price.dropdown_thumbnail_extra_variant_sku=r}}else 13==t.option_type&&e.variants&&1==t.extra_price.email_box_extra_price_type&&t.extra_price.email_box_extra_variant&&e.variants.forEach(e=>{e.id.includes(t.extra_price.email_box_extra_variant)&&(t.extra_price.email_box_extra_variant_id=e.id,t.extra_price.email_box_extra_variant_price=e.price,t.extra_price.email_box_extra_variant_quantity=e.inventoryQuantity,t.extra_price.email_box_extra_variant_sku=e.sku)})},e.common.getExtraPriceByOption=function(t,o){let n=0;return 0==t.option_type?0==t.extra_price.text_box_extra_price_type&&t.extra_price.text_box_extra_price?n=parseFloat(t.extra_price.text_box_extra_price):"platinum"==e.currentPlan&&1==t.extra_price.text_box_extra_price_type&&(n=parseFloat(t.extra_price.text_box_extra_variant_price)):1==t.option_type?0==t.extra_price.number_field_extra_price_type&&t.extra_price.number_field_extra_price?n=parseFloat(t.extra_price.number_field_extra_price):"platinum"==e.currentPlan&&1==t.extra_price.number_field_extra_price_type&&(n=parseFloat(t.extra_price.number_field_extra_variant_price)):2==t.option_type?0==t.extra_price.checkbox_extra_price_type[o]?t.extra_price.checkbox_extra_price[o]&&(n+=parseFloat(t.extra_price.checkbox_extra_price[o])):"platinum"==e.currentPlan&&1==t.extra_price.checkbox_extra_price_type[o]&&t.extra_price.checkbox_extra_variant[o]&&(n+=parseFloat(t.extra_price.checkbox_extra_variant_price[o])):3==t.option_type?0==t.extra_price.dropdown_extra_price_type[o]?n=parseFloat(t.extra_price.dropdown_extra_price[o]):"platinum"==e.currentPlan&&1==t.extra_price.dropdown_extra_price_type[o]&&(n=parseFloat(t.extra_price.dropdown_extra_variant_price[o])):4==t.option_type?0==t.extra_price.radio_button_extra_price_type[o]?t.extra_price.radio_button_extra_price[o]&&(n+=parseFloat(t.extra_price.radio_button_extra_price[o])):"platinum"==e.currentPlan&&1==t.extra_price.radio_button_extra_price_type[o]&&t.extra_price.radio_button_extra_variant[o]&&(n+=parseFloat(t.extra_price.radio_button_extra_variant_price[o])):5==t.option_type?0==t.extra_price.swatch_extra_price_type[o]?t.extra_price.swatch_extra_price[o]&&(n=parseFloat(t.extra_price.swatch_extra_price[o])):"platinum"==e.currentPlan&&1==t.extra_price.swatch_extra_price_type[o]&&t.extra_price.swatch_extra_variant[o]&&(n=parseFloat(t.extra_price.swatch_extra_variant_price[o])):6==t.option_type?0==t.extra_price.button_extra_price_type[o]?t.extra_price.button_extra_price[o]&&(n+=parseFloat(t.extra_price.button_extra_price[o])):"platinum"==e.currentPlan&&1==t.extra_price.button_extra_price_type[o]&&t.extra_price.button_extra_variant[o]&&(n+=parseFloat(t.extra_price.button_extra_variant_price[o])):7==t.option_type?0==t.extra_price.file_upload_extra_price_type&&t.extra_price.file_upload_extra_price?n=parseFloat(t.extra_price.file_upload_extra_price):"platinum"==e.currentPlan&&1==t.extra_price.file_upload_extra_price_type&&(n=parseFloat(t.extra_price.file_upload_extra_variant_price)):11==t.option_type?0==t.extra_price.text_area_extra_price_type&&t.extra_price.text_area_extra_price?n=parseFloat(t.extra_price.text_area_extra_price):"platinum"==e.currentPlan&&1==t.extra_price.text_area_extra_price_type&&(n=parseFloat(t.extra_price.text_area_extra_variant_price)):10==t.option_type?0==t.extra_price.color_picker_extra_price_type&&t.extra_price.color_picker_extra_price?n=parseFloat(t.extra_price.color_picker_extra_price):"platinum"==e.currentPlan&&1==t.extra_price.color_picker_extra_price_type&&(n=parseFloat(t.extra_price.color_picker_extra_variant_price)):12==t.option_type?0==t.extra_price.dropdown_thumbnail_extra_price_type[o]?n=parseFloat(t.extra_price.dropdown_thumbnail_extra_price[o]):"platinum"==e.currentPlan&&1==t.extra_price.dropdown_thumbnail_extra_price_type[o]&&(n=parseFloat(t.extra_price.dropdown_thumbnail_extra_variant_price[o])):13==t.option_type&&(0==t.extra_price.email_box_extra_price_type&&t.extra_price.email_box_extra_price?n=parseFloat(t.extra_price.email_box_extra_price):"platinum"==e.currentPlan&&1==t.extra_price.email_box_extra_price_type&&(n=parseFloat(t.extra_price.email_box_extra_variant_price))),n},e.common.concatSkuStringValue=function(t){let o=e.settings.sku_separator;return t?`${o}${t}`:""}}(e,o,n),function(e){e.common.checkAppliedOptionSet=function({optionSet:e,customer:t,collections:o,productId:n,tags:i,variantId:r}){let a=null,c=e.apply_to,l=e.customer_ids?e.customer_ids.split(","):[],p=e.customer_tags?e.customer_tags.split(","):[];if(1==c&&!t.id)return;if(2==c){if(null!==t.id)return}else if(3==c){if(null==t.id)return;if(-1==l.indexOf(String(t.id)))return}else if(4==c){if(null==t.tags)return;if(0==p.filter(e=>t.tags.includes(String(e))).length)return}let s=e.product_condition_type,d=e.product_ids?e.product_ids.split(","):[],u=e.product_collections?e.product_collections.split(","):[],_=e.product_tags?e.product_tags.split(","):[],m=e.specific_variant_ids?e.specific_variant_ids.split(","):[];if(0==s)a=e;else if(1==s)-1!==d.indexOf(String(n))&&(a=e);else if(2==s){o.filter(e=>u.includes(String(e))).length>0&&(a=e)}else if(3==s){i.filter(e=>_.includes(String(e))).length>0&&(a=e)}else 4==s&&-1!==m.indexOf(String(r))&&(a=e);let y=e.exclude_product_type,h=e.exclude_product_tags?e.exclude_product_tags.split(","):[];if(1===y){i.filter(e=>h.includes(String(e))).length&&(a=null)}return a},e.common.getAllExtraVariant=function(e){let t=[];return e&&e.options.forEach(e=>{1!=e.extra_price.text_box_extra_price_type||""===e.extra_price.text_box_extra_variant||t.includes(e.extra_price.text_box_extra_variant)||t.push(e.extra_price.text_box_extra_variant),1!=e.extra_price.email_box_extra_price_type||""===e.extra_price.email_box_extra_variant||t.includes(e.extra_price.email_box_extra_variant)||t.push(e.extra_price.email_box_extra_variant),1!=e.extra_price.number_field_extra_price_type||""===e.extra_price.number_field_extra_variant||t.includes(e.extra_price.number_field_extra_variant)||t.push(e.extra_price.number_field_extra_variant),e.extra_price.checkbox_extra_price_type.includes(1)&&e.extra_price.checkbox_extra_variant&&e.extra_price.checkbox_extra_variant.forEach(e=>{""===e||t.includes(e)||t.push(e)}),e.extra_price.dropdown_extra_price_type.includes(1)&&e.extra_price.dropdown_extra_variant&&e.extra_price.dropdown_extra_variant.forEach(e=>{""===e||t.includes(e)||t.push(e)}),e.extra_price.dropdown_thumbnail_extra_variant&&e.extra_price.dropdown_thumbnail_extra_variant.forEach(e=>{""===e||t.includes(e)||t.push(e)}),e.extra_price.radio_button_extra_price_type.includes(1)&&e.extra_price.radio_button_extra_variant&&e.extra_price.radio_button_extra_variant.forEach(e=>{""===e||t.includes(e)||t.push(e)}),e.extra_price.swatch_extra_price_type.includes(1)&&e.extra_price.swatch_extra_variant&&e.extra_price.swatch_extra_variant.forEach(e=>{""===e||t.includes(e)||t.push(e)}),e.extra_price.button_extra_price_type.includes(1)&&e.extra_price.button_extra_variant&&e.extra_price.button_extra_variant.forEach(e=>{""===e||t.includes(e)||t.push(e)}),1!=e.extra_price.file_upload_extra_price_type||""===e.extra_price.file_upload_extra_variant||t.includes(e.extra_price.file_upload_extra_variant)||t.push(e.extra_price.file_upload_extra_variant),1!=e.extra_price.color_picker_extra_price_type||""===e.extra_price.color_picker_extra_variant||t.includes(e.extra_price.color_picker_extra_variant)||t.push(e.extra_price.color_picker_extra_variant),1!=e.extra_price.text_area_extra_price_type||""===e.extra_price.text_area_extra_variant||t.includes(e.extra_price.text_area_extra_variant)||t.push(e.extra_price.text_area_extra_variant)}),t},e.common.getDataExtraVariantByIds=async function(t,o){const{apiDomain:n}=e,r=o.shop.domain;let a=[],c=await i.a.post(n+"/product/get-variant-by-ids",{shop:r,id:t});if(c.data.success){let e=c.data.productVariants.data.productVariants.edges;e&&e.length&&e.forEach(e=>{e.node&&a.push(e.node)})}return a},e.common.disableDefaultEventInput=function(t){const o=4!==t||window.bss_admin_option?".bss-po-specific-variant:not(.bss-po-specific-variant)":".bss-po-product-page.bss-po-specific-variant",n=document.querySelectorAll(o+' [id*="po_text_box"]'),i=document.querySelectorAll(o+' [id*="po_number_field"]'),r=document.querySelectorAll(o+'[id*="po_email_box"]');function a(e){13==e.keyCode&&e.preventDefault()}n.forEach(t=>{4567!=e.storeId&&t.addEventListener("keydown",a),t.addEventListener("input",()=>{e.helper.addEventListenerInput(t)})}),r.forEach(t=>{t.addEventListener("keydown",a),t.addEventListener("input",()=>{e.helper.addEventListenerInput(t)})}),i.forEach(e=>{e.addEventListener("keydown",a)})},e.common.addEventToOption=function({option:t,elementOfOption:o,currentLabel:n,selector:i,optionSetConditionType:r}){const a=t.option_type,c=t.id;if(0==a){const a=o;let l="#countCharacter"+c,p="width: 30%; margin-right: 1%; font-size: small; color: #c4c4c4; white-space: nowrap; text-align: right;";e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r}),a&&a.addEventListener("input",(function(){e.po.validateOptionOnProductPage({option:t,element:a,selector:i,optionSetConditionType:r}),e.po.generateMessageOnProductPage(i),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r}),parseInt(e.settings.count_character)&&t.max_character&&(document.querySelector(l)?document.querySelector(l).innerHTML=a.value.length+"/"+t.max_character+" "+e.settings.characters_text:t.min_character?t.min_character<a.value.length&&a.insertAdjacentHTML("afterend",`<span id="countCharacter${c}" style="${p}" >${a.value.length+"/"+t.max_character+" "+e.settings.characters_text}</span>`):a.insertAdjacentHTML("afterend",`<span id="countCharacter${c}" style="${p}" >${a.value.length+"/"+t.max_character+" "+e.settings.characters_text}</span>`))}))}else if(1==a){let a=o;e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r}),a&&a.addEventListener("input",(function(){e.po.validateOptionOnProductPage({option:t,element:a,selector:i,optionSetConditionType:r}),e.po.generateMessageOnProductPage(i),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r})}))}else if(2==a){let a=o,c=i+":checked";const{checkbox_value_style:l}=e.common.getCssAdvancedByOptionType(t.option_type);e.po.handleSelectQuantityByOptionType({option:t,selector:i,checkedSelectors:c,optionSetConditionType:r}),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r}),e.po.displayChosenSwatchOptionTitles({option:t,checkedSelectors:c,swatches_value_style:l,optionSetConditionType:r}),Array.prototype.forEach.call(a,(function(o){o&&o.addEventListener("click",(function(){e.po.validateOptionOnProductPage({option:t,element:o,selector:i,optionSetConditionType:r}),e.po.handleSelectQuantityByOptionType({option:t,selector:i,checkedSelectors:c,swatchSelected:o,optionSetConditionType:r}),e.po.generateMessageOnProductPage(i),e.po.displayChosenSwatchOptionTitles({option:t,checkedSelectors:c,swatches_value_style:l,optionSetConditionType:r}),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r})}))}))}else if(3==a){let o=document.querySelector("#bss-po_dropdown_menu"+t.id),a=null;o&&(a=o.querySelector("#bss-po-dropdown-selected-option"));let l=i+' option[id*="po_dropdown"]:checked',p="";(e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId)&&(p=i.match(/'(\d+)'/)[1]);const s=`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?"color: "+e.settings.value_color:null}; font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`;e.po.handleSelectQuantityByOptionType({option:t,selector:i,checkedSelectors:l,optionSetConditionType:r}),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:o,currentLabel:n,optionSetConditionType:r,idProduct:p}),e.po.displayChosenSwatchOptionTitles({option:t,checkedSelectors:l,swatches_value_style:s,optionSetConditionType:r});const d=document.querySelector("#valueSearchWithDropdown"+c);d&&d.addEventListener("input",(function(){e.po.searchDropdown(o,d)}));const u=new MutationObserver(a=>{a.forEach(a=>{e.po.validateOptionOnProductPage({option:t,element:o,selector:i,optionSetConditionType:r}),e.po.handleSelectQuantityByOptionType({option:t,selector:i,checkedSelectors:l,optionSetConditionType:r}),e.po.generateMessageOnProductPage(i),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:o,currentLabel:n,optionSetConditionType:r,idProduct:p}),e.po.displayChosenSwatchOptionTitles({option:t,checkedSelectors:l,swatches_value_style:s,optionSetConditionType:r})})});a&&u.observe(a,{childList:!0})}else if(4==a){let a=o,c=i+":checked";const{radio_value_style:l}=e.common.getCssAdvancedByOptionType(t.option_type);e.po.handleSelectQuantityByOptionType({option:t,selector:i,checkedSelectors:c,optionSetConditionType:r}),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r}),e.po.displayChosenSwatchOptionTitles({option:t,checkedSelectors:c,swatches_value_style:l,optionSetConditionType:r}),a.forEach((function(o){o&&o.addEventListener("click",(function(){e.po.validateOptionOnProductPage({option:t,element:o,selector:i,optionSetConditionType:r}),e.po.handleSelectQuantityByOptionType({option:t,selector:i,checkedSelectors:c,swatchSelected:o,optionSetConditionType:r}),e.po.generateMessageOnProductPage(i),e.po.displayChosenSwatchOptionTitles({option:t,checkedSelectors:c,swatches_value_style:l,optionSetConditionType:r}),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r})}))}))}else if(5==a){let a=i+":checked",c=o;const l=`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?"color: "+e.settings.value_color:null}; font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`;e.po.displayChosenSwatchOptionTitles({option:t,checkedSelectors:a,swatches_value_style:l,optionSetConditionType:r}),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:c,currentLabel:n,optionSetConditionType:r}),e.po.handleSelectQuantityByOptionType({option:t,selector:i,checkedSelectors:a,optionSetConditionType:r}),Array.prototype.forEach.call(c,(function(o){o&&o.addEventListener("click",(function(){e.po.validateOptionOnProductPage({option:t,element:o,selector:i,optionSetConditionType:r}),e.po.handleSelectQuantityByOptionType({option:t,selector:i,checkedSelectors:a,swatchSelected:o,optionSetConditionType:r}),e.po.generateMessageOnProductPage(i),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:c,currentLabel:n,optionSetConditionType:r}),e.po.displayChosenSwatchOptionTitles({option:t,checkedSelectors:a,swatches_value_style:l,optionSetConditionType:r}),setTimeout(()=>{1==parseInt(e.settings.value_color_type)&&document.querySelectorAll(".swatch_value").forEach(t=>{t.style.color=e.settings.value_color})},50)}))}))}else if(6==a){let a=o,c=i+":checked";const l=e.currentPlan&&"free"!==e.currentPlan?`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?`color: ${e.settings.value_color};`:""} font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`:"";e.po.displayChosenSwatchOptionTitles({option:t,checkedSelectors:c,swatches_value_style:l,optionSetConditionType:r}),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r}),e.po.handleSelectQuantityByOptionType({option:t,selector:i,checkedSelectors:c,optionSetConditionType:r}),Array.prototype.forEach.call(a,(function(o){o&&o.addEventListener("click",(function(){e.po.handleSelectQuantityByOptionType({option:t,selector:i,checkedSelectors:c,swatchSelected:o,optionSetConditionType:r}),e.po.validateOptionOnProductPage({option:t,element:o,selector:i,optionSetConditionType:r}),e.po.generateMessageOnProductPage(i),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r}),e.po.displayChosenSwatchOptionTitles({option:t,checkedSelectors:c,swatches_value_style:l,optionSetConditionType:r})}))}))}else if(7==a){let n=o;n&&n.addEventListener("change",(function(){e.po.validateOptionOnProductPage({option:t,element:n,selector:i,optionSetConditionType:r}),e.po.generateMessageOnProductPage(i),e.po.uploadFile({option:t,selector:i,optionSetConditionType:r})}))}else if(8==a&&e.currentPlan&&"free"!==e.currentPlan){let n="";(e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId)&&(n=i.match(/'(\d+)'/)[1]),e.po.dateTimePicker(t,n);let a=o;a&&a.addEventListener("input",(function(){e.po.validateOptionOnProductPage({option:t,element:a,selector:i,optionSetConditionType:r}),e.po.generateMessageOnProductPage(i)}))}else if(10==a&&e.currentPlan&&"free"!==e.currentPlan){let a=o,c=document.querySelector(`[name="po_color_picker_value${t.id}"]`);(e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId)&&(c=a.closest("[bss-po-featured-product-key]").querySelector(`[name="po_color_picker_value${t.id}"]`)),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:c,currentLabel:n,optionSetConditionType:r}),a&&a.addEventListener("change",(function(){e.po.displayColorPickerWithChosenValue(t,i),e.po.validateOptionOnProductPage({option:t,element:c,selector:i,optionSetConditionType:r}),e.po.generateMessageOnProductPage(i),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:c,currentLabel:n,optionSetConditionType:r})}))}else if(11==a){const a=o;let l="#countCharacter"+c,p="width: 30%; margin-right: 1%; font-size: small; color: #c4c4c4; white-space: nowrap; text-align: right;";e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r}),a&&a.addEventListener("input",(function(){e.po.validateOptionOnProductPage({option:t,element:a,selector:i,optionSetConditionType:r}),e.po.generateMessageOnProductPage(i),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r}),parseInt(e.settings.count_character)&&t.max_character&&(document.querySelector(l)?document.querySelector(l).innerHTML=a.value.length+"/"+t.max_character+" "+e.settings.characters_text:t.min_character?t.min_character<a.value.length&&a.insertAdjacentHTML("afterend",`<span id="countCharacter${c}" style="${p}" >${a.value.length+"/"+t.max_character+" "+e.settings.characters_text}</span>`):a.insertAdjacentHTML("afterend",`<span id="countCharacter${c}" style="${p}" >${a.value.length+"/"+t.max_character+" "+e.settings.characters_text}</span>`))}))}else if(12==a){let a=document.querySelector("#po_dropdown_menu_thumbnail-div"+t.id),l=null;a&&(l=a.querySelector("#po-dropdown-selected-option"));let p=i+' option[id*="po_dropdown"]:checked',s="";(e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId)&&(s=i.match(/'(\d+)'/)[1]);const d=`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?"color: "+e.settings.value_color:null}; font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`;e.po.handleSelectQuantityByOptionType({option:t,selector:i,checkedSelectors:p,optionSetConditionType:r}),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r,idProduct:s}),e.po.displayChosenSwatchOptionTitles({option:t,checkedSelectors:p,swatches_value_style:d,optionSetConditionType:r});const u=document.querySelector("#valueSearchWithThumbnail"+c);u&&u.addEventListener("input",(function(){e.po.searchDropdownWithThumbnail(a,u)}));const _=new MutationObserver(c=>{c.forEach(c=>{e.po.validateOptionOnProductPage({option:t,element:o,selector:i,optionSetConditionType:r}),e.po.handleSelectQuantityByOptionType({option:t,selector:i,checkedSelectors:p,optionSetConditionType:r}),e.po.generateMessageOnProductPage(i),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r,idProduct:s}),e.po.displayChosenSwatchOptionTitles({option:t,checkedSelectors:p,swatches_value_style:d,optionSetConditionType:r})})});l&&_.observe(l,{childList:!0})}if(13==a){const a=o;let l="#countCharacter"+c,p="width: 30%; margin-right: 1%; font-size: small; color: #c4c4c4; white-space: nowrap; text-align: right;";e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r}),a&&a.addEventListener("input",(function(){e.po.validateOptionOnProductPage({option:t,element:a,selector:i,optionSetConditionType:r}),e.po.generateMessageOnProductPage(i),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:a,currentLabel:n,optionSetConditionType:r}),parseInt(e.settings.count_character)&&t.max_character&&(document.querySelector(l)?document.querySelector(l).innerHTML=a.value.length+"/"+t.max_character+" "+e.settings.characters_text:t.min_character?t.min_character<a.value.length&&a.insertAdjacentHTML("afterend",`<span id="countCharacter${c}" style="${p}" >${a.value.length+"/"+t.max_character+" "+e.settings.characters_text}</span>`):a.insertAdjacentHTML("afterend",`<span id="countCharacter${c}" style="${p}" >${a.value.length+"/"+t.max_character+" "+e.settings.characters_text}</span>`))}))}},e.common.chosenOptionsMapToLinePropertiesObject=function(t){let o={};return t.forEach((t,n)=>{980==e.storeId?o[n]=t:o[" "+n]=t}),o},e.common.buyItNowGetVariantLineItems=function(t,o,n){let i=[],r=o?Number(o):1,a=t.get("variantData"),c=t.get("optionQuantity");return t.forEach((o,l)=>{if(!["totalExtraPrice","totalVariantExtraPrice","variantData","optionQuantity","skuOptionValueString","skuOptionValueString_1","variantProductIdApplyOptionSet"].includes(l))if(a[l])if(a[l].id){let t=o,n=c[l]&&c[l][t];if(n&&(t=`${n} x ${t}`),e.marketStatus)i=e.common.convertObjVariantToLineItems(i,a[l],n||r);else if(t.includes("/po/")&&t.includes(", ")){const e=t.split(", ").map((e,t)=>({key:`${l}-File${t+1}`,value:e}));i.push({variantId:"gid://shopify/ProductVariant/"+a[l].id,quantity:n?n*r:r,customAttributes:e})}else i.push({variantId:"gid://shopify/ProductVariant/"+a[l].id,quantity:n?n*r:r,customAttributes:{key:l,value:t}})}else if("string"==typeof t.get(l)){let o=[];t.get(l).split(", ").forEach(t=>{let p=t,s=c[l]&&c[l][p];const d=s?`${s} x ${p}`:p;e.marketStatus?a[l][t]&&a[l][t].id&&(i=e.common.convertObjVariantToLineItems(i,a[l][t],s||r)):(a[l][t]?i.push({variantId:"gid://shopify/ProductVariant/"+a[l][t].id,quantity:s?s*r:r,customAttributes:{key:l,value:d}}):o.push(d),n.push({key:l,value:o.join(", ").toString()}))})}else{let o=[];t.get(l).forEach(t=>{let p=JSON.parse(t).title,s=c[l]&&c[l][p],d=s?`${s} x ${p}`:p;e.marketStatus?a[l][p]&&a[l][p].id&&(i=e.common.convertObjVariantToLineItems(i,a[l][p],s||r)):(a[l][p]?i.push({variantId:"gid://shopify/ProductVariant/"+a[l][p].id,quantity:s?s*r:r,customAttributes:{key:l,value:d}}):o.push(d),n.push({key:l,value:o.join(", ").toString()}))})}else if(!e.marketStatus)if("object"==typeof o){let e=[];t.get(l).forEach(t=>{let o=JSON.parse(t).title,n=c[l]&&c[l][o],i=n?`${n} x ${o}`:o;e.push(i)}),n.push({key:l,value:e.join(", ").toString()})}else{let e=t.get(l),o=c[l]&&c[l][e];o&&(e=`${o} x ${e}`),n.push({key:l,value:e})}}),i},e.common.getBuyItNowLineItems=function(t,o,n,i,r,a,c){let l=[];return e.marketStatus?l=e.common.marketBuyItNowLineItems(t,o,n,i,r,a):t&&n||c&&!t&&n?(l=[{variantId:"gid://shopify/ProductVariant/"+r.id,quantity:Number(n)},{title:o,originalUnitPrice:t,taxable:r.taxable,sku:c,quantity:Number(n),customAttributes:a}],i.length&&l.push(...i)):t&&!n||c&&!t&&!n?(l=[{variantId:"gid://shopify/ProductVariant/"+r.id,quantity:1},{title:o,originalUnitPrice:t,taxable:r.taxable,sku:c,quantity:1,customAttributes:a}],i.length&&l.push(...i)):!t&&n?(l=[{variantId:"gid://shopify/ProductVariant/"+r.id,quantity:Number(n),customAttributes:a}],i.length&&l.push(...i)):(l=[{variantId:"gid://shopify/ProductVariant/"+r.id,quantity:1,customAttributes:a}],i.length&&l.push(...i)),l},e.common.marketBuyItNowLineItems=function(e,t,o,n,i,r){let a=[],c=o?Number(o):1;if(e>0){a=[{title:t,originalUnitPrice:e,taxable:i.taxable,sku:"",quantity:c,customAttributes:r}],n.length&&a.push(...n);let o=a.find(e=>e.variantId&&e.variantId.includes(i.id));o?o.quantity+=item.quantity:a.push({variantId:"gid://shopify/ProductVariant/"+i.id,quantity:c})}else if(n.length){a.push(...n);let e=a.find(e=>e.variantId&&e.variantId.includes(i.id));e?(e.quantity+=item.quantity,e.customAttributes=r):a.push({variantId:"gid://shopify/ProductVariant/"+i.id,quantity:c,customAttributes:r})}else a=[{variantId:"gid://shopify/ProductVariant/"+i.id,quantity:c,customAttributes:r}];return a},e.common.convertObjVariantToLineItems=function(e,t,o){let n=e;return n.find(e=>e.variantId&&e.variantId.includes(t.id))?n.find(e=>e.variantId&&e.variantId.includes(t.id)).quantity+=o:n.push({variantId:"gid://shopify/ProductVariant/"+t.id,quantity:o}),n}}(e),L(e,t),function(e,t,o){e.po={},e.po.appliedOptionSetForOneProduct=!1,e.po.lineItems=[],e.po.getAppliedOptionSetOnProductPage=function(o){let n=null;const i=e.optionSets,{customer:r,product:a}=t;let c,l,p;"function"==typeof bssFixSupportCustomGetAppliedOptionSetOnProductPage?(customGetAppliedOptionSetOnProductPage=bssFixSupportCustomGetAppliedOptionSetOnProductPage(e,o,c,l,p,a),c=customGetAppliedOptionSetOnProductPage.productId,l=customGetAppliedOptionSetOnProductPage.tags,p=customGetAppliedOptionSetOnProductPage.collections):e.page.isHomePage()?(c=o.id,l=o.tags,p=o.collections):(c=a.id,l=a.tags,p=t.collections);for(let t=0;t<i.length;t++){const o=i[t];if(n=e.common.checkAppliedOptionSet({optionSet:o,customer:r,collections:p,productId:c,tags:l}),n)break}return e.po.appliedOptionSetForOneProduct=n,n},e.po.getAppliedOptionSetOnProductPageForVariant=function({variantId:o,productData:n}){let i=null;const r=e.optionSets,{customer:a,product:c}=t;let l,p,s;e.page.isHomePage()?(l=n.id,p=n.tags,s=n.collections):(l=c.id,p=c.tags,s=t.collections);for(let t=0;t<r.length;t++){const n=r[t];if(4===n.product_condition_type&&(i=e.common.checkAppliedOptionSet({optionSet:n,customer:a,collections:s,productId:l,tags:p,variantId:o}),i))break}return e.po.appliedOptionSetForSpecificVariant=i,e.po.variantProductIdApplyOptionSet=o,i},e.po.getAppliedOptionSetOnQVCollectionPage=async function(){let o=null;const n=e.optionSets;let{customer:i,product:r,collections:a}=t;if(e.page.isCollectionPage()&&document.querySelector(".bss-po-option-set")||6456==e.storeId){let t="";t="function"==typeof bssFixSupportGetAppliedOptionSetOnQVCollectionPage?bssFixSupportGetAppliedOptionSetOnQVCollectionPage(e,t):document.querySelector(".bss-po-option-set").getAttribute(["data-product-id"]);const r=await e.helper.callSearchLiquidApi([`id:"${t}"`]);a=r[0].collections;const c=r[0].tags;for(let r=0;r<n.length;r++){const l=n[r];if(o=e.common.checkAppliedOptionSet({optionSet:l,customer:i,collections:a,productId:t,tags:c}),o)break}return e.po.appliedOptionSetForOneProduct=o,{data:r[0],appliedOptionSet:o}}},e.po.getTextBoxHtml=function({option:t,requiredSpan:o,help_text_tooltip:n,help_text_content:i,appliedOptionSetID:r,position:a=0,optionSetConditionType:c}){const{textbox_label_style:l,textbox_value_style:p,textbox_input_style:s,textbox_input_parent_style:d}=e.common.getCssAdvancedByOptionType(t.option_type);let u="";return u+=`<label class="po-label" for="po_text_box${t.id}" id="po_label${t.id}"><span style="${l}">${t.label_on_product||""}`,u+=o,u+=0==t.help_text_type?n:"",u+="</span>",u+=1==t.help_text_type&&1==t.help_text_position?i:"",u+="</label>",u+=1==t.help_text_type&&0==t.help_text_position?i:"",u+=`<div class="po-option--container${7539==e.storeId?" custom-texbox":""}" style="${d}" onclick="outlineElement(this)">`,u+=`<input class="po-option--type-text" type="text" name="po_text_box${t.id}" id="po_text_box${t.id}" placeholder="${t.placeholder}" value="${t.default_value}" style="${p+s}" onchange="BSS_PO.po.handleChangeValue({selector: this, optionType: 'text_box', appliedOptionSetID: ${r}, optionID: ${t.id}, labelOnProduct: '${e.helper.formatOptionLabel(t.label_on_product)}', maxSelector: ${t.max_selector}, position: ${a}, optionSetConditionType: ${c}})">`,u+="</div>",u+=1==t.help_text_type&&2==t.help_text_position?i:"",u},e.po.getEmailBoxHtml=function({option:t,requiredSpan:o,help_text_tooltip:n,help_text_content:i,appliedOptionSetID:r,position:a=0,optionSetConditionType:c}){const{textbox_label_style:l,textbox_value_style:p,textbox_input_style:s,textbox_input_parent_style:d}=e.common.getCssAdvancedByOptionType(t.option_type);let u="";return u+=`<label class="po-label" for="po_email_box${t.id}" id="po_label${t.id}"><span style="${l}">${t.label_on_product}`,u+=o,u+=0==t.help_text_type?n:"",u+="</span>",u+=1==t.help_text_type&&1==t.help_text_position?i:"",u+="</label>",u+=1==t.help_text_type&&0==t.help_text_position?i:"",u+=`<div class="po-option--container" style="${d}" onclick="outlineElement(this)">`,u+=`<input class="po-option--type-text" type="text" name="po_email_box${t.id}" id="po_email_box${t.id}" placeholder="${t.placeholder}" value="${t.default_value}" style="${p+s}" onchange="BSS_PO.po.handleChangeValue({selector: this, optionType: 'email_box',  appliedOptionSetID: ${r}, optionID: ${t.id}, labelOnProduct: '${t.label_on_product}', maxSelector: ${t.max_selector}, position: ${a}, optionSetConditionType: ${c}})">`,u+="</div>",u+=1==t.help_text_type&&2==t.help_text_position?i:"",u},e.po.getTextAreaHtml=function({option:t,requiredSpan:o,help_text_tooltip:n,help_text_content:i,appliedOptionSetID:r,position:a=0,optionSetConditionType:c}){const{text_area_label_style:l,text_area_value_style:p,text_area_input_style:s,text_area_input_parent_style:d}=e.common.getCssAdvancedByOptionType(t.option_type);let u="";return u+=`<label class="po-label" for="po_text_area${t.id}" id="po_label${t.id}"><span style="${l}">${t.label_on_product}`,u+=o,u+=0==t.help_text_type?n:"",u+="</span>",u+=1==t.help_text_type&&1==t.help_text_position?i:"",u+="</label>",u+=1==t.help_text_type&&0==t.help_text_position?i:"",u+=`<div class="po-option--container" style="${d}" onclick="outlineElement(this)">`,u+=`<textarea class="po-option--type-text" name="po_text_area${t.id}" id="po_text_area${t.id}" placeholder="${t.placeholder}" style="${p+s}" onchange="BSS_PO.po.handleChangeValue({selector: this, optionType: 'text_area', appliedOptionSetID: ${r}, optionID: ${t.id}, labelOnProduct: '${e.helper.formatOptionLabel(t.label_on_product)}', maxSelector: ${t.max_selector}, position: ${a}, optionSetConditionType: ${c}})" oninput="BSS_PO.helper.autoResizeTextArea(this)" onkeydown="BSS_PO.helper.autoResizeTextAreaOnEnter(event, this)">${t.default_value}</textarea>`,u+="</div>",u+=1==t.help_text_type&&2==t.help_text_position?i:"",u},e.po.getNumberFieldHtml=function({option:t,requiredSpan:o,help_text_tooltip:n,help_text_content:i,appliedOptionSetID:r,position:a=0,optionSetConditionType:c}){const{number_label_style:l,number_value_style:p,number_input_style:s}=e.common.getCssAdvancedByOptionType(t.option_type);let d="";return d+=`<label class="po-label" for="po_number_field${t.id}" id="po_label${t.id}"><span style="${l}">${t.label_on_product}`,d+=o,d+=0==t.help_text_type?n:"",d+="</span>",d+=1==t.help_text_type&&1==t.help_text_position?i:"",d+="</label>",d+=1==t.help_text_type&&0==t.help_text_position?i:"",d+='<div class="po-option--container">',d+=`<input class="po-option--type-number" type="number" name="po_number_field${t.id}" style="${p+s}" id="po_number_field${t.id}" placeholder="${t.placeholder}" value="${t.default_value}" min="${t.min_value}" max="${t.max_value}" onchange="BSS_PO.po.handleChangeValue({selector: this, optionType: 'number_field', appliedOptionSetID: ${r}, optionID: ${t.id}, labelOnProduct: '${e.helper.formatOptionLabel(t.label_on_product)}', maxSelector: ${t.max_selector}, position: ${a}, optionSetConditionType: ${c}})">`,d+="</div>",d+=1==t.help_text_type&&2==t.help_text_position?i:"",d},e.po.getCheckboxHtml=function({option:t,requiredSpan:o,help_text_tooltip:n,help_text_content:i,appliedOptionSetID:r,position:a=0,optionSetConditionType:c}){let l="";const{checkbox_label_style:p,checkbox_value_style:s,checkbox_input_style:d}=e.common.getCssAdvancedByOptionType(t.option_type),{checkbox_value:u,default_value:_}=t;return l+=`<label class="po-label" id="po_label${t.id}"><span style="${p}">${t.label_on_product}`,l+=o,l+=0==t.help_text_type?n:"",l+="</span>",l+=1==t.help_text_type&&1==t.help_text_position?i:"",l+="</label>",l+=1==t.help_text_type&&0==t.help_text_position?i:"",l+=t.inline?'<div class="po-option--container__inline po-option--checkbox-container">':'<div class="po-option--container po-option--checkbox-container">',u.forEach((o,n)=>{l+=`<div class="po-option--checkbox-wrapper po-option__select-quantity" id="po_checkbox${n}">`,l+=`<div class="po-option--type-checkbox" style="${s}">`,l+=`<label class="po-label"><input style="${d}" type="checkbox" name="po_checkbox${t.id}" value='${o}' ${o==_&&"checked"} id="po_checkbox${n}" onchange="BSS_PO.po.handleChangeValue({selector: this, optionType: 'checkbox', appliedOptionSetID: ${r}, optionID: ${n}, labelOnProduct: '${e.helper.formatOptionLabel(t.label_on_product)}', maxSelector: ${t.max_selector}, position: ${a}, optionIdForCheckBoxOnly: ${t.id}, optionSetConditionType: ${c}})">${o}</label>`,l+="</div>",l+="</div>"}),l+="</div>",l+=1==t.help_text_type&&2==t.help_text_position?i:"",l},e.po.getDropdownMenuHtml=function({option:t,requiredSpan:o,help_text_tooltip:n,help_text_content:i,appliedOptionSetID:r,position:a=0,optionSetConditionType:c}){let l="";const{dropdown_label_style:p,dropdown_value_style:s,dropdown_input_style:d,dropdown_search_style:u,dropdown_display_search_style:_}=e.common.getCssAdvancedByOptionType(t.option_type),{dropdown_value:m,default_value:y}=t;l+=`<label class="po-label" for="po_dropdown_menu${t.id}" id="po_label${t.id}"><span style="${p}">${t.label_on_product}`,l+=o,l+=0==t.help_text_type?n:"",l+="</span>",l+=1==t.help_text_type&&1==t.help_text_position?i:"",l+="</label>",l+=1==t.help_text_type&&0==t.help_text_position?i:"",l+='<div class="po-option--container">',l+='<span class="form-arrow"><i class="bx bx-chevron-down"></i></span>',l+=`<div class="po-select-dropdown-thumbnail" id="bss-po_dropdown_menu${t.id}" onclick="BSS_PO.po.handleChangeValue({selector: this, optionType: 'dropdown_menu', appliedOptionSetID: ${r}, optionID: ${t.id}, labelOnProduct: '${e.helper.formatOptionLabel(t.label_on_product)}', maxSelector: ${t.max_selector}, position: ${a}, optionSetConditionType: ${c}})">`,l+=`<div class="po-dropdown-selected-option" id="bss-po-dropdown-selected-option" style="${d+s}">${y||t.placeholder_dropdown}<i class="po-dropdown-arrow po-dropdown-arrow-down"></i></div>`,l+='<div class="po-dropdown-list">',l+=`<div class="po-dropdown-option" id="searchWithDropdown" style="${t.dropdown_search_bar?_:"display: none;"}">\n                        <i class="fas fa-search icon-search"></i>                \n                        <input style="${u}"  type="text" placeholder="Search" id="valueSearchWithDropdown${t.id}" >\n                    </div>`,l+=`<div class="po-dropdown-option" data-value="${t.placeholder_dropdown}" style="${s}">\n                    <span>${t.placeholder_dropdown}</span>\n                  </div>`;for(let e=0;e<m.length;e++){let t=m[e].replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");l+=`<div class="po-dropdown-option" data-value="${t}" style="${s}">\n                            <span>${t}</span>\n                        </div>`}return l+="</div>",l+="</div>",l+=`<select class = "po-option--type-dropdown-menu dropdown-search" name="po_dropdown_menu${t.id}" style="display: none; ${d+s}" id="po_dropdown_menu${t.id}" key="po_${e.helper.formatOptionLabel(t.label_on_product)}" onchange="BSS_PO.po.handleChangeValue({selector: this, optionType: 'dropdown_menu', appliedOptionSetID: ${r}, optionID: ${t.id}, labelOnProduct: '${e.helper.formatOptionLabel(t.label_on_product)}', maxSelector: ${t.max_selector}, position: ${a}, optionSetConditionType: ${c}})">`,l+=`<option>${t.placeholder_dropdown}</option>`,m.forEach((e,o)=>{let n=e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");l+=`<option ${n==y&&"selected"} value="${n}" style="${s}" name="po_dropdown${t.id}" id="po_dropdown${o}">${n}</option>`}),l+="</select>",m.forEach((e,t)=>{l+=`<div class="po-option--dropdown-wrapper po-option__select-quantity" id="po_dropdown${t}"></div>`}),l+="</div>",l+=1==t.help_text_type&&2==t.help_text_position?i:"",l},e.po.getDropdownWithThumbnailMenuHtml=function({option:t,requiredSpan:o,help_text_tooltip:n,help_text_content:i,appliedOptionSetID:r,position:a=0,optionSetConditionType:c}){let l="";const{dropdown_thumbnail_label_style:p,dropdown_thumbnail_value_style:s,dropdown_thumbnail_search_style:d,dropdown_thumbnail_display_search_style:u}=e.common.getCssAdvancedByOptionType(t.option_type),{dropdown_thumbnail_value:_,dropdown_thumbnail_type:m,dropdown_color_value:y,cdn_image_value:h,default_value:f}=t;l+=`<label class="po-label" for="po_dropdown_menu_thumbnail${t.id}" id="po_label${t.id}"><span style="${p}">${t.label_on_product}`,l+=o,l+=0==t.help_text_type?n:"",l+="</span>",l+=1==t.help_text_type&&1==t.help_text_position?i:"",l+="</label>",l+=1==t.help_text_type&&0==t.help_text_position?i:"",l+='<div class="po-option--container custom-select-thumbnail">',l+=`<div class="po-select-dropdown-thumbnail" id="po_dropdown_menu_thumbnail-div${t.id}" onclick="BSS_PO.po.handleChangeValue({selector: this, optionType: 'dropdown_menu_thumbnail', appliedOptionSetID: ${r}, optionID: ${t.id}, labelOnProduct: '${e.helper.formatOptionLabel(t.label_on_product)}', maxSelector: ${t.max_selector}, position: ${a}, optionSetConditionType: ${c}})">`,l+=`<div class="po-dropdown-selected-option" id="po-dropdown-selected-option" style="${s}">${f||t.placeholder_dropdown}<i class="po-dropdown-thumbnail-arrow po-dropdown-thumbnail-arrow-down"></i></div>`,l+='<div class="po-dropdown-list">',l+=`<div class="po-dropdown-thumbnail-option" id="searchWithThumbnail" style="${t.dropdown_thumbnail_search_bar?u:"display: none;"}">\n                        <i class="fas fa-search icon-search"></i>                \n                        <input style="${d}" type="text" placeholder="Search" id="valueSearchWithThumbnail${t.id}" >\n                    </div>`,l+=`<div class="po-dropdown-thumbnail-option" data-value="${t.placeholder_dropdown}">\n                    <span>${t.placeholder_dropdown}</span>\n                  </div>`;for(let e=0;e<_.length;e++){let t=_[e].replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");0==m[e]?l+=`<div class="po-dropdown-thumbnail-option" data-value="${t}" style="${s}">\n                                <div class="po-dropdown-option-shape" style="background-color: ${y[e]}"></div>\n                                <span>${t}</span>\n                            </div>`:1==m[e]&&(l+=`<div class="po-dropdown-thumbnail-option" data-value="${t}">\n                                <img src="${h[e]}" alt="">\n                                <span>${t}</span>\n                            </div>`)}return l+="</div>",l+="</div>",l+=`<select class="po-option--type-dropdown-menu" name="po_dropdown_menu_thumbnail${t.id}" style="display: none; ${s}" id="po_dropdown_menu_thumbnail${t.id}" key="po_${e.helper.formatOptionLabel(t.label_on_product)}" onchange="BSS_PO.po.handleChangeValue({selector: this, optionType: 'dropdown_menu_thumbnail', appliedOptionSetID: ${r}, optionID: ${t.id}, labelOnProduct: '${e.helper.formatOptionLabel(t.label_on_product)}', maxSelector: ${t.max_selector}, position: ${a}, optionSetConditionType: ${c}})">`,l+=`<option>${t.placeholder_dropdown}</option>`,_.forEach((e,o)=>{let n=e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");l+=`<option ${n==f&&"selected"} value="${n}" style="${s}" name="po_dropdown${t.id}" id="po_dropdown${o}">${n}</option>`}),l+="</select>",_.forEach((e,t)=>{l+=`<div class="po-option--dropdown-thumbnail-wrapper po-option__select-quantity" id="po_dropdown${t}"></div>`}),l+="</div>",l+=1==t.help_text_type&&2==t.help_text_position?i:"",l},e.po.getRadioButtonHtml=function({option:t,requiredSpan:o,help_text_tooltip:n,help_text_content:i,appliedOptionSetID:r,position:a=0,optionSetConditionType:c}){const{radio_label_style:l,radio_value_style:p,radio_input_style:s}=e.common.getCssAdvancedByOptionType(t.option_type),{radio_button_value:d,default_value:u}=t;let _="";return _+=`<label class="po-label" id="po_label${t.id}" style="${l}"><span>${t.label_on_product}`,_+=o,_+=0==t.help_text_type?n:"",_+="</span>",_+=1==t.help_text_type&&1==t.help_text_position?i:"",_+="</label>",_+=1==t.help_text_type&&0==t.help_text_position?i:"",_+=t.inline?'<div class="po-option--container__inline po-option--radio-container">':'<div class="po-option--container po-option--radio-container">',d.forEach((o,n)=>{_+=`<div class="po-option--radioButton-wrapper po-option__select-quantity" id="po_radio_button${n}">`,_+=`<div class="po-option--type-radiobutton" style="${p}">`,_+=`<label class="po-label"><input type="radio" name="po_radio_button${t.id}" style="${s}" value="${o}" key="po_${e.helper.formatOptionLabel(t.label_on_product)}" ${o==u&&"checked"} id="po_radio_button${n}" onchange="BSS_PO.po.handleChangeValue({selector: this, optionType: 'radio_button', appliedOptionSetID: ${r}, optionID: ${n}, labelOnProduct: '${e.helper.formatOptionLabel(t.label_on_product)}', maxSelector: ${t.max_selector}, position: ${a}, optionIdForCheckBoxOnly: ${t.id}, optionSetConditionType: ${c}})">${o}</label>`,_+="</div>",_+="</div>"}),_+="</div>",_+=1==t.help_text_type&&2==t.help_text_position?i:"",_},e.po.getSwatchHtml=function({option:t,requiredSpan:o,help_text_tooltip:n,help_text_content:i,appliedOptionSetID:r,appliedOptionSet:a,position:c=0,optionSetConditionType:l}){let p="";t.max_selector?p=1==t.max_selector?"radio":"checkbox":(t.max_selector=t.color_value.length,p="checkbox");let s="";4610==e.storeId&&(s="class='po-title-value-inline'");const{swatch_label_style:d,swatch_value_style:u,swatch_input_style:_,swatch_input2_style:m,swatch_tooltip_style:y}=e.common.getCssAdvancedByOptionType(t.option_type),{swatch_label:h,swatch_type:f,color_value:b,image_value:g,cdn_image_value:x,default_value:v,extra_price:S}=t;let w="";w+=`<label class="po-label" id="po_label${t.id}"><span ${s} style="${d}">${t.label_on_product}`,w+=o,w+=0==t.help_text_type?n:"",w+="</span>",w+=1==t.help_text_type&&1==t.help_text_position?i:"",w+="</label>",w+=1==t.help_text_type&&0==t.help_text_position?i:"",w+=t.inline?'<div class="po-option--type-swatch__inline po-option--swatch-container">':'<div class="po-option--type-swatch po-option--swatch-container">';for(let o=0;o<h.length;o++)[10271].includes(e.storeId)?(w+=`<div class="po-option--swatch-wrapper" style="display: flex; align-items: center;" id="po_swatch${o}">`,w+=`<input type="${p}" style="${u}" name="po_swatch${t.id}" value="${h[o]}" ${h[o]==v&&"checked"} id="po_swatch${o}" key="po_${e.helper.formatOptionLabel(t.label_on_product)}" onchange="BSS_PO.po.handleChangeValue({selector: this, optionType: 'color_swatch', appliedOptionSetID: ${r}, optionID: ${o}, labelOnProduct: '${e.helper.formatOptionLabel(t.label_on_product)}', maxSelector: ${t.max_selector}, position: ${c}, optionSetConditionType:${l}})">`,w+=e.po.hoverSwatchValuesElement(f,h,b,g,x,m,y,o,S,a),w+="</div>"):(w+=`<div class="po-option--swatch-wrapper po-option__select-quantity" id="po_swatch${o}">`,w+='<label class="po-option__value">',w+=`<input type="${p}" style="${u}" name="po_swatch${t.id}" value="${h[o]}" ${h[o]==v&&"checked"} id="po_swatch${o}" key="po_${e.helper.formatOptionLabel(t.label_on_product)}" onchange="BSS_PO.po.handleChangeValue({selector: this, optionType: 'color_swatch', appliedOptionSetID: ${r}, optionID: ${o}, labelOnProduct: '${e.helper.formatOptionLabel(t.label_on_product)}', maxSelector: ${t.max_selector}, position: ${c}, optionSetConditionType:${l}})">`,w+=`<div class="po-option__swatch-media" style="${_}">`,w+=e.po.hoverSwatchValuesElement(f,h,b,g,x,m,y,o,S,a),w+="</div>",w+="</label>",w+="</div>");return w+="</div>",w+=1==t.help_text_type&&2==t.help_text_position?i:"",w},e.po.getButtonHtml=function({option:t,requiredSpan:o,help_text_tooltip:n,help_text_content:i,appliedOptionSetID:r,position:a=0,optionSetConditionType:c}){let l="";t.max_selector?l=1==t.max_selector?"radio":"checkbox":(t.max_selector=t.button_value.length,l="checkbox");const{button_label_style:p}=e.common.getCssAdvancedByOptionType(t.option_type),{button_value:s,default_value:d}=t;let u="";return u+=`<label class="po-label" id="po_label${t.id}"><span style="${p}">${t.label_on_product}`,u+=o,u+=0==t.help_text_type?n:"",u+="</span>",u+=1==t.help_text_type&&1==t.help_text_position?i:"",u+="</label>",u+=1==t.help_text_type&&0==t.help_text_position?i:"",u+=t.inline?'<div class="po-option--type-button__inline po-option--button-container">':'<div class="po-option--type-button po-option--button-container">',s.forEach((o,n)=>{u+=`<div class="po-option--button-wrapper po-option__select-quantity" id="po_button${n}">`,u+='<label class="po-option__value">',u+=`<input type="${l}" name="po_button${t.id}" value='${o}' ${o==d&&"checked"} id="po_button${n}" onchange="BSS_PO.po.handleChangeValue({selector: this, optionType: 'button', appliedOptionSetID: ${r}, optionID: ${n}, labelOnProduct: '${e.helper.formatOptionLabel(t.label_on_product)}', maxSelector: ${t.max_selector}, position: ${a}, optionSetConditionType: ${c}}); checkButtonColor(this)">`,u+='<div onmouseover="hover(this)" onmouseout="unHover(this)" class="po-option__button-media">',u+=`<div class="po-option__button-value">${o}</div>`,u+="</div>",u+="</label>",u+="</div>"}),u+="</div>",u+=1==t.help_text_type&&2==t.help_text_position?i:"",u},e.po.getFileUploadHtml=function({option:t,requiredSpan:o,help_text_tooltip:n,help_text_content:i,position:r,optionSetConditionType:a}){const{file_label_style:c}=e.common.getCssAdvancedByOptionType(t.option_type);let l="";return l+=`<label style="${c}" class="po-label" id="po_label${t.id}">${t.label_on_product}`,l+=o,l+=0==t.help_text_type?n:"",l+=1==t.help_text_type&&1==t.help_text_position?i:"",l+="</label>",l+=1==t.help_text_type&&0==t.help_text_position?i:"",l+='<div class="po-option--container po-option-uploadfile">',l+='<div style="display: flex">',l+=`<input type="file" id="file${t.id+"-"+r}" name="po_file_upload${t.id}" multiple style="display: none">`,"function"==typeof bssFixSupportFileUploadHTML?l=bssFixSupportFileUploadHTML(e,l,t,r):window.bss_admin_option?(l+=`<label class="btn-uploadfile">${e.settings.button_choose_file_text}</label>`,l+=`<span class="option-file-upload-${t.id}"></span>`,l+="</div>",l+=`<span id="errorfile${t.id}" style="display: none">${e.settings.check_size_text} 5MB</span>`):(l+=`<label for="file${t.id+"-"+r}" class="btn-uploadfile">${e.settings.button_choose_file_text}</label>`,l+=`<span class="option-file-upload-${t.id}"></span>`,l+="</div>",l+=`<span id="errorfile${t.id}" style="display: none">${e.settings.check_size_text} 5MB</span>`),l+=`<span class="file-uploaded file-uploaded${t.id}" style="display: block"></span>`,l+="</div>",l+=`<span class="po-image-preview-file-upload image-preview${t.id}" style="display: none"></span>`,l+=1==t.help_text_type&&2==t.help_text_position?i:"",l},e.po.getDateTimePickerHtml=function({option:t,requiredSpan:o,help_text_tooltip:n,help_text_content:i,optionSetConditionType:r}){const{datepicker_label_style:a,datepicker_value_style:c}=e.common.getCssAdvancedByOptionType(t.option_type);let l;0==t.display_date_time_type?1==t.time_format?l=0==t.overall_format?"DD-MM-YYYY HH:mm":1==t.overall_format?"MM-DD-YYYY HH:mm":2==t.overall_format?"30th January, YYYY HH:mm":"January 30th, YYYY HH:mm":0==t.time_format&&(l=0==t.overall_format?"DD-MM-YYYY HH:mm AM/PM":1==t.overall_format?"MM-DD-YYYY HH:mm AM/PM":2==t.overall_format?"30th January, YYYY HH:mm AM/PM":"January 30th, YYYY HH:mm AM/PM"):1==t.display_date_time_type?l=0==t.overall_format?"DD-MM-YYYY":1==t.overall_format?"MM-DD-YYYY":2==t.overall_format?"30th January, YYYY":"January 30th, YYYY":2==t.display_date_time_type&&(l=0==t.time_format?"HH:mm AM/PM":"HH:mm"),1612==e.storeId&&(l=2==t.display_date_time_type?"HH:mm":1==t.display_date_time_type?"DD/MM/YYYY":"DD/MM/YYYY HH:mm"),4126==e.storeId&&(2==t.display_date_time_type||t.display_date_time_type,l="");let p="";return p+=`<label style="${a}" class="po-label" id="po_label${t.id}">${t.label_on_product}`,p+=o,p+=0==t.help_text_type?n:"",p+=1==t.help_text_type&&1==t.help_text_position?i:"",p+="</label>",p+=1==t.help_text_type&&0==t.help_text_position?i:"",p+='<div class="date-time-error date-range--error"></div>',p+='<div class="date-time-error time-picker--error"></div>',p+=`<div class="po-option--container flatpickr datetime${t.id} po-option--type-datepicker">`,p+=`<input style="${c}" type="text" class="po-option--type-text po-option--type-datepicker-input" id="datetime${t.id}" placeholder="${t.placeholder||l}" name="po_datetime${t.id}" data-input>`,p+='<a class="input-button" title="toggle" data-toggle>\n                        <i class="fas fa-calendar"></i>\n                    </a>',p+='<a class="input-button" title="clear" data-clear>\n                        <i class="fas fa-times"></i>\n                    </a>',p+="</div>",p+=1==t.help_text_type&&2==t.help_text_position?i:"",p},e.po.getColorPickerHtml=function({option:t,requiredSpan:o,help_text_tooltip:n,help_text_content:i,position:r,optionSetConditionType:a}){const{color_picker_label_style:c}=e.common.getCssAdvancedByOptionType(t.option_type);let l="";return l+=`<label class="po-label" for="po_color_picker${t.id}" id="po_label${t.id}"><span style="${c}">${t.label_on_product}`,l+=o,l+=0==t.help_text_type?n:"",l+="</span>",l+=1==t.help_text_type&&1==t.help_text_position?i:"",l+="</label>",l+=1==t.help_text_type&&0==t.help_text_position?i:"",l+='<div class="po-option--container">',l+='<div class="po-option--color-picker-container">',l+='<div class="po-option--color-picker-content">',l+=`<input class="po-option--type-color-picker" type="color" name="po_color_picker${t.id}" id="po_color_picker${t.id}" value="#ffffff" >`,l+=`<input class="po-color-picker-value" type="text" name="po_color_picker_value${t.id}" readonly="readonly" placeholder="${t.placeholder}" value="" >`,l+="</div>",l+=`<a class="po-color-picker-clear-btn${t.id}" title="clear" >\n                        <i class="fas fa-times"></i>\n                    </a>`,l+="</div>",l+="</div>",l+=1==t.help_text_type&&2==t.help_text_position?i:"",l},e.po.getInstructionHtml=function({option:e,optionSetConditionType:t}){const{instruction_value:o}=e;let n="";return n+='<div class="po-option--container po-option--instruction-container">',n+=""+o,n+="</div>",n},e.po.getOptionHtml=function({appliedOptionSet:t,idProductOnHomePage:n="",position:i=0}){(e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId)&&document.querySelectorAll("[bss-po-featured-product-key]").forEach((e,t)=>{e.getAttribute("bss-po-featured-product-key")==n&&(i=t)});let r=t.options.sort((e,t)=>e.index_option>t.index_option?1:t.index_option>e.index_option?-1:0);const a=e.common.generateUniqueId();t.uniqueId||(t.uniqueId=a);const c=t.uniqueId;let l=[];r.forEach(e=>{""!=e.default_value&&([0,2,3,4,5,6,12,13].includes(e.option_type)&&l.push({label:e.label_on_product,value:e.default_value}),1==e.option_type&&l.push({label:e.label_on_product,value:parseInt(e.default_value)}))});const p=t.product_condition_type;let s=`<div class="bss-po-product-page${4!==p||window.bss_admin_option?"":" bss-po-specific-variant"}" data-position=${c}>`;s+="<form>";const d=`font-size: ${e.settings.text_tooltip_size}px ;${1==parseInt(e.settings.text_tooltip_color_type)?`color: ${e.settings.text_tooltip_color};`:""} font-weight: ${parseInt(e.settings.text_tooltip_font_weight)?"bold":"normal"};`,u=(1==parseInt(e.settings.text_tooltip_background_color_type)?`background-color: ${e.settings.text_tooltip_background_color};`:"")+" ";return r.forEach(n=>{let r="flex",a=0;const c=t.id;""!=n.default_value&&([0,2,3,4,5,6,12,13].includes(n.option_type)&&o.push({label:n.label_on_product,value:n.default_value}),1==n.option_type&&o.push({label:n.label_on_product,value:parseInt(n.default_value)})),n.conditional_options[0]&&null!=n.conditional_options[0].conditional_option_label&&"free"!==e.currentPlan&&n.conditional_options.forEach(e=>{l.forEach(t=>{t.label==e.conditional_option_label&&([0,2,3,4,5,6,12,13].includes(e.conditional_option_type)?(0==e.type_contain&&t.value==e.conditional_option_value&&a++,1==e.type_contain&&t.value!=e.conditional_option_value&&a++,4==e.type_contain&&t.value&&t.value.includes(e.conditional_option_value)&&a++,5==e.type_contain&&!t.value.includes(e.conditional_option_value)&&a++):(0==e.type_contain&&parseInt(t.value)==parseInt(e.conditional_option_value)&&a++,1==e.type_contain&&parseInt(t.value)!=parseInt(e.conditional_option_value)&&a++,2==e.type_contain&&parseInt(t.value)<parseInt(e.conditional_option_value)&&a++,3==e.type_contain&&parseInt(t.value)>parseInt(e.conditional_option_value)&&a++))}),r=0==n.conditional_options_match?1==n.conditional_options_display?1==e.type_contain&&"any"==e.conditional_option_value?a>0?"flex":"none":a>0?"none":"flex":1==e.type_contain&&"any"==e.conditional_option_value?a>0?"none":"flex":a>0?"flex":"none":1==n.conditional_options_display?a==n.conditional_options.length?"none":"flex":a==n.conditional_options.length?"flex":"none"});let _=n.required?'<span class="po-required">*</span>':"",m=n.help_text&&""!==n.help_text.trim?`<div class="po-helptext-tooltip">?<span class="tooltip-text po-helptext-tooltip-resize" style="${d+u}">${n.help_text}</span></div>`:"",y=n.help_text&&""!==n.help_text.trim?`<div class="po-helptext-content"><p style="${d}">${n.help_text}</p></div>`:"";s+=`<div class="po-stack po-stack--vertical${7539!=e.storeId||3!=n.option_type&&0!=n.option_type?"":" custom-7539"}" id="po_stack${n.id}" style="display: ${r}">`,0==n.option_type?s+=e.po.getTextBoxHtml({option:n,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:c,position:i,optionSetConditionType:p}):1==n.option_type?s+=e.po.getNumberFieldHtml({option:n,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:c,position:i,optionSetConditionType:p}):2==n.option_type?s+=e.po.getCheckboxHtml({option:n,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:c,position:i,optionSetConditionType:p}):3==n.option_type?s+=e.po.getDropdownMenuHtml({option:n,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:c,position:i,optionSetConditionType:p}):4==n.option_type?s+=e.po.getRadioButtonHtml({option:n,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:c,position:i,optionSetConditionType:p}):5==n.option_type?s+=e.po.getSwatchHtml({option:n,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:c,appliedOptionSet:t,position:i,optionSetConditionType:p}):6==n.option_type?s+=e.po.getButtonHtml({option:n,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:c,position:i,optionSetConditionType:p}):7==n.option_type&&(e.currentPlan&&"free"!==e.currentPlan||(!e.currentPlan||"free"==e.currentPlan)&&e.storeId<=e.storeIdCustomOld)?s+=e.po.getFileUploadHtml({option:n,requiredSpan:_,help_text_tooltip:m,help_text_content:y,position:i,optionSetConditionType:p}):8==n.option_type&&e.currentPlan&&"free"!==e.currentPlan?s+=e.po.getDateTimePickerHtml({option:n,requiredSpan:_,help_text_tooltip:m,help_text_content:y,position:i}):9==n.option_type?s+=e.po.getInstructionHtml({option:n,optionSetConditionType:p}):10==n.option_type&&e.currentPlan&&"free"!==e.currentPlan?s+=e.po.getColorPickerHtml({option:n,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:c,position:i,optionSetConditionType:p}):11==n.option_type?s+=e.po.getTextAreaHtml({option:n,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:c,position:i,optionSetConditionType:p}):12==n.option_type&&e.currentPlan&&"free"!==e.currentPlan?s+=e.po.getDropdownWithThumbnailMenuHtml({option:n,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:c,position:i,optionSetConditionType:p}):13==n.option_type&&e.currentPlan&&"free"!==e.currentPlan&&(s+=e.po.getEmailBoxHtml({option:n,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:c,position:i,optionSetConditionType:p})),s+="</div>"}),s+="</form>",s+="</div>",s},e.po.displayChosenSwatchOptionTitles=function({option:t,checkedSelectors:o,swatches_value_style:n,index:i=0,optionSetConditionType:r}){if(4589==e.storeId&&(5==t.option_type||6==t.option_type))return;let a=[],c=document.querySelectorAll(""+(4!==r||window.bss_admin_option?".bss-po-product-page:not(.bss-po-specific-variant)":".bss-po-product-page.bss-po-specific-variant"))[i].querySelectorAll(o),l="";(e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId)&&(c=document.querySelectorAll(o),l=o.match(/'(\d+)'/)[1]),c.forEach(o=>{const n=e.common.getQuantityByOptionValue(t,o,l);n?a.push(`${n} x ${o.value}`):a.push(o.value)});let p=`<div class="po-selected-swatch"><p style="${n}" class="swatch_value">${a.join(", ")}</p></div>`;5045==e.storeId&&(p="");let s=document.querySelectorAll("#po_stack"+t.id)[i];e.page.isHomePage()&&document.querySelector(o)&&(s=document.querySelector(o).closest("#po_stack"+t.id)),s.querySelector(".po-selected-swatch")&&s.querySelector(".po-selected-swatch").parentNode.removeChild(s.querySelector(".po-selected-swatch")),a.length&&(s.querySelector(".po-helptext-content")&&!s.querySelector(".po-label").querySelector(".po-helptext-content")?s.querySelector(".po-helptext-content").insertAdjacentHTML("afterend",p):4610==e.storeId&&5==t.option_type?s.querySelector(".po-title-value-inline").insertAdjacentHTML("afterend",p):s.querySelector(".po-label").insertAdjacentHTML("afterend",p))},e.po.displayPriceAddOnsWithChosenOptions=function({option:t,element:o,currentLabel:n,idProduct:i="",optionSetConditionType:r}){if(e.currentPlan&&"free"!==e.currentPlan&&e.enableAddOns){if(n.querySelector(".po-extra-price")&&n.querySelector(".po-extra-price").parentNode.removeChild(n.querySelector(".po-extra-price")),0==t.option_type){let i=e.common.getExtraPriceByOption(t);i=e.common.convertRate(i);let r='<span class="po-extra-price">(+ '+e.money.addMoneyWithCurrencyFormat("0",i)+")</span>";o.value.length&&i>0&&n.insertAdjacentHTML("beforeend",r)}else if(1==t.option_type){let i=e.common.getExtraPriceByOption(t);i=e.common.convertRate(i);let r='<span class="po-extra-price">(+ '+e.money.addMoneyWithCurrencyFormat("0",i)+")</span>";o.value.length&&i>0&&n.insertAdjacentHTML("beforeend",r)}else if(2==t.option_type){let i=e.common.getExtraPriceByOptionValue(t,o);if(i=e.common.convertRate(i),i){let t='<span class="po-extra-price">(+ '+e.money.addMoneyWithCurrencyFormat("0",parseFloat(i))+")</span>";n.insertAdjacentHTML("beforeend",t)}}else if(3==t.option_type){let o=document.querySelector(`#po_dropdown_menu${t.id} option[id*="po_dropdown"]:checked`);(e.page.isHomePage()&&i||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId)&&(o=document.querySelector(`[bss-po-featured-product-key='${i}'] #po_dropdown_menu${t.id} option[id*="po_dropdown"]:checked`));let r=e.common.getExtraPriceByOptionValue(t,o,i);r=e.common.convertRate(r);let a='<span class="po-extra-price">(+ '+e.money.addMoneyWithCurrencyFormat("0",parseFloat(r))+")</span>";r&&n.insertAdjacentHTML("beforeend",a)}else if(4==t.option_type){let i=e.common.getExtraPriceByOptionValue(t,o);if(i=e.common.convertRate(i),i){let t='<span class="po-extra-price">(+ '+e.money.addMoneyWithCurrencyFormat("0",i)+")</span>";n.insertAdjacentHTML("beforeend",t)}}else if(5==t.option_type){let i=e.common.getExtraPriceByOptionValue(t,o);if(i=e.common.convertRate(i),i){let t='<span class="po-extra-price">(+ '+e.money.addMoneyWithCurrencyFormat("0",parseFloat(i))+")</span>";n.insertAdjacentHTML("beforeend",t)}}else if(6==t.option_type){let i=e.common.getExtraPriceByOptionValue(t,o);if(i=e.common.convertRate(i),i){let t='<span class="po-extra-price">(+ '+e.money.addMoneyWithCurrencyFormat("0",i)+")</span>";n.insertAdjacentHTML("beforeend",t)}}else if(7==t.option_type){let i=e.common.getExtraPriceByOption(t);i=e.common.convertRate(i);const a=e.common.getLinkFileUploadedBySelector({selector:"#"+o.id,optionId:t.id,optionSetConditionType:r});let c='<span class="po-extra-price">(+ '+e.money.addMoneyWithCurrencyFormat("0",i)+")</span>";a&&a.length&&i&&n.insertAdjacentHTML("beforeend",c)}else if(10==t.option_type){let i=e.common.getExtraPriceByOption(t);i=e.common.convertRate(i);let r='<span class="po-extra-price">(+ '+e.money.addMoneyWithCurrencyFormat("0",parseFloat(i))+")</span>";o.value.length&&i>0&&n.insertAdjacentHTML("beforeend",r)}else if(11==t.option_type){let i=e.common.getExtraPriceByOption(t);i=e.common.convertRate(i);let r='<span class="po-extra-price">(+ '+e.money.addMoneyWithCurrencyFormat("0",i)+")</span>";o.value.length&&i>0&&n.insertAdjacentHTML("beforeend",r)}else if(12==t.option_type){let o=document.querySelector(`#po_dropdown_menu_thumbnail${t.id} option[id*="po_dropdown"]:checked`);(e.page.isHomePage()&&i||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId)&&(o=document.querySelector(`[bss-po-featured-product-key='${i}'] #po_dropdown_menu_thumbnail${t.id} option[id*="po_dropdown"]:checked`));let r=e.common.getExtraPriceByOptionValue(t,o,i),a='<span class="po-extra-price">(+ '+e.money.addMoneyWithCurrencyFormat("0",r)+")</span>";r&&n.insertAdjacentHTML("beforeend",a)}else if(13==t.option_type){let i=e.common.getExtraPriceByOption(t);i=e.common.convertRate(i);let r='<span class="po-extra-price">(+ '+e.money.addMoneyWithCurrencyFormat("0",i)+")</span>";o.value.length&&i>0&&n.insertAdjacentHTML("beforeend",r)}if("platinum"===e.currentPlan&&e.enableDisplayProductPrice&&e.enableAddOns){let e=new Event("BSSchangeProductPrice",{bubbles:!0});document.dispatchEvent(e)}}},e.po.handleSelectQuantityByOptionType=function({option:t,selector:o,checkedSelectors:n,swatchSelected:i=null,optionSetConditionType:r}){if("platinum"!==e.currentPlan)return;let a=`\n                <div class="quantity-control">\n                    <span class="quantity-btn quantity-minus"><svg viewBox="0 0 409.6 409.6">\n                        <g>\n                        <g>\n                            <path d="M392.533,187.733H17.067C7.641,187.733,0,195.374,0,204.8s7.641,17.067,17.067,17.067h375.467 c9.426,0,17.067-7.641,17.067-17.067S401.959,187.733,392.533,187.733z" />\n                        </g>\n                        </g>\n                    </svg></span>\n                    <input type="number" class="quantity-input" value="1" min="1" name="quantity${t.id}">\n                    <span class="quantity-btn quantity-plus"><svg viewBox="0 0 426.66667 426.66667">\n                        <path d="m405.332031 192h-170.664062v-170.667969c0-11.773437-9.558594-21.332031-21.335938-21.332031-11.773437 0-21.332031 9.558594-21.332031 21.332031v170.667969h-170.667969c-11.773437 0-21.332031 9.558594-21.332031 21.332031 0 11.777344 9.558594 21.335938 21.332031 21.335938h170.667969v170.664062c0 11.777344 9.558594 21.335938 21.332031 21.335938 11.777344 0 21.335938-9.558594 21.335938-21.335938v-170.664062h170.664062c11.777344 0 21.335938-9.558594 21.335938-21.335938 0-11.773437-9.558594-21.332031-21.335938-21.332031zm0 0" /></svg>\n                    </span>\n                </div>\n            `;const{select_quantity:c,max_selector:l}=t,p=document.querySelectorAll(o);let s=document.querySelector(o).selectedIndex-1,d=document.querySelector(n);const u={2:"po-option--checkbox-wrapper",5:"po-option--swatch-wrapper",6:"po-option--button-wrapper",3:"po-option--dropdown-wrapper",4:"po-option--radioButton-wrapper",12:"po-option--dropdown-thumbnail-wrapper"};if(i){l&&p.forEach(e=>{const o=e.closest("."+u[t.option_type]),n=o.querySelector(".quantity-control");e.checked||!n||o.removeChild(n)});const n=i.closest("."+u[t.option_type]),r=n.querySelector(".quantity-control"),a=i.getAttribute("id").replace(/\D+/g,"");if(c[Number(a)]){if(r&&1!==l)return void n.removeChild(r);e.po.validateBeforeAddSelectQuantity(t,o,i)}}if(3==t.option_type||12==t.option_type){let i=3==t.option_type?"#po_dropdown_menu":"#po_dropdown_menu_thumbnail",r=document.querySelectorAll(`${i}${t.id} ~ .${u[t.option_type]}`);if(e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId){const e=`[bss-po-featured-product-key='${n.match(/'(\d+)'/)[1]}'] ${i}${t.id} ~ .${u[t.option_type]}`;r=document.querySelectorAll(e)}r.forEach(n=>{const i=n.querySelector(".quantity-control");i?n.removeChild(i):e.po.validateBeforeAddSelectQuantity(t,o,d)})}function _(o,n,i,a){let c=document.querySelector("#po_label"+t.id),l="";(e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId)&&(l=a.match(/'(\d+)'/)[1],c=document.querySelector(`[bss-po-featured-product-key='${l}'] #po_label${t.id}`)),e.po.validateQuantity(o,n,t),e.po.displayPriceAddOnsWithChosenOptions({option:t,element:i,currentLabel:c,idProduct:l,optionSetConditionType:r});const p=`font-size: ${e.settings.value_size}px ;${1==parseInt(e.settings.value_color_type)?"color: "+e.settings.value_color:null}; font-weight: ${parseInt(e.settings.value_font_weight)?"bold":"normal"};`;[2,3,4,5,6,12].includes(t.option_type)&&e.po.displayChosenSwatchOptionTitles({option:t,checkedSelectors:a,swatches_value_style:p,optionSetConditionType:r})}document.querySelectorAll(n).forEach(i=>{let r=null,l=i.value,d=null,m=null;if(3!=t.option_type&&12!=t.option_type)r=i.getAttribute("id").replace(/\D+/g,""),d=i.closest("."+u[t.option_type]),m=c[Number(r)];else{let o=3==t.option_type?"#po_dropdown_menu":"#po_dropdown_menu_thumbnail";if(r=s,d=document.querySelector(`${o}${t.id} ~ .${u[t.option_type]}#po_dropdown${s}`),m=c[Number(s)],e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId){const e=n.match(/'(\d+)'/)[1];d=document.querySelector(`[bss-po-featured-product-key='${e}'] ${o}${t.id} ~ .${u[t.option_type]}#po_dropdown${s}`)}}if(!d.querySelector(".quantity-control")&&m){if(d.insertAdjacentHTML("beforeend",a),e.page.isCartPage()){const r=d.querySelector(`input[name=quantity${t.id}]`),a=e.cart.selectQuantity[t.label_on_cart];a&&a[l]&&(r.value=a[l],_(i,o,p,n))}d.querySelector("span.quantity-btn.quantity-minus").addEventListener("click",()=>{const e=d.querySelector(".quantity-input");let t=parseInt(e.value);t>1&&(t-=1),e.value=t,_(i,o,p,n)}),d.querySelector("span.quantity-btn.quantity-plus").addEventListener("click",()=>{const e=d.querySelector(".quantity-input");let t=parseInt(e.value);t+=1,e.value=t,_(i,o,p,n)}),d.querySelector(`input[name=quantity${t.id}]`).addEventListener("change",e=>{let t=parseInt(e.target.value);(isNaN(t)||t<1)&&(e.target.value=1),_(i,o,p,n)})}})},e.po.getSelectedOptionSet=function({appliedOptionSet:t,appliedOptionSetForSpecificVariant:o,variantProductIdApplyOptionSet:n,idProductAddToCart:i}){let r=new Map,a=new Map,c=0,l=0,p="";const s=e.common.getOptionSelected(t,i);if(r=s.chosenOptions,a=s.chosenOptionsWithoutPriceAddOns,c=s.totalExtraPrice,l=s.totalVariantExtraPrice,p=s.skuOptionValueString,o){const t=e.common.getOptionSelected(o,i);t.chosenOptions.forEach((e,t)=>{r.has(t)?r.set(t+"_1",e):r.set(t,e)}),t.chosenOptionsWithoutPriceAddOns.forEach((e,o)=>{if(!["totalExtraPrice","totalVariantExtraPrice","skuOptionValueString"].includes(o))if(["variantData","optionQuantity"].includes(o)){const e=t.chosenOptionsWithoutPriceAddOns.get(o);Object.keys(e).forEach(t=>{Object.keys(a.get(o)).some(e=>e===t)?a.get(o)[t+"_1"]=e[t]:a.get(o)[t]=e[t]})}else a.has(o)?a.set(o+"_1",e):a.set(o,e)}),a.set("skuOptionValueString_1",t.chosenOptionsWithoutPriceAddOns.get("skuOptionValueString")),a.set("variantProductIdApplyOptionSet",n),t.chosenOptionsWithoutPriceAddOns.get("skuOptionValueString")&&(p+=e.settings.sku_separator+t.chosenOptionsWithoutPriceAddOns.get("skuOptionValueString")),c+=t.totalExtraPrice,l+=t.totalVariantExtraPrice}return{chosenOptions:r,chosenOptionsWithoutPriceAddOns:a,totalExtraPrice:c,totalVariantExtraPrice:l,skuOptionValueString:p}}}(e,t,d),function(e,t,o,n){e.po.generateOptionSetOnProductPage=async function({variantId:t=null,idProductOnHomePage:o="",dataHomePage:i=""}){Promise.all([e.po.generateOptionSetForProduct({idProductOnHomePage:o,dataHomePage:i}),e.po.generateOptionSetForVariant({variantId:t,idProductOnHomePage:o,dataHomePage:i})]).then(([t,r])=>{window.bss_admin_option||((t||r)&&e.po.handleAddToCart(o,i),(e.page.isHomePage()||1569==e.storeId)&&(e.po.buyItNow(i),n.product=i),"platinum"===e.currentPlan&&e.enableDisplayProductPrice&&e.enableAddOns&&e.po.handleProductPriceElement(n,o))}).catch(e=>{console.error(e)})},e.po.generateOptionSetForProduct=async function({idProductOnHomePage:t="",dataHomePage:o=""}){document.querySelector(".bss-po-product-page:not(.bss-po-specific-variant)")&&!e.page.isHomePage()&&1569!==e.storeId&&document.querySelector(".bss-po-product-page:not(.bss-po-specific-variant)").remove();let i=null;if(i=window.bss_admin_option?window.bss_admin_option:e.po.getAppliedOptionSetOnProductPage(o),i){"platinum"!=e.currentPlan||1!=e.enableAddOns||window.bss_admin_option||await e.common.getVariantDataOnOptionSet(i,n);const r=e.po.getOptionHtml({appliedOptionSet:i,idProductOnHomePage:t});let a=!1;"function"==typeof bssFixSupportChangeOptionSetPositionForProduct&&(a=bssFixSupportChangeOptionSetPositionForProduct(e,r,t,a)),a||(e.page.isHomePage()?document.querySelector(`[bss-po-featured-product-key='${t}'] form[action*="/cart/add"]`).insertAdjacentHTML("afterbegin",r):window.bss_admin_option?document.querySelector('form[action="/cart/add"].bss-po-form').insertAdjacentHTML("afterbegin",r):document.querySelector(".preview-option")||(document.querySelector('.shopify-app-block form[action*="/cart/add"] .bss-po-option-set')?document.querySelector('.shopify-app-block form[action*="/cart/add"] .bss-po-option-set').insertAdjacentHTML("afterbegin",r):document.querySelector('form[action*="/cart/add"] .bss-po-option-set')?document.querySelector('form[action*="/cart/add"] .bss-po-option-set').insertAdjacentHTML("afterbegin",r):document.querySelector('form[action*="/cart/add"]').insertAdjacentHTML("afterbegin",r))),await e.po.addMetaDataToOptionSet({appliedOptionSet:i,idProductOnHomePage:t,dataHomePage:o})}else document.querySelector('.shopify-app-block form[action*="/cart/add"] .bss-po-option-set')&&document.querySelector('.shopify-app-block form[action*="/cart/add"] .bss-po-option-set').insertAdjacentHTML("afterbegin",'<span class="preview-option">The additional product options will appear here.</span>');return i},e.po.generateOptionSetForVariant=async function({variantId:t,idProductOnHomePage:o,dataHomePage:i}){if(e.page.isHomePage()){const e=document.querySelector(`[bss-po-featured-product-key='${o}']`);e&&e.querySelector(".bss-po-product-page.bss-po-specific-variant")&&e.querySelector(".bss-po-product-page.bss-po-specific-variant").remove()}else document.querySelector(".bss-po-product-page.bss-po-specific-variant")&&document.querySelector(".bss-po-product-page.bss-po-specific-variant").remove();let r=null;if(window.bss_admin_option||(r=e.po.getAppliedOptionSetOnProductPageForVariant({variantId:t,productData:i})),r){"platinum"!=e.currentPlan||1!=e.enableAddOns||window.bss_admin_option||await e.common.getVariantDataOnOptionSet(r,n);const t=e.po.getOptionHtml({appliedOptionSet:r,idProductOnHomePage:o});if(e.page.isHomePage()){document.querySelector(`[bss-po-featured-product-key='${o}']`).querySelector(e.common.selectorVariantPicker.join(",")).insertAdjacentHTML("afterend",t);document.querySelector(`[bss-po-featured-product-key='${o}']`)&&e.po.handleAddToCart(o,i)}else document.querySelector('.shopify-app-block form[action*="/cart/add"] .bss-po-option-set')?document.querySelector('.shopify-app-block form[action*="/cart/add"] .bss-po-option-set').insertAdjacentHTML("afterend",t):document.querySelector(e.common.selectorVariantPicker.join(",")).insertAdjacentHTML("afterend",t);await e.po.addMetaDataToOptionSet({appliedOptionSet:r,idProductOnHomePage:o})}return r},e.po.addMetaDataToOptionSet=async function({appliedOptionSet:t,idProductOnHomePage:o=""}){const n=t.product_condition_type;e.common.disableDefaultEventInput(n),t.options.forEach(i=>{let r=e.common.getSeletorOfByOptionType(i.option_type,i.id),a=document.querySelector("#po_label"+i.id);if(e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId){let e=`[bss-po-featured-product-key='${o}'] #po_label`+i.id;r=`[bss-po-featured-product-key='${o}'] `+r,a=document.querySelector(e)}if(0==i.option_type){const o=document.querySelector(r);"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,i),e.common.addEventToOption({option:i,elementOfOption:o,currentLabel:a,selector:r,optionSetConditionType:n})}else if(1==i.option_type){const o=document.querySelector(r);"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,i),e.common.addEventToOption({option:i,elementOfOption:o,currentLabel:a,selector:r,optionSetConditionType:n})}else if(2==i.option_type){const o=document.querySelectorAll(r);"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,i),e.common.addEventToOption({option:i,elementOfOption:o,currentLabel:a,selector:r,optionSetConditionType:n})}else if(3==i.option_type){const o=document.querySelector(r);"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,i),e.common.addEventToOption({option:i,elementOfOption:o,currentLabel:a,selector:r,optionSetConditionType:n})}else if(4==i.option_type){let o=document.querySelectorAll(r);"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,i),e.common.addEventToOption({option:i,elementOfOption:o,currentLabel:a,selector:r,optionSetConditionType:n})}else if(5==i.option_type){const o=document.querySelectorAll(r);"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,i),e.common.addEventToOption({option:i,elementOfOption:o,currentLabel:a,selector:r,optionSetConditionType:n})}else if(6==i.option_type){const o=document.querySelectorAll(r);"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,i),e.common.addEventToOption({option:i,elementOfOption:o,currentLabel:a,selector:r,optionSetConditionType:n})}else if(7==i.option_type){const o=document.querySelector(r);"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,i),e.common.addEventToOption({option:i,elementOfOption:o,currentLabel:a,selector:r,optionSetConditionType:n})}else if(8==i.option_type&&e.currentPlan&&"free"!==e.currentPlan){e.po.dateTimePicker(i,o);const t=document.querySelector(r);e.common.addEventToOption({option:i,elementOfOption:t,currentLabel:a,selector:r,optionSetConditionType:n})}else if(10==i.option_type&&e.currentPlan&&"free"!==e.currentPlan){const o=document.querySelector(r);"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,i),e.common.addEventToOption({option:i,elementOfOption:o,currentLabel:a,selector:r,optionSetConditionType:n})}else if(11==i.option_type){const o=document.querySelector(r);"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,i),e.common.addEventToOption({option:i,elementOfOption:o,currentLabel:a,selector:r,optionSetConditionType:n})}else if(12==i.option_type){const o=document.querySelector(r);"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,i),e.common.addEventToOption({option:i,elementOfOption:o,currentLabel:a,selector:r,optionSetConditionType:n})}else if(13==i.option_type){const o=document.querySelector(r);"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,i),e.common.addEventToOption({option:i,elementOfOption:o,currentLabel:a,selector:r,optionSetConditionType:n})}})},e.po.hoverSwatchValuesElement=function(t,o,n,i,r,a,c,l,p,s){const d=s.variants&&s.variants.map(e=>({id:e.id.split("/").pop(),price:e.price}));let u="",_=/[^0-9\.]+/g,m="";if(0==p.swatch_extra_price_type[l]&&0!=e.settings.swatches_hover&&"free"!=e.currentPlan){let t=e.common.convertRate(p.swatch_extra_price[l]);m=0!=e.money.addMoneyWithCurrencyFormat("0",parseFloat(t)).replace(_,"")?" (+"+e.money.addMoneyWithCurrencyFormat("0",parseFloat(t))+")":""}else 1==p.swatch_extra_price_type[l]&&"platinum"==e.currentPlan&&p.swatch_extra_variant[l]&&d.forEach(t=>{if(t.id===p.swatch_extra_variant[l]){let o=e.common.convertRate(t.price);m=0!=e.money.addMoneyWithCurrencyFormat("0",parseFloat(o)).replace(_,"")?" (+"+e.money.addMoneyWithCurrencyFormat("0",parseFloat(o))+")":""}});let y=o[l]+m;[8826].includes(e.storeId)&&(y=o[l]);let h="margin-top: 0px; margin-bottom: 0px;",f=`color: ${e.settings.swatches_hover_text_color}; background-color: ${e.settings.swatches_hover_color}; margin-left: -75px; word-wrap: break-word;`;return o[l].length>40&&"/cart"==window.location.pathname&&(h+="max-height: 100px;",y=o[l].substring(0,41)+"..."+m),[10271].includes(e.storeId)?(u+=`<div class="po-option__image-value" style="background-image: url(${r[l]?r[l]:i[l]}); ${a}; margin-left: 10px"> \n                                </div>`,u+='<p style="margin-left: 10px; word-wrap: break-word;" class="tooltip-swatch-label">'+y+"</p>",u):(3==e.settings.swatches_hover?0==t[l]&&n[l]?u+=`<div class="po-option__color-value" style="background-color:${n[l]}; ${a}">\n                                    <span class="tooltip-swatch-label" style="${c}; word-wrap: break-word;">\n                                        <div style="width:150px; height:150px; background-color:${n[l]}; display: block; margin-top: 5px; margin-left: 9px"></div>\n                                        <p  style="${h}">`+y+"</p>\n                                    </span>\n                                </div>":1==t[l]&&(r[l]||i[l])?u+=`<div class="po-option__image-value" style="background-image: url(${r[l]?r[l]:i[l]}); ${a}">\n                                    <span class="tooltip-swatch-label" style="${c}; word-wrap: break-word;" >\n                                        <img src="${r[l]?r[l]:i[l]}" width="150" height="150" style="position: relative; top: 5px"><br>\n                                        <p style="${h}">`+y+"</p>\n                                    </span>\n                                </div>":u+=`<div class="po-option__color-value" style="background-color: #ffffff; ${a}">\n                                    <p class="tooltip-swatch-label" style="${f}; margin-bottom: 0px; margin-top: 0px">`+y+"</p>\n                                </div>":2==e.settings.swatches_hover?0==t[l]&&n[l]?u+=`<div class="po-option__color-value" style="background-color:${n[l]}; ${a}">\n                                    <span class="tooltip-swatch-label" style="${c}; word-wrap: break-word;">\n                                        <div style="width:150px; height:150px; background-color:${n[l]}; display: block; margin-top: 5px; margin-left: 9px""></div>\n                                    </span>\n                                </div>`:1==t[l]&&(r[l]||i[l])?u+=`<div class="po-option__image-value" style="background-image: url(${r[l]?r[l]:i[l]}); ${a}">\n                                    <span class="tooltip-swatch-label" style="${c}; word-wrap: break-word;" >\n                                        <img src="${r[l]?r[l]:i[l]}" width="150" height="150" style="position: relative; top: 5px">\n                                    </span>\n                                </div>`:u+=`<div class="po-option__color-value" style="background-color: #ffffff; ${a}">\n                                    <span class="tooltip-swatch-label" style="${f}">${o[l]}</span>\n                                </div>`:0==t[l]&&n[l]?(c+="margin-left: -75px; word-wrap: break-word;",u+=`<div class="po-option__color-value" style="background-color:${n[l]}; ${a}">\n                                    <p style="${c}; margin-bottom: 0px; margin-top: 0px" class="tooltip-swatch-label">`+y+"</p>\n                                </div>"):1==t[l]&&(r[l]||i[l])?(c+="margin-left: -75px; word-wrap: break-word;",u+=`<div class="po-option__image-value" style="background-image: url(${r[l]?r[l]:i[l]}); ${a}">\n                                    <p style="${c}; margin-bottom: 0px; margin-top: 0px" class="tooltip-swatch-label">`+y+"</p>\n                                </div>"):u+=`<div class="po-option__color-value" style="background-color: #ffffff; ${a}">\n                                    <p style="${f}; margin-bottom: 0px; margin-top: 0px" class="tooltip-swatch-label">`+y+"</p>\n                                </div>",u)},e.po.generateOptionSetOnCollectionPage=async function(){const t=await e.po.getAppliedOptionSetOnQVCollectionPage(),o=t&&t.appliedOptionSet;if(o){const t=o.product_condition_type,n=e.po.getOptionHtml({appliedOptionSet:o});if("function"==typeof bssFixSupportGenerateOptionSetOnCollectionPage){bssFixSupportGenerateOptionSetOnCollectionPage(e,n)}else document.querySelector('form[action*="/cart/add"] .bss-po-option-set').length?document.querySelectorAll('form[action*="/cart/add"] .bss-po-option-set').forEach((function(e){e.insertAdjacentHTML("afterbegin",n)})):document.querySelector('form[action*="/cart/add"]').insertAdjacentHTML("afterbegin",n);e.common.disableDefaultEventInput(t),o.options.forEach(o=>{const n=e.common.getSeletorOfByOptionType(o.option_type,o.id),i=document.querySelector("#po_label"+o.id);if(0==o.option_type){const r=document.querySelector(n);e.common.addEventToOption({option:o,elementOfOption:r,currentLabel:i,selector:n,optionSetConditionType:t})}else if(1==o.option_type){const r=document.querySelector(n);e.common.addEventToOption({option:o,elementOfOption:r,currentLabel:i,selector:n,optionSetConditionType:t})}else if(2==o.option_type){const r=document.querySelectorAll(n);e.common.addEventToOption({option:o,elementOfOption:r,currentLabel:i,selector:n,optionSetConditionType:t})}else if(3==o.option_type){const r=document.querySelector(n);e.common.addEventToOption({option:o,elementOfOption:r,currentLabel:i,selector:n,optionSetConditionType:t})}else if(4==o.option_type){let r=document.querySelectorAll(n);e.common.addEventToOption({option:o,elementOfOption:r,currentLabel:i,selector:n,optionSetConditionType:t})}else if(5==o.option_type){const r=document.querySelectorAll(n);e.common.addEventToOption({option:o,elementOfOption:r,currentLabel:i,selector:n,optionSetConditionType:t})}else if(6==o.option_type){const r=document.querySelectorAll(n);e.common.addEventToOption({option:o,elementOfOption:r,currentLabel:i,selector:n,optionSetConditionType:t})}else if(7==o.option_type){const r=document.querySelector(n);e.common.addEventToOption({option:o,elementOfOption:r,currentLabel:i,selector:n,optionSetConditionType:t})}else if(8==o.option_type&&e.currentPlan&&"free"!==e.currentPlan){e.po.dateTimePicker(o);const r=document.querySelector(n);e.common.addEventToOption({option:o,elementOfOption:r,currentLabel:i,selector:n,optionSetConditionType:t})}else if(10==o.option_type&&e.currentPlan&&"free"!==e.currentPlan){const r=document.querySelector(n);e.common.addEventToOption({option:o,elementOfOption:r,currentLabel:i,selector:n,optionSetConditionType:t})}else if(11==o.option_type){const r=document.querySelector(n);e.common.addEventToOption({option:o,elementOfOption:r,currentLabel:i,selector:n,optionSetConditionType:t})}else if(12==o.option_type){const r=document.querySelector(n);e.common.addEventToOption({option:o,elementOfOption:r,currentLabel:i,selector:n,optionSetConditionType:t})}else if(13==o.option_type){const r=document.querySelector(n);e.common.addEventToOption({option:o,elementOfOption:r,currentLabel:i,selector:n,optionSetConditionType:t})}})}},e.po.searchDropdownWithThumbnail=function(e,t){e.querySelectorAll(".po-dropdown-list .po-dropdown-thumbnail-option").forEach(e=>{"searchWithThumbnail"!=e.getAttribute("id")&&(e.getAttribute("data-value").toLowerCase().includes(t.value.toLowerCase().trim())?e.style.display="flex":e.style.display="none")})},e.po.searchDropdown=function(e,t){e.querySelectorAll(".po-dropdown-list .po-dropdown-option").forEach(e=>{"searchWithDropdown"!=e.getAttribute("id")&&(e.getAttribute("data-value").toLowerCase().includes(t.value.toLowerCase().trim())?e.style.display="flex":e.style.display="none")})},e.po.validateOptionOnProductPage=function({option:n,element:i,selector:r,optionSetConditionType:a}){let{requiredErrorMessage:c,minCharacterErrorMessage:l,maxCharacterWarningMessage:p,minValueErrorMessage:s,maxValueErrorMessage:d,minSelectorErrorMessage:u,maxSelectorWarningMessage:_,emailFormatErrorMessage:m}=e.common.getMessageFromSettings(n),y=r+":checked";if(2554==e.storeId&&(c=n.label_on_product+" "+e.settings.required_text),9324==e.storeId&&(c="L'opzione "+n.label_on_product+" è richiesta."),0==n.option_type||11==n.option_type||13==n.option_type){let e=!0;if(n.required&&0==i.value.trim().length?(t.set(r,c),e=!1):t.delete(r),n.min_character&&i.value.length&&i.value.length<n.min_character?t.get(r)!==c&&(t.set(r,l),e=!1):t.get(r)==l&&t.delete(r),n.max_character&&i.value.length>n.max_character?(i.value=i.value.substr(0,n.max_character),o.set(r,p),e=!1):(i.value=i.value,o.delete(r)),13==n.option_type&&e){let e=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;!i.value.match(e)&&i.value.length>0?t.set(r,m):t.delete(r)}}else if(1==n.option_type)n.required&&0==i.value.length?t.set(r,c):t.delete(r),n.min_value&&!isNaN(parseFloat(i.value))&&parseFloat(i.value)<n.min_value?t.get(r)!==c&&t.set(r,s):t.get(r)==s&&t.delete(r),n.max_value&&!isNaN(parseFloat(i.value))&&parseFloat(i.value)>n.max_value?t.get(r)!==c&&t.set(r,d):t.get(r)==d&&t.delete(r);else if(2==n.option_type||5==n.option_type&&1!==n.max_selector||6==n.option_type&&1!==n.max_selector){let e=document.querySelectorAll(y);n.required&&0==e.length?t.set(r,c):t.delete(r),n.min_selector&&e.length&&e.length<n.min_selector?t.get(r)!==c&&t.set(r,u):t.get(r)==u&&t.delete(r),n.max_selector&&e.length>n.max_selector?(i.checked=!1,o.set(r,_)):o.delete(r)}else if(3==n.option_type||12==n.option_type)n.required&&i.value==n.placeholder_dropdown?t.set(r,c):t.delete(r);else if(4==n.option_type||5==n.option_type&&1==n.max_selector||6==n.option_type&&1==n.max_selector){let e=document.querySelectorAll(y);n.required&&0==e.length?t.set(r,c):t.delete(r)}else if(7==n.option_type){const o=e.common.getLinkFileUploadedBySelector({selector:r,optionId:n.id,optionSetConditionType:a});n.required&&!o&&0==i.files.length?t.set(r,c):t.delete(r)}else if(8==n.option_type){const e=document.querySelector(r).value;n.required&&!e?t.set(r,c):t.delete(r)}else if(10==n.option_type){const e=document.querySelector(r).closest(""+(4!==a||window.bss_admin_option?".bss-po-product-page:not(.bss-po-specific-variant)":".bss-po-product-page.bss-po-specific-variant")).querySelector(`[name="po_color_picker_value${n.id}"]`);n.required&&!e.value?t.set(r,c):t.delete(r)}},e.po.validateQuantity=function(n=null,i,r){const{requiredErrorMessage:a,minQuantityErrorMessage:c,maxQuantityWarningMessage:l}=e.common.getMessageFromSettings(r),{min_quantity:p,max_quantity:s,select_quantity:d}=r;if(!d.includes(1))return;const u={2:"po-option--checkbox-wrapper",5:"po-option--swatch-wrapper",6:"po-option--button-wrapper",3:"po-option--dropdown-wrapper",4:"po-option--radioButton-wrapper",12:"po-option--dropdown-thumbnail-wrapper"};let _=0,m=document.querySelectorAll(`#po_stack${r.id} input[name="quantity${r.id}"]`),y="";if((e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId)&&(y=i.match(/'(\d+)'/)[1],m=document.querySelectorAll(`[bss-po-featured-product-key='${y}'] #po_stack${r.id} input[name="quantity${r.id}"]`)),m.length){if(_=[...m].reduce((e,t)=>e+Number(t.value),0),p&&(_<p?t.get(i)!==a&&t.set(i,c):t.get(i)==c&&t.delete(i)),s)if(_>s){if(o.set(i,l),n){let t=null;if(3!=r.option_type&&12!=r.option_type)t=n.closest("."+u[r.option_type]);else{let o=3==r.option_type?"#po_dropdown_menu":"#po_dropdown_menu_thumbnail",n=document.querySelector(i).selectedIndex-1;t=document.querySelector(`${o}${r.id} ~ .${u[r.option_type]}#po_dropdown${n}`),(e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId)&&(t=document.querySelector(`[bss-po-featured-product-key='${y}'] ${o}${r.id} ~ .${u[r.option_type]}#po_dropdown${n}`))}const o=t.querySelector("input.quantity-input"),a=parseInt(s)-Math.abs(parseInt(o.value)-parseInt(_));o.value=a}}else o.delete(i);e.po.generateMessageOnProductPage(i)}},e.po.validateBeforeAddSelectQuantity=function(t,n,i){const{max_quantity:r}=t,{maxQuantityWarningMessage:a}=e.common.getMessageFromSettings(t);let c=document.querySelectorAll(`#po_stack${t.id} input[name="quantity${t.id}"]`);if(e.page.isHomePage()||e.page.isCollectionPage()&&7019==e.storeId||1569==e.storeId){const e=n.match(/'(\d+)'/)[1];c=document.querySelectorAll(`[bss-po-featured-product-key='${e}'] #po_stack${t.id} input[name="quantity${t.id}"]`)}if(c.length&&3!=t.option_type){[...c].reduce((e,t)=>e+Number(t.value),0)==r?(o.set(n,a),i.checked=!1,e.po.generateMessageOnProductPage(n)):o.set(n)===a&&o.delete(n)}else o.get(n)===a&&o.delete(n)},e.po.generateMessageOnProductPage=function(e){let n=document.querySelector(e).closest(".po-stack");if(n.querySelector(".bss-warning-msg")&&n.querySelector(".bss-warning-msg").remove(),n.querySelector(".bss-error-msg")&&n.querySelector(".bss-error-msg").remove(),void 0!==o.get(e)){let t=`<span class="bss-error-msg"><small>${o.get(e)}</small></span>`;n.insertAdjacentHTML("beforeend",t)}if(void 0!==t.get(e)){let o=`<span class="bss-error-msg"><small>${t.get(e)}</small></span>`;n.insertAdjacentHTML("beforeend",o)}},e.po.renderOptionSetOnProductPageOnPlatinumPlan=function({firstVariant:t,shopData:o}){let n=o.product,i=0,r=document.querySelector(e.common.selectorVariantPicker.join(","));const a=setInterval(()=>{if(r||i>7)if(clearInterval(a),r)if(t){let o;e.po.generateOptionSetOnProductPage({variantId:t}),r.querySelectorAll("input, option, select").forEach(t=>{t.addEventListener("change",()=>{o&&clearTimeout(o),o=setTimeout(()=>{const t=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)});let o=e.common.getCurrentVariant(n),i=t.variant;o&&!i&&(i=o.id),e.po.generateOptionSetForVariant({variantId:i}),e.po.handleAddToCart()},400)})})}else e.po.generateOptionSetOnProductPage({});else e.po.generateOptionSetOnProductPage({});i++},300)}}(e,n,s,t),function(e,t,o,n){e.po.handleCountConditional=function(e,t,o,n){return t.conditional_options.forEach(t=>{e.forEach(e=>{t.conditional_option_label==e.label&&o==e.index&&(0==t.type_contain&&t.conditional_option_value==e.value&&n++,1==t.type_contain&&t.conditional_option_value!=e.value&&n++,2==t.type_contain&&parseInt(t.conditional_option_value)>parseInt(e.value)&&n++,3==t.type_contain&&parseInt(t.conditional_option_value)<parseInt(e.value)&&n++,4==t.type_contain&&e.value.includes(t.conditional_option_value)&&n++,5!=t.type_contain||e.value.includes(t.conditional_option_value)||n++)})}),n},e.po.customHideProp=function(o,n,i,r,a="",c=0){if(o){const l=o.product_condition_type;o.options.sort((e,t)=>e.index_option>t.index_option?1:t.index_option>e.index_option?-1:0).forEach(p=>{let s="";4===o.product_condition_type?document.querySelectorAll(".bss-po-product-page.bss-po-specific-variant")[c]&&(s=document.querySelectorAll(".bss-po-product-page.bss-po-specific-variant")[c].querySelector("#po_stack"+p.id).style.display):document.querySelectorAll(".bss-po-product-page:not(.bss-po-specific-variant)")[c]&&(s=document.querySelectorAll(".bss-po-product-page:not(.bss-po-specific-variant)")[c].querySelector("#po_stack"+p.id).style.display);let d=e.common.getSeletorOfByOptionType(p.option_type,p.id);if((e.page.isHomePage()||1569==e.storeId)&&(d=`[bss-po-featured-product-key='${a}'] `+d,document.querySelector(`[bss-po-featured-product-key='${a}']`)&&document.querySelector(`[bss-po-featured-product-key='${a}']`).querySelector("#po_stack"+p.id)&&(s=document.querySelector(`[bss-po-featured-product-key='${a}']`).querySelector("#po_stack"+p.id).style.display)),"none"==s)if(Array.isArray(n)?(n=n.filter(e=>e.key!=p.label_on_cart),7==p.option_type&&(n=n.filter(e=>e.key!=`Extra fee for "${p.label_on_cart}" option`))):(delete n[" "+p.label_on_cart],7==p.option_type&&(delete n[` Extra fee for "${p.label_on_cart}" option`],980==e.storeId?delete n[p.label_on_cart]:delete n[" "+p.label_on_cart])),0==p.option_type){let t=document.querySelector("#po_text_box"+p.id).value;t.length>0&&""!=t.trim()&&e.currentPlan&&"free"!==e.currentPlan&&(i-=e.common.getExtraPriceByOption(p),1==p.extra_price.text_box_extra_price_type&&(r-=e.common.getExtraPriceByOption(p)))}else if(1==p.option_type){let t=document.querySelector("#po_number_field"+p.id).value;isNaN(parseInt(t))||e.currentPlan&&"free"!==e.currentPlan&&(i-=e.common.getExtraPriceByOption(p),1==p.extra_price.text_box_extra_price_type&&(r-=e.common.getExtraPriceByOption(p)))}else if(2==p.option_type){document.querySelectorAll(d).forEach((t,o)=>{if(t.checked){const n=e.common.getQuantityByOptionValue(p,t);if(0==p.extra_price.checkbox_extra_price_type[o]){let e=parseFloat(p.extra_price.checkbox_extra_price[o]);e&&(i-=n?n*e:e)}else if("platinum"==e.currentPlan&&1==p.extra_price.checkbox_extra_price_type[o]&&p.extra_price.checkbox_extra_variant_price[o]){let e=parseFloat(p.extra_price.checkbox_extra_variant_price[o]);r-=n?n*e:e}}})}else if(3==p.option_type){let t=document.querySelector("#po_dropdown_menu"+p.id),o=t.value,n=document.querySelector(`#po_dropdown_menu${p.id} option[id*="po_dropdown"]:checked`);const a=e.common.getQuantityByOptionValue(p,n);let c=t.selectedIndex-1;if(o!==p.placeholder_dropdown)if(0==p.extra_price.dropdown_extra_price_type[c]){let e=parseFloat(p.extra_price.dropdown_extra_price[c]);e&&(i-=a?a*e:e)}else if("platinum"==e.currentPlan&&1==p.extra_price.dropdown_extra_price_type[c]&&p.extra_price.dropdown_extra_variant_price[c]){let e=parseFloat(p.extra_price.dropdown_extra_variant_price[c]);r-=a?a*e:e}}else if(4==p.option_type){document.querySelectorAll('input[name="po_radio_button'+p.id+'"]').forEach((t,o)=>{if(t.checked){const n=e.common.getQuantityByOptionValue(p,t);if(0==p.extra_price.radio_button_extra_price_type[o]){let e=parseFloat(p.extra_price.radio_button_extra_price[o]);e&&(i-=n?n*e:e)}else if("platinum"==e.currentPlan&&1==p.extra_price.radio_button_extra_price_type[o]&&p.extra_price.radio_button_extra_variant_price[o]){let e=parseFloat(p.extra_price.radio_button_extra_variant_price[o]);r-=n?n*e:e}}})}else if(5==p.option_type){document.querySelectorAll(d).forEach((t,o)=>{if(t.checked){const n=e.common.getQuantityByOptionValue(p,t);if(0==p.extra_price.swatch_extra_price_type[o]){let e=parseFloat(p.extra_price.swatch_extra_price[o]);e&&(i-=n?n*e:e)}else if("platinum"==e.currentPlan&&1==p.extra_price.swatch_extra_price_type[o]&&p.extra_price.swatch_extra_variant_price[o]){let e=parseFloat(p.extra_price.swatch_extra_variant_price[o]);e&&(r-=n?n*e:e)}}})}else if(6==p.option_type){document.querySelectorAll('input[name="po_button'+p.id+'"]').forEach((t,o)=>{if(t.checked&&4784!==e.storeId||4784==e.storeId&&t.checked&&"none"!==t.closest(".po-stack").style.display){const n=e.common.getQuantityByOptionValue(p,t);if(0==p.extra_price.button_extra_price_type[o]){let e=parseFloat(p.extra_price.button_extra_price[o]);e&&(i-=n?n*e:e)}else if("platinum"==e.currentPlan&&1==p.extra_price.button_extra_price_type[o]&&p.extra_price.button_extra_variant_price[o]){let e=parseFloat(p.extra_price.button_extra_variant_price[o]);r-=n?n*e:e}}})}else if(7==p.option_type){const t=e.common.getLinkFileUploadedBySelector({selector:d,optionId:p.id,optionSetConditionType:l});t&&t.length&&e.currentPlan&&"free"!==e.currentPlan&&(i-=e.common.getExtraPriceByOption(p),1==p.extra_price.file_upload_extra_price_type&&(r-=e.common.getExtraPriceByOption(p)))}else if(10==p.option_type){e.po.getColorPickerValue({option:p,selector:d,optionSetConditionType:l})&&e.currentPlan&&"free"!==e.currentPlan&&(i-=e.common.getExtraPriceByOption(p),1==p.extra_price.file_upload_extra_price_type&&(r-=e.common.getExtraPriceByOption(p)))}else if(11==p.option_type){let t=document.querySelector("#po_text_area"+p.id).value;t.length>0&&""!=t.trim()&&e.currentPlan&&"free"!==e.currentPlan&&(i-=e.common.getExtraPriceByOption(p),1==p.extra_price.text_area_extra_price_type&&(r-=e.common.getExtraPriceByOption(p)))}else if(12==p.option_type){let t=document.querySelector("#po_dropdown_menu_thumbnail"+p.id),o=t.value,n=document.querySelector(`#po_dropdown_menu_thumbnail${p.id} option[id*="po_dropdown"]:checked`);const a=e.common.getQuantityByOptionValue(p,n);let c=t.selectedIndex-1;if(o!==p.placeholder_dropdown)if(0==p.extra_price.dropdown_thumbnail_extra_price_type[c]){let e=parseFloat(p.extra_price.dropdown_thumbnail_extra_price[c]);e&&(i-=a?a*e:e)}else if("platinum"==e.currentPlan&&1==p.extra_price.dropdown_thumbnail_extra_price_type[c]&&p.extra_price.dropdown_thumbnail_extra_variant_price[c]){let e=parseFloat(p.extra_price.dropdown_thumbnail_extra_variant_price[c]);r-=a?a*e:e}}else if(13==p.option_type){let t=document.querySelector("#po_email_box"+p.id).value;t.length>0&&""!=t.trim()&&e.currentPlan&&"free"!==e.currentPlan&&(i-=e.common.getExtraPriceByOption(p),1==p.extra_price.email_box_extra_price_type&&(r-=e.common.getExtraPriceByOption(p)))}"none"==s&&(0==p.option_type||1==p.option_type||2==p.option_type||3==p.option_type||4==p.option_type||5==p.option_type||6==p.option_type||7==p.option_type||8==p.option_type||10==p.option_type||11==p.option_type||12==p.option_type||13==p.option_type)&&t.delete(d),e.enableAddOns||(i=0,r=0)})}return{customAttributes:n,totalExtraPrice:i,totalVariantExtraPrice:r}},e.po.handleChangeValue=function({selector:t,optionType:i,appliedOptionSetID:r,optionID:a,labelOnProduct:c,maxSelector:l,position:p,optionIdForCheckBoxOnly:s,optionSetConditionType:d}){let u=0,_=0,m=0,y=e.optionSets.find(e=>e.id==r).options,h=[];(e.page.isHomePage()||1569==e.storeId)&&document.querySelectorAll("[bss-po-featured-product-key]").forEach((o,n)=>{o.getAttribute("bss-po-featured-product-key")==t.closest("[bss-po-featured-product-key]").getAttribute("bss-po-featured-product-key")&&(p=n,e.home.positionProductSelector=n)}),"/cart"==window.location.pathname&&o&&(e.conditional.newArray.map(e=>{Array.isArray(e.value)&&(e.value=e.value.map(e=>JSON.parse(e).title))}),y.map(t=>{e.conditional.newArray.map(e=>{e.label==t.label_on_product&&(5==t.option_type&&Array.isArray(e.value)?e.value.map(t=>{n.push({label:e.label,value:t,index:0})}):2==t.option_type||6==t.option_type?Array.isArray(e.value)||e.value.split(", ").map(t=>{n.push({label:e.label,value:t,index:0})}):n.push({label:e.label,value:e.value,index:0}))})}),o=!1),e.page.isHomePage()||1569==e.storeId?n=n.length&&n[0].index==p?n.map(e=>({...e,index:p})):[]:n.length&&(n=n.map(e=>({...e,index:p}))),y.forEach(e=>{for(let t=0;t<e.conditional_options.length;t++)"any"==e.conditional_options[t].conditional_option_value&&0!=e.conditional_options[t].conditional_option_type&&(h.push(e.conditional_options[t]),e.conditional_options.splice(t,1))}),y.forEach(e=>{h.forEach(t=>{t.conditional_option_label==e.label_on_product&&(2==e.option_type&&e.checkbox_value.forEach(e=>{y.find(e=>e.id==t.option_id).conditional_options.push({option_id:t.option_id,conditional_option_type:t.conditional_option_type,type_contain:t.type_contain,conditional_option_label:t.conditional_option_label,conditional_option_value:e,createdAt:t.createdAt,updatedAt:t.updatedAt})}),3==e.option_type&&e.dropdown_value.forEach(e=>{y.find(e=>e.id==t.option_id).conditional_options.push({option_id:t.option_id,conditional_option_type:t.conditional_option_type,type_contain:t.type_contain,conditional_option_label:t.conditional_option_label,conditional_option_value:e,createdAt:t.createdAt,updatedAt:t.updatedAt})}),4==e.option_type&&e.radio_button_value.forEach(e=>{y.find(e=>e.id==t.option_id).conditional_options.push({option_id:t.option_id,conditional_option_type:t.conditional_option_type,type_contain:t.type_contain,conditional_option_label:t.conditional_option_label,conditional_option_value:e,createdAt:t.createdAt,updatedAt:t.updatedAt})}),5==e.option_type&&e.swatch_label.forEach(e=>{y.find(e=>e.id==t.option_id).conditional_options.push({option_id:t.option_id,conditional_option_type:t.conditional_option_type,type_contain:t.type_contain,conditional_option_label:t.conditional_option_label,conditional_option_value:e,createdAt:t.createdAt,updatedAt:t.updatedAt})}),6==e.option_type&&e.button_value.forEach(e=>{y.find(e=>e.id==t.option_id).conditional_options.push({option_id:t.option_id,conditional_option_type:t.conditional_option_type,type_contain:t.type_contain,conditional_option_label:t.conditional_option_label,conditional_option_value:e,createdAt:t.createdAt,updatedAt:t.updatedAt})}),12==e.option_type&&e.dropdown_thumbnail_value.forEach(e=>{y.find(e=>e.id==t.option_id).conditional_options.push({option_id:t.option_id,conditional_option_type:t.conditional_option_type,type_contain:t.type_contain,conditional_option_label:t.conditional_option_label,conditional_option_value:e,createdAt:t.createdAt,updatedAt:t.updatedAt})}))})});let f=".bss-po-product-page"+(4!==d||window.bss_admin_option?"":".bss-po-specific-variant");if(e.page.isHomePage()&&(f="[bss-po-featured-product-key]"),"text_box"==i&&(n.forEach((e,t)=>(e.label==c||""==e.value)&&n.splice(t,1)),""!=document.querySelectorAll(f)[p].querySelector("#po_text_box"+a).value&&n.push({label:c,value:document.querySelectorAll(f)[p].querySelector("#po_text_box"+a).value,index:p})),"email_box"==i&&(n.forEach((e,t)=>(e.label==c||""==e.value)&&n.splice(t,1)),""!=document.querySelectorAll(f)[p].querySelector("#po_email_box"+a).value&&n.push({label:c,value:document.querySelectorAll(f)[p].querySelector("#po_email_box"+a).value,index:p})),"text_area"==i&&(n.forEach((e,t)=>(e.label==c||""==e.value)&&n.splice(t,1)),""!=document.querySelectorAll(f)[p].querySelector("#po_text_area"+a).value&&n.push({label:c,value:document.querySelectorAll(f)[p].querySelector("#po_text_area"+a).value,index:p})),"number_field"==i&&(n.forEach((e,t)=>(e.label==c||""==e.value)&&n.splice(t,1)),""!=document.querySelectorAll(f)[p].querySelector("#po_number_field"+a).value&&n.push({label:c,value:parseInt(document.querySelectorAll(f)[p].querySelector("#po_number_field"+a).value),index:p})),"checkbox"==i){const e=document.querySelectorAll(f)[p].querySelector("div#po_stack"+s),t=e.querySelector("input#po_checkbox"+a),o=e.querySelectorAll(`input[name="${t.name}"]`);for(const e of o)e.checked&&m++;let i=[];if(y.forEach(e=>{e.conditional_options.forEach(e=>void 0===e.id&&e.conditional_option_label==c&&2==e.conditional_option_type&&i.push(e))}),i.length>0)1==i[0].type_contain?t.checked?n=n.filter(e=>e.label!=c):0==m&&n.push({label:c,value:t.value,index:p}):t.checked?i.forEach(e=>{null==n.find(t=>t.label==e.conditional_option_label&&t.value==e.conditional_option_value)&&n.push({label:e.conditional_option_label,value:e.conditional_option_value,index:p})}):0==m&&(n=n.filter(e=>e.label!=c));else if(t.checked&&(m<=l||!l))n.push({label:c,value:t.value,index:p});else{const e=n.findIndex(e=>e.label==c&&e.value==t.value);-1!=e&&n.splice(e,1)}}if("dropdown_menu"==i){const e=document.querySelector("#bss-po_dropdown_menu"+a),t=e.querySelector("#bss-po-dropdown-selected-option"),o=e.querySelector(".po-dropdown-list"),i=e.querySelectorAll(".po-dropdown-option"),r=document.querySelectorAll(f)[p].querySelector("#po_dropdown_menu"+a);e.classList.toggle("open-drop-list"),o.style.display="block"===o.style.display?"none":"block",i.forEach(n=>{const i=n.getAttribute("data-value");i==r.value?n.style.backgroundColor="aliceblue":n.style.backgroundColor="","searchWithDropdown"!=n.getAttribute("id")&&n.addEventListener("click",()=>{const e=n.querySelector("span").innerHTML;t.innerHTML=e+'<i class="po-dropdown-arrow po-dropdown-arrow-down">',document.querySelector("select#po_dropdown_menu"+a).value=i}),"searchWithDropdown"==n.getAttribute("id")&&n.addEventListener("click",()=>{o.style.display="none",e.classList.remove("open-drop-list")})}),document.addEventListener("click",(function(t){e.contains(t.target)||(o.style.display="none",e.classList.remove("open-drop-list"))}));let l=[];y.forEach(e=>{e.conditional_options.forEach(e=>void 0===e.id&&e.conditional_option_label==c&&3==e.conditional_option_type&&l.push(e))}),l.length>0?l.forEach(e=>{"-- Please select --"==r.value?n=n.filter(e=>e.label!=c):null==n.find(t=>t.label==e.conditional_option_label&&t.value==e.conditional_option_value)&&n.push({label:e.conditional_option_label,value:e.conditional_option_value,index:p})}):(n.forEach((e,t)=>e.label==c&&n.splice(t,1)),n.push({label:c,value:r.value,index:p}))}if("dropdown_menu_thumbnail"==i){const e=document.querySelector("#po_dropdown_menu_thumbnail-div"+a),t=e.querySelector("#po-dropdown-selected-option"),o=e.querySelector(".po-dropdown-list"),i=e.querySelectorAll(".po-dropdown-thumbnail-option"),r=document.querySelectorAll(f)[p].querySelector("#po_dropdown_menu_thumbnail"+a);e.classList.toggle("open-drop-list"),o.style.display="block"===o.style.display?"none":"block",i.forEach(n=>{const i=n.getAttribute("data-value");i==r.value?n.style.backgroundColor="aliceblue":n.style.backgroundColor="","searchWithThumbnail"!=n.getAttribute("id")&&n.addEventListener("click",()=>{const e=n.querySelector("span").innerHTML;t.innerHTML=e+'<i class="po-dropdown-thumbnail-arrow po-dropdown-thumbnail-arrow-down">',document.querySelector("select#po_dropdown_menu_thumbnail"+a).value=i}),"searchWithThumbnail"==n.getAttribute("id")&&n.addEventListener("click",()=>{o.style.display="none",e.classList.remove("open-drop-list")})}),document.addEventListener("click",(function(t){e.contains(t.target)||(o.style.display="none",e.classList.remove("open-drop-list"))}));let l=[];y.forEach(e=>{e.conditional_options.forEach(e=>void 0===e.id&&e.conditional_option_label==c&&12==e.conditional_option_type&&l.push(e))}),l.length>0?l.forEach(e=>{"-- Please select --"==r.value?n=n.filter(e=>e.label!=c):null==n.find(t=>t.label==e.conditional_option_label&&t.value==e.conditional_option_value)&&n.push({label:e.conditional_option_label,value:e.conditional_option_value,index:p})}):(n.forEach((e,t)=>e.label==c&&n.splice(t,1)),n.push({label:c,value:r.value,index:p}))}if("radio_button"==i){const e=document.querySelectorAll(f)[p].querySelector(`input[name=po_radio_button${s}]#po_radio_button${a}`);let t=[];y.forEach(e=>{e.conditional_options.forEach(e=>void 0===e.id&&e.conditional_option_label==c&&4==e.conditional_option_type&&t.push(e))}),t.length>0?t.forEach(e=>{null==n.find(t=>t.label==e.conditional_option_label&&t.value==e.conditional_option_value)&&n.push({label:e.conditional_option_label,value:e.conditional_option_value,index:p})}):(n.forEach((e,t)=>e.label==c&&n.splice(t,1)),n.push({label:c,value:e.value,index:p}))}if("color_swatch"==i){let e;y.forEach(t=>{t.label_on_product==c&&(e=t.id)});const t=document.querySelectorAll(f)[p].querySelector(`input[name='po_swatch${e}']#po_swatch${a}`);if("checkbox"==t.type){const o=document.querySelectorAll(f)[p].querySelectorAll(`input[name='po_swatch${e}']`);for(const e of o)e.checked&&u++;let i=[];if(y.forEach(e=>{e.conditional_options.forEach(e=>void 0===e.id&&e.conditional_option_label==c&&2==e.conditional_option_type&&i.push(e))}),i.length>0)1==i[0].type_contain?t.checked?n=n.filter(e=>e.label!=c):0==u&&n.push({label:c,value:t.value,index:p}):t.checked?i.forEach(e=>{null==n.find(t=>t.label==e.conditional_option_label&&t.value==e.conditional_option_value)&&n.push({label:e.conditional_option_label,value:e.conditional_option_value,index:p})}):0==u&&(n=n.filter(e=>e.label!=c));else if(t.checked&&u<=l)n.push({label:c,value:t.value,index:p});else{const e=n.findIndex(e=>e.label==c&&e.value==t.value);-1!=e&&n.splice(e,1)}}else{let e=[];y.forEach(t=>{t.conditional_options.forEach(t=>void 0===t.id&&t.conditional_option_label==c&&5==t.conditional_option_type&&e.push(t))}),e.length>0?e.forEach(e=>{null==n.find(t=>t.label==e.conditional_option_label&&t.value==e.conditional_option_value)&&n.push({label:e.conditional_option_label,value:e.conditional_option_value,index:p})}):(n.forEach((e,t)=>e.label==c&&n.splice(t,1)),n.push({label:c,value:t.value,index:p}))}}if("button"==i){let e;y.forEach(t=>{t.label_on_product==c&&(e=t.id)});const t=document.querySelectorAll(f)[p].querySelector(`input[name='po_button${e}']#po_button${a}`);if("checkbox"==t.type){const o=document.querySelectorAll(f)[p].querySelectorAll(`input[name='po_button${e}']`);for(const e of o)e.checked&&_++;let i=[];if(y.forEach(e=>{e.conditional_options.forEach(e=>void 0===e.id&&e.conditional_option_label==c&&2==e.conditional_option_type&&i.push(e))}),i.length>0)1==i[0].type_contain?t.checked?n=n.filter(e=>e.label!=c):0==_&&n.push({label:c,value:t.value,index:p}):t.checked?i.forEach(e=>{null==n.find(t=>t.label==e.conditional_option_label&&t.value==e.conditional_option_value)&&n.push({label:e.conditional_option_label,value:e.conditional_option_value,index:p})}):0==_&&(n=n.filter(e=>e.label!=c));else if(t.checked&&_<=l)n.push({label:c,value:t.value,index:p});else{const e=n.findIndex(e=>e.label==c&&e.value==t.value);-1!=e&&n.splice(e,1)}}else{let e=[];y.forEach(t=>{t.conditional_options.forEach(t=>void 0===t.id&&t.conditional_option_label==c&&6==t.conditional_option_type&&e.push(t))}),e.length>0?e.forEach(e=>{null==n.find(t=>t.label==e.conditional_option_label&&t.value==e.conditional_option_value)&&n.push({label:e.conditional_option_label,value:e.conditional_option_value,index:p})}):(n.forEach((e,t)=>e.label==c&&n.splice(t,1)),n.push({label:c,value:t.value,index:p}))}}if(y.forEach(t=>{let o=0,i=[],r=!0,a=!0;if(t.conditional_options.forEach(e=>{4!=e.conditional_option_type&&(5==e.conditional_option_type&&document.querySelectorAll(f)[p].querySelector(`input[key="po_${e.conditional_option_label}"]:checked`)?!document.querySelectorAll(f)[p].querySelector(`input[key="po_${e.conditional_option_label}"]:checked`).type.includes("radio")&&(r=!1):r=3==e.conditional_option_type||12==e.conditional_option_type)}),r?(i=n.filter(e=>{if(t.conditional_options.filter(t=>t.conditional_option_label==e.label).length)return e}),t.conditional_options.map(e=>{if(e.id){if(i.filter(t=>t.label==e.conditional_option_label).length>1){let t="";t=3==e.conditional_option_type||12==e.conditional_option_type?document.querySelectorAll(f)[p].querySelector(`select[key="po_${e.conditional_option_label}"]`):document.querySelectorAll(f)[p].querySelector(`input[key="po_${e.conditional_option_label}"]:checked`),i=i.filter(t=>t.label!=e.conditional_option_label),t&&i.push({label:e.conditional_option_label,value:t.value,index:p})}}if("/cart"==window.location.pathname){i.find(t=>t.label==e.conditional_option_label&&!e.id)&&(a&&(i=i.filter(t=>t.label!=e.conditional_option_label),a=!1),i.push({label:e.conditional_option_label,value:e.conditional_option_value,index:p}))}}),o=e.po.handleCountConditional(i,t,p,o)):o=e.po.handleCountConditional(n,t,p,o),t.conditional_options[0]&&null!=t.conditional_options[0].conditional_option_label&&"free"!==e.currentPlan)if(0==t.conditional_options_display)if(0==t.conditional_options_match)if(o>0){document.querySelectorAll(f)[p].querySelector("#po_stack"+t.id).setAttribute("style","display: flex");const e=document.querySelector("#po_text_area"+t.id);setTimeout((function(){e&&(e.style.height=e.scrollHeight+"px")}),50)}else document.querySelectorAll(f)[p].querySelector("#po_stack"+t.id).setAttribute("style","display: none");else o==t.conditional_options.length?document.querySelectorAll(f)[p].querySelector("#po_stack"+t.id).setAttribute("style","display: flex"):document.querySelectorAll(f)[p].querySelector("#po_stack"+t.id).setAttribute("style","display: none");else 0==t.conditional_options_match?o>0?document.querySelectorAll(f)[p].querySelector("#po_stack"+t.id).setAttribute("style","display: none"):document.querySelectorAll(f)[p].querySelector("#po_stack"+t.id).setAttribute("style","display: flex"):o==t.conditional_options.length?document.querySelectorAll(f)[p].querySelector("#po_stack"+t.id).setAttribute("style","display: none"):document.querySelectorAll(f)[p].querySelector("#po_stack"+t.id).setAttribute("style","display: flex")}),"platinum"===e.currentPlan&&e.enableDisplayProductPrice&&e.enableAddOns){let e=new Event("BSSchangeProductPrice",{bubbles:!0});document.dispatchEvent(e)}}}(e,n,!0,d),function(e,t,o){e.po.removeFileUploaded=function({id:t,option:n,selector:i="",optionSetConditionType:r}){const a=document.querySelector(i),c=a.closest(""+(4!==r||window.bss_admin_option?".bss-po-product-page:not(.bss-po-specific-variant)":".bss-po-product-page.bss-po-specific-variant")),l=c.getAttribute("data-position"),p=c.querySelector(".file-uploaded"+n.id),s=c.querySelector("#po_label"+n.id);c.querySelector("#errorfile"+n.id).style.cssText="display : none;",p.querySelector(".file-upload-item-"+t).remove();const d=o[`${l}-${n.id}`].findIndex(e=>e.id===t);if(-1!=d&&o[`${l}-${n.id}`].splice(d,1),(n.extra_price.file_upload_extra_price||n.extra_price.file_upload_extra_variant_price)&&0===o[`${l}-${n.id}`].length&&(a&&a.value&&(a.value=""),s.querySelector(".po-extra-price")&&s.querySelector(".po-extra-price").parentNode.removeChild(s.querySelector(".po-extra-price"))),"platinum"===e.currentPlan&&e.enableDisplayProductPrice&&e.enableAddOns){let e=new Event("BSSchangeProductPrice",{bubbles:!0});document.dispatchEvent(e)}},e.po.uploadFile=async function({option:n,selector:r="",optionSetConditionType:a}){const c=document.querySelector(r),l=c.closest(".bss-po-product-page"),p=l.getAttribute("data-position"),s=l.querySelector(".file-uploaded"+n.id),d=document.querySelector("#po_label"+n.id),{apiDomain:u,storeId:_}=e,m=t.shop.domain,y=["image/gif","image/jpeg","image/png","image/svg+xml","image/webp"],h=l.querySelector("#errorfile"+n.id),f=c.files;let b=0;const g=l.querySelector(".option-file-upload-"+n.id);g.classList.add("bss-loader"),o[`${p}-${n.id}`]||(o[`${p}-${n.id}`]=[]),h.style.cssText="display : none;";const x=e=>(h.textContent="File type must be: "+e,v(),"cancel");function v(){h.style.display="flex",h.style.color="red",c.value="",c.disabled=!1,g.classList.remove("bss-loader")}const S=()=>(h.style.display="none","accept");function w(e){switch(n.file_type){case"all":return S();case"image":return["jpeg","jpg","png","svg","tiff","tif"].includes(e)?S():x("JPEG, JPG, PNG, SVG, TIFF, TIF");case"document":return["pdf","doc","docx","html","htm","xls","xlsx","txt"].includes(e)?S():x("JPEG, JPG, PNG, SVG, TIFF, TIF");case"custom":return n.custom_file_type&&!n.custom_file_type.split(",").map(e=>e.trim().toLowerCase()).includes(e)?x(n.custom_file_type.split(",").map(e=>e.trim().toUpperCase()).join(", ")):S()}}const O=l.querySelectorAll(`.file-uploaded${n.id} [class*='file-upload-item']`);if(O.length>0){let t;t=e.page.isCartPage()?O[O.length-1]:O[0];const o=t.classList.item(0);b=parseInt(o.slice(-1))}const P=Array.from(O).map(e=>e.outerHTML);if(f&&f.length>0){let t=f.length;if("platinum"!==e.currentPlan?n.max_number_file_upload=1:n.max_number_file_upload,t+O.length>n.max_number_file_upload)h.textContent=`${e.settings.max_number_uploaded_text}: ${n.max_number_file_upload}`,v();else{for(let r=0;r<t;r++)if(f[r]){const t=50,a=5;let c="platinum"===e.currentPlan?t:a,l=f[r].size/1024/1024;if("cancel"==w(f[r].name.substring(f[r].name.lastIndexOf(".")+1).toLowerCase()))break;if(l>c){h.textContent=`${e.settings.check_size_text} ${c}MB`,v();break}const d=f[r].type,g=new FormData;g.append("filetoupload",f[r]);try{const{data:e}=await i.a.post(`${u}/upload-image/uploadFile?shopId=${_}&domain=${m}`,g,{headers:{"Content-Type":"multipart/form-data"}});if(e.success){const t=e.public_url,i=decodeURI(t),a=y.includes(d);o[`${p}-${n.id}`].push({id:r+1+b,url:i});let c=`<div class='file-upload-item-${r+1+b}'><div>`;c+=`<a  href=${i} target="_blank">${e.fileName}</a>`,c+=`<span class='remove-file-${r+1+b}' style="cursor:pointer"><i class="fas fa-trash"></i></span>`,c+="</div>",a&&(c+=`<img src=${i} style="max-width: 250px; height: auto" />`),c+="</div>",P.unshift(c);const l=P.join("");s.innerHTML=l}}catch(e){console.log("Cant upload file to server",e)}}o[`${p}-${n.id}`].forEach((t,o)=>{s.querySelector(".remove-file-"+t.id).addEventListener("click",()=>{e.po.removeFileUploaded({id:t.id,option:n,selector:r,optionSetConditionType:a})})}),e.po.displayPriceAddOnsWithChosenOptions({option:n,element:c,currentLabel:d,optionSetConditionType:a})}}if("platinum"===e.currentPlan&&e.enableDisplayProductPrice&&e.enableAddOns){let e=new Event("BSSchangeProductPrice",{bubbles:!0});document.dispatchEvent(e)}c.disabled=!1,c.value="",g.classList.remove("bss-loader")}}(e,t,o),function(e){e.po.dateTimePicker=function(t,o=""){let n=document.querySelector(".flatpickr.datetime"+t.id);e.page.isHomePage()&&(n=document.querySelector(`[bss-po-featured-product-key='${o}'] .flatpickr`));const i=t.date_time_config,r=t.time_format,a=t.overall_format,c=t.display_date_time_type;let l;0==c?0==r?l=0==a?"d-m-Y h:i K":1==a?"m-d-Y h:i K":2==a?"J F, Y h:i K":"F J, Y h:i K":1==r&&(l=0==a?"d-m-Y H:i":1==a?"m-d-Y H:i":2==a?"J F, Y H:i":"F J,Y H:i"):1==c?l=0==a?"d-m-Y":1==a?"m-d-Y":2==a?"J F,Y":"F J, Y":2==c&&(l=0==r?"h:i K":"H:i"),setTimeout(()=>{document.querySelectorAll(".flatpickr-calendar").forEach(e=>{e.addEventListener("keydown",(function(e){["e","E","+","-"].includes(e.key)&&e.preventDefault()}))})},1e3);let p="default",s=!1,d=t.disable_past_date;const u=t.disable_past_date_type,_=t.disable_specific_date,m=t.enable_cut_off_time,y=t.date_time_mode,h=t.disable_date_range,f=t.disable_all_past_date;m&&("3"==u?d*=7:"4"==u&&(d*=30)),"function"==typeof bssFixSupportCustomLocale&&(p=bssFixSupportCustomLocale(e,p)),"function"==typeof bssFixSupportCustomDateFormatConfig&&(l=bssFixSupportCustomDateFormatConfig(e,l,c),s=!0);const b=()=>{let e=new Date,t="",o="",n="",i=-1;return 0!=c&&2!=c||("0"==u?(e.getMinutes()+d>59?(o=e.getHours()+1,n=e.getMinutes()+d-60):(o=e.getHours(),n=e.getMinutes()+d),t=n<9?`${o}:0${n}`:o<9?`0${o}:${n}`:`${o}:${n}`):"1"==u&&(e.getHours()+d>23?(o=e.getHours()+d-24,n=e.getMinutes(),i+=1):(o=e.getHours()+d,n=e.getMinutes()),t=n<9?`${o}:0${n}`:o<9?`0${o}:${n}`:`${o}:${n}`)),{currentTime:t,hour:o,minute:n,dayDisable:i}},g=e=>{let t=new Date,o=t.getDate();return b().dayDisable>-1&&(o=o+1+b().dayDisable),t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&o==e.getDate()},x=(e,t,o)=>{let n=new Date;return n.setDate(n.getDate()+o),n.setHours(e),n.setMinutes(t),n.getTime()},v=i.filter(e=>!e.selected).map(e=>e.name);let S;function w(e,t){let o=t.split(":"),n=new Date(e);return n.setHours(o[0]),n.setMinutes(o[1]),n}function O(e,t){let o=e;if(0==t){const[t,n]=e.split(":").map(Number),i=t>=12?"PM":"AM";o=`${t%12||12}:${n.toString().padStart(2,"0")} ${i}`}return o}flatpickr(n,{enableTime:0==c||2==c,dateFormat:l,allowInput:s,locale:p,time_24hr:1==r,wrap:!0,noCalendar:2==c,mode:"date_range"==y?"range":"single",disable:[function(t){const o=t.getDay(),n=e.helper.convertDayOfWeek(o),i=Math.ceil(new Date(t).getTime()-(new Date).getTime())/864e5;if(v.includes(n)||m&&d>=0&&t<new Date((new Date).setDate(t.getDate()-1))||m&&0!=u&&1!=u&&d>=0&&i<d-1||m&&(0==u||1==u)&&i<b().dayDisable)return!0;if(_&&_.length>0)for(let e=0;e<_.length;e++)if(new Date(_[e]).getTime()==t.getTime())return!0;if(h&&h.length>0)for(let e=0;e<h.length;e++){let o=h[e].split(" to ")[0],n=h[e].split(" to ")[1];if(t.getTime()>=new Date(o).getTime()&&t.getTime()<=new Date(n).getTime())return!0}if(f){let e=new Date;if(t.getTime()<e.getTime())return!0}if(375===e.storeId){const e=new Date,o=e.getHours(),n=e.getMinutes(),i=new Date;if(i.setDate(i.getDate()+1),i.setHours(0,0,0,0),o>16||16===o&&n>0)return t.getDate()===i.getDate()||t.getDate()===e.getDate();if(o<=16)return t.getDate()===e.getDate()}return!1}],onChange:function(t,o,n){if(!t[0])return;"date_picker"!==y&&(n.isOpen||n.setDate(S),S=t[0]);let a=t[0];2==t.length&&(a=t[1]);const l=e.helper.convertDayOfWeek(a.getDay()),p=i.filter(e=>e.name==l),{selected:s,allDay:d,timeStart:_,timeEnd:h}=p[0];let f=w(a,_).getTime(),v=w(a,h).getTime(),P=document.querySelector(".time-picker--error");if(a.getTime()<f||a.getTime()>v?(P.innerHTML=`${e.settings.error_cut_off_time} ${O(_,r)} ${e.settings.and_text} ${O(h,r)}`,P.style.display="block"):P.style.display="none",m&&(0==u||1==u)){let t=document.querySelector(".time-picker--error");g(a)?(n.set("minTime",b().currentTime),n.set("maxTime","23:59"),x(b().hour,b().minute,b().dayDisable+1)>a.getTime()?(t.innerHTML=`${e.settings.error_cut_off_time} ${b().currentTime} ${e.settings.and_text} 24:00`,t.style.display="block"):t.style.display="none"):t.style.display="none"}if("date_range"==y){let o=document.querySelector(".date-range--error");1!=t.length||n.isOpen?t.length>1&&new Date(t[0]).getTime()==new Date(t[1]).getTime()?(o.innerHTML=e.settings.error_date_range,o.style.display="block"):o.style.display="none":(o.innerHTML=e.settings.error_date_range,o.style.display="block")}"date_range"==y&&t.length>1&&"none"==document.querySelector(".date-range--error").style.display&&1==c&&n.close()},onOpen:function(t,o,n){let r=(new Date).getDay();const a=e.helper.convertDayOfWeek(r),l=i.filter(e=>e.name==a),{selected:p,allDay:s,timeStart:d,timeEnd:_}=l[0];if(0!=c&&2!=c||s?(n.set("minTime","00:00"),n.set("maxTime","23:59")):(n.set("minTime",d),n.set("maxTime",_)),v.includes(a)&&n.clear(),m&&t[0]&&(0==u||1==u)){let o=document.querySelector(".time-picker--error");g(t[0])?(n.set("minTime",b().currentTime),n.set("maxTime","23:59"),x(b().hour,b().minute,b().dayDisable+1)>t[0].getTime()?(o.innerHTML=`${e.settings.error_cut_off_time} ${b().currentTime} ${e.settings.and_text} 24:00`,o.style.display="block"):o.style.display="none"):o.style.display="none"}if("date_range"==y){let o=document.querySelector(".date-range--error");1==t.length||t.length>1&&new Date(t[0]).getTime()==new Date(t[1]).getTime()?(o.innerHTML=e.settings.error_date_range,o.style.display="block"):o.style.display="none"}}})}}(e),function(e,t){e.po.displayColorPickerWithChosenValue=function(t,o=""){const n=document.querySelector(o),i=n.closest("#po_stack"+t.id),r=i.querySelector(`[name="po_color_picker_value${t.id}"]`),a=i.querySelector("#po_label"+t.id),c=i.querySelector(".po-color-picker-clear-btn"+t.id);r.setAttribute("value",n.value),c.addEventListener("click",()=>{if((t.extra_price.color_picker_extra_price||t.extra_price.color_picker_extra_variant_price)&&a.querySelector(".po-extra-price")&&a.querySelector(".po-extra-price").parentNode.removeChild(a.querySelector(".po-extra-price")),n.value="#ffffff",r.setAttribute("value",""),"platinum"===e.currentPlan&&e.enableDisplayProductPrice&&e.enableAddOns){let e=new Event("BSSchangeProductPrice",{bubbles:!0});document.dispatchEvent(e)}})},e.po.getColorPickerValue=function({option:e,selector:t="",optionSetConditionType:o}){return document.querySelector(t).closest(""+(4!==o||window.bss_admin_option?".bss-po-product-page:not(.bss-po-specific-variant)":".bss-po-product-page.bss-po-specific-variant")).querySelector(`[name="po_color_picker_value${e.id}"]`).value}}(e)};if(window.bss_admin_option){u(),e.optionSets=[JSON.parse(JSON.stringify({...window.bss_admin_option}))],e.settings=window.bss_admin_option.settings,e.currentPlan=window.bss_admin_option.currentPlan,e.enableAddOns=window.bss_admin_option.settings.enableAddOns;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css");document.getElementsByTagName("head")[0].appendChild(t),e.po.generateOptionSetOnProductPage({}),document.addEventListener("option-set-preview",()=>{d=[],e.optionSets=[JSON.parse(JSON.stringify({...window.bss_admin_option}))],u(),e.po.generateOptionSetOnProductPage({})})}else!function(e){for(let t=0;t<e.optionSets.length;t++){e.optionSets[t]={...l.defaultOptionSet,...e.optionSets[t]};for(let o=0;o<e.optionSets[t].options.length;o++)e.optionSets[t].options[o]={...l.defaultOption,...e.optionSets[t].options[o]},e.optionSets[t].options[o].conditional_options=e.optionSets[t].options[o].conditional_options.map(e=>({...l.defaultConditionalOptions,...e})),e.optionSets[t].options[o].extra_price={...l.defaultExtraPrice,...e.optionSets[t].options[o].extra_price},e.optionSets[t].options[o].date_time_config=p(e.optionSets[t].options[o].date_time_config)}}(e),u(),function(e,t){e.po.priceElements=function(t){return e.page.isHomePage()?['div[bss-po-featured-product-key="'+t+'"] [bss-po-product-id="'+t+'"][bss-po-product-price]','div[bss-po-featured-product-key="'+t+'"] [bss-po-product-id="'+t+'"][bss-po-product-compare-price]','div[bss-po-featured-product-key="'+t+'"] [bss-po-product-id="'+t+'"][bss-po-product-sale-price]']:['[bss-po-product-id="'+t+'"][bss-po-product-price]','[bss-po-product-id="'+t+'"][bss-po-product-compare-price]','[bss-po-product-id="'+t+'"][bss-po-product-sale-price]']},e.po.handleProductPriceElement=function(o,n=""){const i=(o.product?o.product:{}).id;document.querySelectorAll(e.po.priceElements(i)).forEach(e=>{const t=e.parentNode;t.setAttribute("bss-po-parent-price","true"),t.setAttribute("bss-po-product-id",i)}),e.po.handleChangePrice(o,n),e.po.handleChangeVariant(o,n),t=!1},e.po.handleChangePrice=async function(o,n=""){let i=o.product?o.product:o,r=i.variants;const a=i.id;let c=document.querySelectorAll(e.po.priceElements(a)),l=e.po.appliedOptionSetForOneProduct,p=e.po.appliedOptionSetForSpecificVariant,s=e.po.variantProductIdApplyOptionSet;if(e.home.productsData&&e.home.productsData.length&&e.home.productsData.forEach(t=>{t.id==n&&(l=e.po.getAppliedOptionSetOnProductPage(t),p=e.po.getAppliedOptionSetOnProductPageForVariant({variantId:t.variantId,productData:t}),s=t.variantId)}),"platinum"!==e.currentPlan||!e.enableAddOns||window.bssCaculatingPrice||!l&&!p)return c.forEach(e=>{e.style.visibility="visible"}),void(window.bssCaculatingPrice=!1);if(p)if(e.page.isHomePage()){const e=document.querySelector(`[bss-po-featured-product-key='${n}']`);if(e){if(!e.querySelector(`[bss-po-featured-product-key='${n}'] .bss-po-product-page.bss-po-specific-variant`))return}}else{if(!document.querySelector(".bss-po-product-page.bss-po-specific-variant"))return}window.bssCaculatingPrice=!0;let d=!1,u=i.price;const _=Shopify.theme.name.toLowerCase()||"";r.length>1&&(d=e.common.getCurrentVariant(i,n),u=d.price);"undefined"!=typeof BSS_B2B&&(1==BSS_B2B.shopModules[0].status||1==BSS_B2B.shopModules[1].status)&&BSS_B2B.cp&&BSS_B2B.cp.productAfterUseCP&&await new Promise(e=>{let t=setInterval((function(){const o=BSS_B2B.cp.productAfterUseCP.filter(e=>e.id==i.id);o.length&&(u=o[0].price),u&&(clearInterval(t),e(u))}),500)});let{chosenOptions:m,totalExtraPrice:y}=e.po.getSelectedOptionSet({appliedOptionSet:l,appliedOptionSetForSpecificVariant:p,variantProductIdApplyOptionSet:s,idProductAddToCart:n}),h=e.common.chosenOptionsMapToLinePropertiesObject(m),f=e.po.customHideProp(l,h,y,0,n);f=e.po.customHideProp(p,f.customAttributes,f.totalExtraPrice,f.totalVariantExtraPrice,n),y=f.totalExtraPrice,y=e.common.convertRate(y);const b=Number(u/100)+Number(y),g=e.money.addMoneyWithCurrencyFormat("0",b);if(!t&&["debut"].includes(_)){const e=document.querySelectorAll(`[bss-po-parent-price][data-sale-price][bss-po-product-id="${a}"],[bss-po-parent-price][data-regular-price][bss-po-product-id="${a}"]`);c=[...c,...e]}c.forEach(e=>{e.innerHTML=g,e.style.visibility="visible"});let x=document.querySelectorAll('[bss-po-product-id="'+a+'"][bss-po-product-compare-price]');e.page.isHomePage()&&(x=document.querySelectorAll('div[bss-po-featured-product-key="'+a+'"] [bss-po-product-id="'+a+'"][bss-po-product-compare-price]')),x.length&&x.forEach(e=>{const t=e.parentNode;e.style.visibility="hidden",t.style.display="none"}),window.bssCaculatingPrice=!1},e.po.handleChangeVariant=function(t,o=""){let n=t.product?t.product:t,i=document.querySelectorAll(e.common.selectorVariant);if(e.page.isHomePage()){let t=e.common.selectorVariant.map(e=>{if(!e.includes("[bss-po-featured-product-key"))return`[bss-po-featured-product-key='${o}'] `+e});t.every(e=>!e)||(i=document.querySelectorAll(t))}i.forEach(t=>{let i=800,r="change";if("function"==typeof bssFixSupportEventChangeVariant){let t=bssFixSupportEventChangeVariant(e,i,r);i=t[0],r=t[1]}t.parentNode.addEventListener(r,e.helper.debounce(()=>e.po.handleChangePrice(n,o),i))})}}(e,!0),c(),r(e,t,n),function(e){e.cart={},e.cart.discount={},e.cart.selectQuantity={},e.cart.priceOfItemElements=function(e){return['[bss-po-cart-item-key="'+e+'"][bss-po-item-original-price]','[data-cart-item-id="'+e+'"] [data-cart-item-price-container] .cart-item__original-price','[data-cart-item-key="'+e+'"] [data-cart-item-regular-price]','[bss-po-cart-item-key="'+e+'"][bss-po-item-final-price]','[data-cart-item-key="'+e+'"] .cart-table-price .money','[data-cart-item-key="'+e+'"] .CartItem__Price']},e.cart.totalPriceOfItemElements=function(e){return['[bss-po-cart-item-key="'+e+'"][bss-po-original-line-price]','[data-cart-item-id="'+e+'"] [data-cart-item-line-price-container] .cart-item__original-price','[data-cart-item-key="'+e+'"] [data-cart-item-line-price] [data-cart-item-regular-price]','[bss-po-cart-item-key="'+e+'"][bss-po-final-line-price]','[data-cart-item-key="'+e+'"] .cart-table-line-price .money','[bss-po-cart-item-key="'+e+'"][bss-po-item-final-price]',".cart__item .cart_content_info .price_total .money",'[data-cart-item-key="'+e+'"] price-money bdi','[data-hulkapps-line-price] [data-ymq-item-key="'+e+'"]','[data-cart-item-key="'+e+'"] .CartItem__Price']},e.cart.cartSubtotalPriceElement=["[bss-po-cart-total-price]","span[data-cart-subtotal]",".cart_tot_price",".mini-cart__footer .subtotal .price",".ajaxcart .row .value","[data-hulkapps-cart-total] .ymq_cart_total_price"],e.cart.formActionCart=function(){let t=document.querySelector(["[bss-po-original-line-price]","[bss-po-item-original-price]","[bss-po-final-line-price]","[bss-po-item-final-price]","[data-cart-item-line-price-container] .cart-item__original-price","[data-cart-item-line-price] [data-cart-item-regular-price]","[data-cart-item-key]","[data-cart-item]","cart-items .cart__contents .cart__items",".cart-item .cart-item__price-wrapper"].join(",")),o=null;return t&&(o=t.closest('form[action*="/cart"]'),"function"==typeof bssFixSupportFixFormActionCart&&(o=bssFixSupportFixFormActionCart(e,o))),o},e.cart.quantityInputElements=['form[action="/cart"]:not(.cart-drawer__form) input[name="updates[]"]','input[aria-label="Quantity"]','input[aria-label="Mengde"]','.sf-cart__table-quantity input[name="updates[]"]','.quantity-input[name="quantity"]',"input.cart-item-qty-input",".quantity-selector input.quantity-selector__value",".cart-item--quantity .form-field .form-field-select-wrapper select.form-field-input",".product-quantity .quantity__main .quantity_num .quantity__input",'td.quantity input[name="updates[]"]'],e.cart.quantityChangeButtons=[".quantity__button.no-js-hidden","button.js-qty__adjust","span.js--qty-adjuster","button.quantity-selector__button",".quantity-controls button.alt-focus","button.plus","button.minus:not(.qty_1)","span.plus-btn","span.minus-btn","button.icon.btn",'button[name="plus"]','button[name="minus"]',"cart-qty-button a.\\#cart-item-controls-button",".QuantitySelector a.QuantitySelector__Button","span.quantity-adjuster__button",'.sf-cart__table-quantity button.scd-item__btn[data-qty-change="dec"]','.sf-cart__table-quantity button.scd-item__btn[data-qty-change="inc"]',".quantity.buttoned-input .notabutton",".cart-plus-minus .qtybutton","button.qty-adjust",".cart--item--quantity .cart--quantity--container .cart--minus",".cart--item--quantity .cart--quantity--container .cart--plus",".purchase-details__quantity .control.minus-control",".purchase-details__quantity .control.plus-control",".\\#cart-drawer-product-qty-button","cart-qty-button.\\#cart-item-quantity-controls-item",".btn-quantity",".quantity__button",".cart-item-quantity .quantity-button",".qty-button","button.ajaxcart__qty-adjust",".button-wrapper .adjust",".cart__item__quantity-plus",".cart__item__quantity-minus",".product-quantity .quantity__main button","tr.cart-item td.quantity a",".cart-product-item .qty-group .update-cart--template"],e.cart.checkoutButton=['form[action*="/cart"] [type="submit"][name="checkout"]',".cart__checkout-button.button","a.checkout-button.button","#cart-notification-form .button",".cart__checkout-button.button",".cart-total .proceed-to-checkout .btn",".cart--totals .cart--nav .cart--checkout-button",'button[type="submit"][name="checkout"].cart__checkout-button','button[name="checkout"][type="submit"].\\#button','button[type="submit"].cart__checkout-button','button[type="submit"][name="checkout"].button','button[type="submit"].wcp_checkout_btn','.button-checkout[data-href="/checkout"]',"#update-cart"],e.cart.removeButtons=['cart-remove-button[id^="Remove"]',"[data-cart-remove]","a.cart__remove","a.btn-link.cart-item__remove","p.txt--minor.cart__remove a","p.cart__product-meta a","a.remove","a.line-item__quantity-remove.link",".cart-table-item-remove a","button.minus.qty_1","a.cart_ac_remove","a.tt-btn-close.svg-icon-delete","a.remove_item_multi","cart-qty-button a.\\#cart-item-remove-button",".CartItem__Actions a.CartItem__Remove",".cart-column--remove a.cart-remove",".sf-cart__item-product-info button.scd-item__remove","tr[data-line] .text-left .input-group .btn.btn-danger","a.cart__product-remove",".CartItem a.CartItem__Remove",".button.button--tertiary",".cart-drawer__line-items .v-stack .text-xs.text-center",".\\#cart-drawer-product-remove",".cart__product-information .cart__remove","cart-remove-button.cart__remove","button.cart__form-item-remove",".cart__items__remove",".total-product cart-remove-button",".cart-remove .remove-icon.line_item_remove",".cart__items .cart__items__remove a",".cart__item .cart_content_info .cart__remove-btn",".cart-item cart-remove-button"],e.cart.updateCartButton=[".btn-secondary.update-cart",".btn--secondary.update-cart",'.cart__actions input[name="update"]','.cart__footer button[name="update"]',".btn--secondary.cart__update",".btn--link.cart-update","row.cart-page--bottom #update_quantities"],e.cart.miniCartDrawerBox=[".drawer"],e.cart.miniCartIcon=[".header__icon--cart",".cart_icon.btn",".tap-area.relative",".\\#header-toolbar-item cart-drawer-trigger .\\#header-toolbar-item-icon",".site-cart-handle",".navlink--cart","a#cart-counter",".icon-cart:not(svg)","#cart-drawer-toggle"],e.cart.miniCartNotificationBox=[".cart-notification"]}(e),function(e,t){e.cart.handleCartCheckoutBtn=function(o){if("undefined"!=typeof BSS_B2B&&(1==BSS_B2B.shopModules[1].status&&BSS_B2B.cart.cpPricingList&&BSS_B2B.cart.cpPricingList.size>0||1==BSS_B2B.shopModules[0].status&&BSS_B2B.cart.qbPricingList&&BSS_B2B.cart.qbPricingList.size>0))return;let n=document.querySelectorAll(e.cart.checkoutButton.join(","))[0],r=document.querySelector("button.tdf_cta_btn"),a=[];if(document.querySelectorAll(e.cart.checkoutButton.join(",")).length>1&&(n=document.querySelectorAll(e.cart.checkoutButton.join(","))[1]),"function"==typeof bssFixSupportGetButtonCheckOut){let t=bssFixSupportGetButtonCheckOut(e,n,r);n=t.checkoutBtn,r=t.sellyCheckoutBtn}(n||r)&&("function"==typeof bssFixSupportCloneButtonCheckOut?a=bssFixSupportCloneButtonCheckOut(e,n,r,a):(n&&e.helper.cloneButtonFunc(n,a),r&&e.helper.cloneButtonFunc(r,a))),a.forEach(n=>{n&&n.addEventListener("click",(async function(n){if(n.preventDefault(),n.stopPropagation(),[8937].includes(e.storeId)&&document.querySelector("#supertime-date-picker")&&!document.querySelector("#supertime-date-picker").value)return;let r=[],a=[],c={},l={},p={},s=!1,d="",u="",_=0,m=0,y="",h=document.querySelector(".bss-po-discount-code--applied-wrapper--applied-remove"),f=h?h.getAttribute("data-code"):"";if(window.Zapiet&&window.ZapietCachedSettings&&!Zapiet.Widget.checkoutEnabled())return ZapietEvent.fire("checkout_error","Please select a date/time"),n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),!1;if(void 0!==window.storePickup&&void 0!==window.storePickupSettings&&0==storePickup.submitForm().valid())return;if(8518==e.storeId&&e.page.isCartPage()){let e=document.querySelector("#CartTerms");if(e.setCustomValidity(theme.strings.requiresTerms),!e.checked)return e.reportValidity(),e.focus(),n.preventDefault(),!1}if(o.items.forEach(t=>{let o=[],n=JSON.parse(localStorage.getItem(t.key)),i=0,c=`${e.settings.add_ons_text} ${t.title}`,l=0,p=[],d="";if(2398==e.storeId&&(c=e.settings.add_ons_text+" above print"),n){i=[5701,6536,6191].includes(e.storeId)&&1==e.enableAddOns?null==t.properties._totalExtraPrice?n.totalExtraPrice:t.properties._totalExtraPrice:n.totalExtraPrice,l=n.totalVariantExtraPrice,n.skuOptionValueString&&(d=n.skuOptionValueString),n.skuOptionValueString_1&&(d?d+=e.settings.sku_separator+n.skuOptionValueString_1:d=n.skuOptionValueString_1);let r=n.optionQuantity,a=n.variantData;if(Object.keys(a).length)Object.keys(n).forEach(i=>{if(Object.keys(t.properties).includes(" "+i))if(a[i])if(a[i].id){let o=n[i],c=r[i]&&r[i][o];if(e.marketStatus)p=e.common.convertObjVariantToLineItems(p,a[i],c?c*t.quantity:t.quantity);else if(c&&(o=`${c} x ${o}`),o.includes("/po/")&&o.includes(", ")){const e=o.split(", ").map((e,t)=>({key:`${i}-File${t+1}`,value:e}));p.push({variantId:"gid://shopify/ProductVariant/"+a[i].id,quantity:c?c*t.quantity:t.quantity,customAttributes:e})}else p.push({variantId:"gid://shopify/ProductVariant/"+a[i].id,quantity:c?c*t.quantity:t.quantity,customAttributes:{key:i,value:o}})}else if("string"==typeof n[i]){let c=[];n[i].split(", ").forEach(o=>{let n=o,l=r[i]&&r[i][n];const s=l?`${l} x ${n}`:n;e.marketStatus?a[i][o]&&a[i][o].id&&(p=e.common.convertObjVariantToLineItems(p,a[i][o],l?l*t.quantity:t.quantity)):a[i][o]?p.push({variantId:"gid://shopify/ProductVariant/"+a[i][o].id,quantity:l?l*t.quantity:t.quantity,customAttributes:{key:i,value:s}}):c.push(s)}),c.length&&!e.marketStatus&&o.push({key:i,value:c.join(", ").toString()})}else{let c=[];n[i].forEach(o=>{let n=JSON.parse(o).title,l=r[i]&&r[i][n],s=l?`${l} x ${n}`:n;e.marketStatus?a[i][n]&&a[i][n].id&&(p=e.common.convertObjVariantToLineItems(p,a[i][n],l||t.quantity)):a[i][n]?p.push({variantId:"gid://shopify/ProductVariant/"+a[i][n].id,quantity:l?l*t.quantity:t.quantity,customAttributes:{key:i,value:s}}):c.push(s)}),c.length&&!e.marketStatus&&o.push({key:i,value:c.join(", ").toString()})}else if(!e.marketStatus)if("object"==typeof n[i]){let e=[];n[i].forEach(t=>{let o=JSON.parse(t).title,n=r[i]&&r[i][o];const a=n?`${n} x ${o}`:o;e.push(a)}),o.push({key:i,value:e.join(", ").toString()})}else{let e=n[i],t=r[i]&&r[i][e];t&&(e=`${t} x ${e}`),o.push({key:i,value:e})}});else for(const e in t.properties)if("_totalExtraPrice"!=e)if(t.properties[e].includes("/po/")&&t.properties[e].includes(", ")){t.properties[e].split(", ").map((t,n)=>o.push({key:`${e}-File${n+1}`,value:t}))}else o.push({key:e,value:t.properties[e]})}else for(const n in t.properties)"_totalExtraPrice"!=n?o.push({key:n,value:t.properties[n]}):[5701,6536,3171,6191,8699].includes(e.storeId)&&1==e.enableAddOns&&null!=t.properties._totalExtraPrice&&(i=t.properties._totalExtraPrice);if(e.marketStatus&&p.length)for(const e in t.properties)"_totalExtraPrice"!=e&&o.push({key:e,value:t.properties[e]});let u=o.some(({key:e})=>e)?e.helper.getSkuItemBySkuType(t.sku,d):"";u&&a.push(u),i-=l,i=e.common.convertRate(i,"checkout"),e.marketStatus?i||l?(s=!0,r.push({title:c,originalUnitPrice:i,taxable:t.taxable,sku:"",quantity:t.quantity,customAttributes:o}),p.length&&r.push(...p),r.find(e=>e.variantId&&e.variantId.includes(t.variant_id))?r.find(e=>e.variantId&&e.variantId.includes(t.variant_id)).quantity+=t.quantity:r.push({variantId:"gid://shopify/ProductVariant/"+t.variant_id,quantity:t.quantity})):r.push({variantId:"gid://shopify/ProductVariant/"+t.variant_id,quantity:t.quantity,customAttributes:o}):i&&i>0||u&&!i?(s=!0,r.push({variantId:"gid://shopify/ProductVariant/"+t.variant_id,quantity:t.quantity},{title:c,originalUnitPrice:i,taxable:t.taxable,sku:u,quantity:t.quantity,customAttributes:o}),l>0&&r.push(...p)):l>0?(s=!0,r.push({variantId:"gid://shopify/ProductVariant/"+t.variant_id,quantity:t.quantity,customAttributes:o}),r.push(...p)):r.push({variantId:"gid://shopify/ProductVariant/"+t.variant_id,quantity:t.quantity,customAttributes:o})}),e.enableDiscount&&f){const o=await e.helper.getCartData();if(o.item_count<1)return;if(e.enableAddOns?(o.bss_items_subtotal_price=window.bssProductOptionsPrices.cart_subtotal,o.items.forEach(e=>{e.bss_final_line_price=window.bssProductOptionsPrices[e.key],e.bss_final_price=window.bssProductOptionsPrices[e.key]/e.quantity})):(o.bss_items_subtotal_price=o.items_subtotal_price,o.items.forEach(e=>{e.bss_final_line_price=e.final_line_price,e.bss_final_price=e.final_price})),!e.cart.checkDataBeforeCheckout(o))return;const{apiDomain:n}=e,a={domain:t.shop.domain,cart:o,discountCode:f,customerId:t.customer.id},c={headers:{"Content-Type":"application/json"}};if(e.marketStatus){let t=e.marketData.parent&&e.marketData.parent.adjustment?e.marketData.parent.adjustment.value:0,o=e.marketData.parent&&e.marketData.parent.adjustment?e.marketData.parent.adjustment.type:"";a.marketData={priceAdjustment:t,adjustmentType:o},a.marketRate=parseFloat(Shopify.currency.rate)}const{data:l}=await i.a.post(n+"/dc/check-discount-code",a,c);if(l.success){let t=Number(l.discount_amount)/100;e.marketStatus&&(t=(Number(t)/Number(Shopify.currency.rate)).toFixed(2));const o={title:l.discount.title,description:l.discount.title,amount:Number(t),value:Number(t),valueType:"FIXED_AMOUNT"};p={lineItems:r,appliedDiscount:o}}}else if(window.discountOnCartProAppLoaded&&!e.enableDiscount){var b=document.cookie.split(";");let e={};for(var g=0;g<b.length;g++){var x=b[g].split("=");"docapp-coupon"==x[0].trim()&&(e=JSON.parse(decodeURIComponent(x[1])))}let t=e.codes;await fetch(window.Shopify.routes.root+"cart.js").then(e=>e.json()).then(e=>fetch(window.Shopify.routes.root+"apps/discount-on-cart-pro/cart-discounts",{method:"POST",body:JSON.stringify({cart:e,codes:t,bssProductOptionsPrices:window.bssProductOptionsPrices}),headers:{"Content-Type":"application/json"}})).then(e=>e.json()).then(e=>{d=e.discount_name,u=e.discount_name,_=Number(e.discount_amount)/100,m=Number(e.discount_amount_default_currency)/100,y=e.free_shipping_discount?e.free_shipping_discount:null}).catch(e=>{console.log("Error:",e)}),c={title:d,description:u,amount:_,value:m,valueType:"FIXED_AMOUNT"},y?(l={title:y,shippingRateHandle:"",price:"0"},p={lineItems:r,appliedDiscount:c,shippingLine:l}):p={lineItems:r,appliedDiscount:c}}else p={lineItems:r};if(window.Zapiet&&window.ZapietCachedSettings){let e;await fetch(window.Shopify.routes.root+"cart.js").then(e=>e.json()).then(t=>{e=t});p={customAttributes:Object.entries(e.attributes).map(e=>({key:e[0],value:e[1]})),lineItems:r}}if(6909==e.storeId){let t=await e.helper.getCartData(),o=document.querySelector(".cart__footer .text-area--resize-vertical").value;const n=Object.entries(t.attributes).map(e=>({key:e[0],value:e[1]}));p.customAttributes=n,p.note=o}else if(9392==e.storeId&&document.querySelector(".cart__footer .cart__note textarea")){let e=document.querySelector(".cart__footer .cart__note textarea").value;p.note=e}if(!s&&!a.length)return 7966==e.storeId&&"undefined"!=typeof BSS_B2B&&(1==BSS_B2B.shopModules[1].status&&BSS_B2B.cart.cpPricingList&&BSS_B2B.cart.cpPricingList.size>0||1==BSS_B2B.shopModules[0].status&&BSS_B2B.cart.qbPricingList&&BSS_B2B.cart.qbPricingList.size>0)?void 0:void(window.location="/checkout"+e.helper.getShopifyLocaleParams());e.marketStatus&&"undefined"!=typeof Shopify&&Shopify&&Shopify.country&&(p.marketRegionCountryCode=Shopify.country);const{apiDomain:v}=e,S={domain:t.shop.domain,draftOrderInput:p};try{const t={headers:{"Content-Type":"application/json"}},{data:o}=await i.a.post(v+"/checkout/create-draft-order",S,t);o.draftOrder&&(window.location=o.draftOrder.invoiceUrl+e.helper.getShopifyLocaleParams())}catch(e){console.log("Error:",e)}}))})}}(e,t),function(e,t){e.cart.checkEventListener=0,e.cart.displayPriceAddOnsWithCartItems=async function(o){let n={},i=/[^0-9\.]+/g;"amount_with_comma_separator"==t.shop.money_format.match(/\{\{\s*(\w+)\s*\}\}/)[1]&&(i=/[^0-9\.\,]+/g);let r=document.querySelectorAll(e.cart.cartSubtotalPriceElement.join(",")),a=o.items,c="0";if(a.length)for(let t=0;t<a.length;t++){let o=a[t],l=o.quantity,p=o.key,s=String(o.final_price/100),d=String(o.final_line_price/100),u=document.querySelectorAll(e.cart.priceOfItemElements(o.key).join(",")),_=null;if(_=822!=e.storeId||e.page.isCartPage()?document.querySelectorAll(e.cart.totalPriceOfItemElements(o.key).join(",")):document.querySelectorAll(".bss-total-price-"+(t+1)),"undefined"!=typeof BSS_B2B){let t=document.querySelector('[data-cart-item-key="'+p+'"]');"function"==typeof bssFixSupportParentLineItem&&(t=bssFixSupportParentLineItem(e,t,p)),u=t.querySelectorAll(".bss-qb-price-item"),_=t.querySelectorAll(".bss-qb-total-price-item"),r=document.querySelectorAll(".bss-qb-cart-subtotal"),l=t.querySelector(e.cart.quantityInputElements.join(",")).value,u.length||(u=t.querySelectorAll(":not(data-cart-item-discounted-price-group) [bss-b2b-item-final-price] span span"),u.length||(u=t.querySelectorAll(":not(data-cart-item-discounted-price-group) [bss-b2b-item-final-price] span")),u.length||(u=t.querySelectorAll(':not(data-cart-item-discounted-price-group) [bss-b2b-item-final-price]:not([style*="display: none"])')),u.length||(u=t.querySelectorAll(":not(data-cart-item-discounted-price-group) [bss-b2b-item-original-price] span span")),u.length||(u=t.querySelectorAll(":not(data-cart-item-discounted-price-group) [bss-b2b-item-original-price] span")),u.length||(u=t.querySelectorAll(':not(data-cart-item-discounted-price-group) [bss-b2b-item-original-price]:not([style*="display: none"])'))),_.length||(_=t.querySelectorAll(":not(data-cart-item-discounted-price-group) [bss-b2b-final-line-price] span span"),_.length||(_=t.querySelectorAll(":not(data-cart-item-discounted-price-group) [bss-b2b-final-line-price] span")),_.length||(_=t.querySelectorAll(':not(data-cart-item-discounted-price-group) [bss-b2b-final-line-price]:not([style*="display: none"])')),_.length||(_=t.querySelectorAll(":not(data-cart-item-discounted-price-group) [bss-b2b-original-line-price] span span")),_.length||(_=t.querySelectorAll(":not(data-cart-item-discounted-price-group) [bss-b2b-original-line-price] span")),_.length||(_=t.querySelectorAll(':not(data-cart-item-discounted-price-group) [bss-b2b-original-line-price]:not([style*="display: none"])'))),r.length||(r=document.querySelectorAll("[bss-b2b-cart-total-price] span span"),r.length||(r=document.querySelectorAll("[bss-b2b-cart-total-price] span")),r.length||(r=document.querySelectorAll("[bss-b2b-cart-total-price]")),r.length||(r=document.querySelectorAll(e.cart.cartSubtotalPriceElement.join(",")))),u.length?s=e.money.addMoneyWithCurrencyFormatWithB2BApps(u[0].innerHTML.replace(i,"")):(s=String(o.final_price/100),u=document.querySelectorAll(e.cart.priceOfItemElements(o.key).join(","))),_.length?d=e.money.addMoneyWithCurrencyFormatWithB2BApps(_[0].innerHTML.replace(i,"")):(d=String(o.final_line_price/100),_=document.querySelectorAll(e.cart.totalPriceOfItemElements(o.key).join(",")))}if(window.Zapiet&&window.ZapietCachedSettings){let e=0;if(o.properties._ZapietId){let t={...o.properties};delete t._ZapietId;for(const[o,n]of Object.entries(t)){const i=n.indexOf(" (+ "),r=n.indexOf(")");e+=+n.substring(i+2,r).replace(/\D/g,""),t[o]=n.substring(0,i)}t.totalExtraPrice=e,localStorage.setItem(p,JSON.stringify(t))}}let m=0;localStorage.getItem(p)&&(m=Number(JSON.parse(localStorage.getItem(p)).totalExtraPrice),m=e.common.convertRate(m));let y=e.money.addMoneyWithCurrencyFormat(s,m),h=e.money.addMoneyWithCurrencyFormat(d,m*l);1==e.enableAddOns&&(3793!==e.storeId&&u.forEach(e=>{e.innerHTML=e.innerHTML.replace(e.innerHTML,y)}),_.forEach(e=>{e.innerHTML=e.innerHTML.replace(e.innerHTML,h)})),c=5068==e.storeId?m?e.money.addMoneyWithCurrencyFormat(c.replace("Rs. ","").replace(",",""),h.replace("Rs. ","").replace(",","")):e.money.addMoneyWithCurrencyFormat(c.replace("Rs. ","").replace(",",""),d):m?e.money.addMoneyWithCurrencyFormat(c.replace(i,""),h.replace(i,"")):e.money.addMoneyWithCurrencyFormat(c.replace(i,""),d),1==e.enableAddOns&&r.forEach(e=>{e.innerHTML=e.innerHTML.replace(e.innerHTML,c)});let f=0,b=0;[7845].includes(e.storeId)?(f=c.replace("Rs. ","").match(/[\d,.]+/g)[0],b=h.replace("Rs. ","").match(/[\d,.]+/g)[0]):(f=c.match(/[\d,.]+/g)[0],b=h.match(/[\d,.]+/g)[0]);let g=2===f.length?f:(f.replaceAll(",",".").substr(0,f.length-3).replaceAll(".","")+f.substr(f.length-3,f.length)).replace(",",".");n.cart_subtotal=Math.round(100*Number(g));let x=2===b.length?b:(b.replaceAll(",",".").substr(0,b.length-3).replaceAll(".","")+b.substr(b.length-3,b.length)).replace(",",".");n[""+o.key]=Math.round(100*Number(x))}document.querySelectorAll("[bss-po-cart-item-key],[bss-po-cart-total-price],[bss-po-cart-discount-total],[data-cart-item-regular-price],span[data-cart-subtotal],.cart-table-price,.cart-table-line-price").forEach(e=>{e.style.visibility="visible"}),"undefined"!=typeof BSS_B2B&&setTimeout(()=>{document.querySelectorAll(".bss-qb-cart-subtotal,.bss-qb-price-item,.bss-qb-total-price-item,[bss-b2b-item-final-price],[bss-b2b-item-original-price],[bss-b2b-final-line-price],[bss-b2b-original-line-price], [bss-b2b-cart-total-price]").forEach(e=>{e.style.opacity="1"})},1e3),window.bssProductOptionsPrices=n;let l=new Event("bss_po_handleCartPrice",{detail:{}});document.dispatchEvent(l),document.getElementsByTagName("head")[0].innerHTML.indexOf("d5zu2f4xvqanl")&&setTimeout(()=>{let e=document.querySelectorAll(".tdf_dialog_content .tdf_cart_amount, .tdf_price_normal");e.length&&e.forEach(e=>{let t=e&&e.querySelector(":scope > span.tdf_money");t&&(t.innerHTML=t.innerHTML.replace(t.innerHTML,c))})},1500),375==e.storeId&&123598667911==Shopify.theme.id&&document.querySelector(".cart_total_price")&&(document.querySelector(".cart_total_price").innerText=c,localStorage.setItem("bss-subtotal",c))},e.cart.resetFeaturesOnCartPage=function(t){if(e.checkCpQb)return;let o=e.cart.formActionCart();const n=t=>{fetch(window.Shopify.routes.root+"cart.js").then(e=>e.json()).then(o=>{let n=0;const i=setInterval(()=>{n++,document.querySelector(t)&&(e.cart.resetFeaturesOnCartPage(o),e.cart.generateEditCartOnCartPage(o),clearInterval(i)),n>6&&clearInterval(i)},500)})};let i=o.querySelectorAll(e.cart.removeButtons.join(",")),r=o.querySelectorAll(e.cart.quantityInputElements.join(",")),a=o.querySelectorAll(e.cart.quantityChangeButtons.join(",")),c=document.querySelector(e.cart.updateCartButton.join(","));if(3667==e.storeId&&document.querySelectorAll(".quick-cart__form .quick-cart__item-remove").length&&(i=[...i,...document.querySelectorAll(".quick-cart__form .quick-cart__item-remove")]),7250==e.storeId&&document.querySelectorAll(".mini-cart__quantity-remove").length&&(i=[...i,...document.querySelectorAll(".mini-cart__quantity-remove")]),5056==e.storeId&&(r=document.querySelectorAll(".cart-item--inner .form-field-input")),i.length)for(let t=0;t<i.length;t++)i[t].addEventListener("click",(function(){if(e.cart.cartQtyOnChange(),5378==e.storeId&&1==e.enableInCart&&n(".yv-cart-table tbody[data-cart-items]:not(.disabled)"),7250==e.storeId&&1==e.enableInCart){var o=JSON.parse(localStorage.getItem("_ssw_cart_data"));o.items.splice(t,1),localStorage.setItem("_ssw_cart_data",JSON.stringify(o))}}));(!c||c&&"none"==getComputedStyle(c).display)&&(r.forEach(t=>{t.addEventListener("keypress",(function(e){"Enter"===e.key&&e.preventDefault()})),t.addEventListener("change",(function(){e.cart.checkEventListener++,e.cart.checkEventListener>1&&5378!=e.storeId||(e.cart.cartQtyOnChange(),5378==e.storeId&&1==e.enableInCart&&n(".yv-cart-table tbody[data-cart-items]:not(.disabled)"))}))}),a.forEach(t=>{t.addEventListener("click",(function(){e.cart.checkEventListener++,e.cart.checkEventListener>1&&5378!=e.storeId||(e.cart.cartQtyOnChange(),5378==e.storeId&&1==e.enableInCart&&n(".yv-cart-table tbody[data-cart-items]:not(.disabled)"))}))}))},e.cart.cartQtyOnChange=function(){if(e.checkCpQb)return;let t=e.cart.formActionCart();document.querySelectorAll("[bss-po-cart-item-key],[bss-po-cart-total-price],[bss-po-cart-discount-total],[data-cart-item-regular-price],span[data-cart-subtotal],.cart-item__original-price,.cart-table-price,.cart-table-line-price").forEach(e=>{e.style.visibility="hidden"});let o=e.cart.removeButtons.join(",")+","+e.cart.quantityInputElements.join(",")+","+e.cart.quantityChangeButtons.join(",");t.querySelectorAll(o).forEach(e=>e.style.pointerEvents="none");let n=!0;if("function"==typeof bssFixSupportNotRerenderTheme&&(n=bssFixSupportNotRerenderTheme(e,n,t,o)),n){let n=setInterval((function(){t=e.cart.formActionCart(),t&&t.querySelectorAll(o).forEach(e=>{if(!e.style.pointerEvents){let e=new Event("disabled",{bubbles:!0});return document.dispatchEvent(e),void clearInterval(n)}})}),100)}},e.cart.customUpdateCartBtn=function(t){let o=document.querySelectorAll(e.cart.quantityInputElements.join(",")),n=document.querySelector("#checkout-buttons #update_quantities"),i=n.cloneNode(!0);n.parentNode.insertBefore(i,n),i.classList.add("bss-po-btn-checkout"),n.parentNode.removeChild(n);let r=[];i.addEventListener("click",(async function(e){e.preventDefault(),e.stopPropagation(),t.items.forEach((e,t)=>{let n=Number(o[t].value);r[t]=n});const n={updates:r};try{fetch(window.Shopify.routes.root+"cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(e=>{window.location.pathname="/cart"})}catch(e){console.log("Error:",e)}}))},window.addEventListener("disabled",(function(){let t=e.cart.formActionCart();t.querySelectorAll(e.cart.removeButtons.join(",")+","+e.cart.quantityInputElements.join(",")+","+e.cart.quantityChangeButtons.join(",")).forEach(e=>{e.style.pointerEvents="none"});let o=0;"function"==typeof bssFixSupportTimeOutWhenEventDisable&&(o=bssFixSupportTimeOutWhenEventDisable(e,o));let n="";n=[6277].includes(e.storeId)?"/cart.js":window.Shopify.routes.root+"cart.js",setTimeout((async function(){if(7819===e.storeId)return window.location.pathname="/cart";await fetch(n).then(e=>e.json()).then(o=>{e.cart.checkEventListener=0,1==e.enableInCart&&e.cart.generateEditCartOnCartPage(o),1==e.enableAddOns&&(e.cart.renderDiscountCodeFeature(),e.cart.handleCartCheckoutBtn(o),e.cart.displayPriceAddOnsWithCartItems(o)),t.querySelectorAll(e.cart.removeButtons.join(",")+","+e.cart.quantityInputElements.join(",")+","+e.cart.quantityChangeButtons.join(",")).forEach(e=>{e.style.pointerEvents=""}),e.cart.resetFeaturesOnCartPage(o)}).catch(e=>{})}),o)}))}(e,t),function(e,t,o){e.po.handleAddToCart=function(o="",n=""){let i=null,r=null,a=e.po.appliedOptionSetForOneProduct,c=e.po.appliedOptionSetForSpecificVariant,l=e.po.variantProductIdApplyOptionSet,p=t.product,s=!1;function d(t){t.forEach(t=>{t&&(4389==e.storeId&&t.addEventListener("touchstart",o=>{c=e.po.appliedOptionSetForSpecificVariant,l=e.po.variantProductIdApplyOptionSet,e.po.addToCart({e:o,add_to_cart_btn:t,appliedOptionSet:a,appliedOptionSetForSpecificVariant:c,variantProductIdApplyOptionSet:l,currentProduct:p,customCondition:s,dataHomePage:n})}),t.addEventListener("click",o=>{c=e.po.appliedOptionSetForSpecificVariant,l=e.po.variantProductIdApplyOptionSet,(1051==e.storeId&&"A"!=t.tagName||1051!=e.storeId)&&e.po.addToCart({e:o,add_to_cart_btn:t,appliedOptionSet:a,appliedOptionSetForSpecificVariant:c,variantProductIdApplyOptionSet:l,currentProduct:p,customCondition:s,dataHomePage:n})}),1051==e.storeId&&"A"==t.tagName&&t.addEventListener("click",o=>{o.preventDefault(),c=e.po.appliedOptionSetForSpecificVariant,l=e.po.variantProductIdApplyOptionSet;let{chosenOptions:n}=e.po.getSelectedOptionSet({appliedOptionSet:a,appliedOptionSetForSpecificVariant:c,variantProductIdApplyOptionSet:l}),i="Salve, ci piacerebbe ricevere un preventivo inerente al prodotto in oggetto. \n";n.forEach((e,t)=>{i+=`${t}: ${e} \n`});let r=t.href.substring(0,t.href.search("Salve"));t.href=r+encodeURI(i),window.location=t.href}),t.setAttribute("po-btn-atc",!0))})}if("function"==typeof bssSupportCustomCondition&&(s=bssSupportCustomCondition(e,s)),(e.page.isHomePage()&&n||s)&&(a=e.po.getAppliedOptionSetOnProductPage(n)),"function"==typeof bssSupportGetCurrentProduct&&(p=bssSupportGetCurrentProduct(e,p)),i=""==e.cartSelector.trim()||0==e.cartSelector.trim().length?document.querySelector('form[action*="/cart/add"] button[type="submit"], form[action*="/cart/add"] input[type="submit"], form[action*="/cart/add"] button[name="add"], form[action*="/cart/add"] button.product-form--add-to-cart, form[action*="/cart/add"] button.product-form--add-to-cart, form[action*="/cart/add"] button#AddToCart, form[action*="/cart/add"] .tt-row-custom-01 button.btn-addtocart, form[action*="/cart/add"] button.btn-addtocart, .actions-primary .btn.btn-cart, form[action*="/cart/add"] .product-buy-buttons--primary, form[action*="/cart/add"] button[data-checkout="cart"], form[action*="/cart/add"] button.button--addToCart'):document.querySelector(e.cartSelector),null!=i&&0!=i.length||(i=document.querySelector(".product-form__cart-submit, #AddToCart-product-template, .product-atc-btn, .product-menu-button.product-menu-button-atc, .button-cart, .product-add, .add-to-cart input, .btn-addtocart, [name=add]")),"function"==typeof bssFixSupportActionAddToCart){const t=bssFixSupportActionAddToCart(e,i,r,d);i=t.add_to_cart_btn,r=t.sticky_add_to_btn}if(e.page.isHomePage()||s)if(p=n,""==e.cartSelector.trim()||0==e.cartSelector.trim().length)7019==e.storeId?(document.querySelector(`[bss-po-featured-product-key='${o}'] .bss-po-product-page`)&&(document.querySelector(`[bss-po-featured-product-key='${o}'] .bss-po-btn-addToCart`).style.display="block"),i=document.querySelector(`[bss-po-featured-product-key='${o}'] .bss-po-btn-addToCart`)):i=document.querySelector(`[bss-po-featured-product-key='${o}'] form[action*="/cart/add"] button[type="submit"], [bss-po-featured-product-key='${o}'] form[action*="/cart/add"] input[type="submit"], [bss-po-featured-product-key='${o}'] form[action*="/cart/add"] button[name="add"], [bss-po-featured-product-key='${o}'] form[action*="/cart/add"] button.product-form--add-to-cart, [bss-po-featured-product-key='${o}'] form[action*="/cart/add"] button.product-form--add-to-cart, [bss-po-featured-product-key='${o}'] form[action*="/cart/add"] button#AddToCart, [bss-po-featured-product-key='${o}'] form[action*="/cart/add"] .tt-row-custom-01 button.btn-addtocart, [bss-po-featured-product-key='${o}'] form[action*="/cart/add"] button.btn-addtocart,[bss-po-featured-product-key='${o}'] .actions-primary .btn.btn-cart, [bss-po-featured-product-key='${o}'] form[action*="/cart/add"] .product-buy-buttons--primary, [bss-po-featured-product-key='${o}'] form[action*="/cart/add"] button[data-checkout="cart"], [bss-po-featured-product-key='${o}'] form[action*="/cart/add"] button.button--addToCart`);else{const t=`[bss-po-featured-product-key='${o}']`+e.cartSelector;i=document.querySelector(t)}i&&!i.getAttribute("po-btn-atc")&&d([i,r])},e.po.addToCart=function({e:n,add_to_cart_btn:i,appliedOptionSet:r,appliedOptionSetForSpecificVariant:a,variantProductIdApplyOptionSet:c,currentProduct:l,customCondition:p,dataHomePage:s}){if(n.preventDefault(),n.stopPropagation(),7458==e.storeId){let e=document.querySelector(".options-selection__option-values");if(e&&"false"==e.getAttribute("data-variant-option-chosen-value"))return}7250==e.storeId&&fetch(window.Shopify.routes.root+"cart.json").then(e=>e.json()).then(e=>{var t=JSON.parse(localStorage.getItem("_ssw_cart_data"));t.items=e.items,localStorage.setItem("_ssw_cart_data",JSON.stringify(t))});let d="";(e.page.isHomePage()||p)&&(d=i.closest("[bss-po-featured-product-key]").getAttribute("bss-po-featured-product-key"),e.home.productsData&&e.home.productsData.forEach(t=>{t.id==d&&(a=e.po.getAppliedOptionSetOnProductPageForVariant({variantId:t.variantId,productData:s}),c=t.variantId)})),"function"==typeof bssFixSupportDisableButtonAddToCart&&bssFixSupportDisableButtonAddToCart(e,i);let{chosenOptions:u,chosenOptionsWithoutPriceAddOns:_,totalExtraPrice:m,totalVariantExtraPrice:y}=e.po.getSelectedOptionSet({appliedOptionSet:r,appliedOptionSetForSpecificVariant:a,variantProductIdApplyOptionSet:c,idProductAddToCart:d});if("function"==typeof bssFixSupportCustomAttributeWhenAddToCart){let t=bssFixSupportCustomAttributeWhenAddToCart(e,u,_);u=t.chosenOptions,_=t.chosenOptionsWithoutPriceAddOns}if(9171===e.storeId){const e=/\[(.*?)\]/;document.querySelectorAll('input[name*="properties["]').forEach(t=>{let o=e.exec(t.name);const n=o&&o.length>1&&o[1],i=t.value;n&&(u.set(""+n," "+i),_.set(""+n," "+i))})}let h=e.common.chosenOptionsMapToLinePropertiesObject(u),f=e.po.customHideProp(r,h,m,y,d);f=e.po.customHideProp(a,f.customAttributes,f.totalExtraPrice,f.totalVariantExtraPrice,d),h=f.customAttributes,m=f.totalExtraPrice,y=f.totalVariantExtraPrice;for(const e in h)if((0==parseFloat(m.toFixed(2))||parseFloat(m.toFixed(2))<0||0==parseFloat(y.toFixed(2))||parseFloat(y.toFixed(2))<0)&&h[e].includes("/po/")&&h[e].includes(", ")){const t=h[e].split(", ");delete h[e],t.forEach((t,o)=>{h[`${e}-File ${o+1}`]=t})}if("undefined"!=typeof BSS_B2B&&(1==BSS_B2B.shopModules[0].status||1==BSS_B2B.shopModules[1].status)&&m){const e=new Map;_.forEach((t,o)=>{e.set(o,t),o.includes("BSS_POExtra")||e.set("BSS_PO"+o,t)}),_=e}_.set("totalExtraPrice",parseFloat(m.toFixed(2))),_.set("totalVariantExtraPrice",parseFloat(y.toFixed(2))),0!==Object.keys(h).length||h.constructor!==Object||[8633].includes(e.storeId)||(h={"":""}),[5701,6536,3171,6191,8699].includes(e.storeId)&&1==e.enableAddOns&&(h._totalExtraPrice=parseFloat(m.toFixed(2)));const b=e.common.getCurrentVariant(l,d),g=e.common.getCurrentQuantity(d),x={items:[{id:b.id,quantity:g,properties:h}]};if([4784].includes(e.storeId)&&document.querySelector(".rc-selling-plans")){let e=document.querySelector(".bss-po-selling-id").innerHTML;x.items[0].selling_plan=e}if([8633].includes(e.storeId)&&document.querySelector(".appstle_subscription_wrapper")){let e=document.querySelector("#appstle_selling_plan_label_20").value;x.items[0].selling_plan=e}let v="cart-drawer,cart-notification-product,cart-notification-button,cart-icon-bubble";"function"==typeof bssFixSupportGetSectionMinicartWhenAddToCart&&(v=bssFixSupportGetSectionMinicartWhenAddToCart(e,v));let S=Array.from(document.querySelectorAll(".date-time-error")).some(e=>"block"==e.style.display);if(0!=o.size||S){if(document.querySelectorAll(".bss-error-msg").forEach(e=>e.remove()),o.forEach((e,t)=>{let o=document.querySelector(t).closest(".po-stack"),n=`<span class="bss-error-msg"><small>${e}</small></span>`;0==o.querySelectorAll(".bss-error-msg").length&&o.insertAdjacentHTML("beforeend",n)}),o.size){const[e]=o.keys();document.querySelector(e).focus()}}else{let o={...x};e.enableMiniCart&&(o={...x,sections:v,sections_url:window.location.pathname}),fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>e.json()).then(o=>{o.status&&200!=o.status&&"function"==typeof bssFixSupportCustomAddToCartError&&bssFixSupportCustomAddToCartError(e,o);let n=o.items;const a=JSON.parse(localStorage.getItem("__"))||[],c=e.helper.base64Encode(JSON.stringify({customAttributes:h,product_id:n[0].product_id,variant_id:n[0].variant_id})),p=e.helper.base64Encode(JSON.stringify({option:Object.fromEntries(_),keys:[n[0].key]}));if(a.every(({key:e})=>e!==c)&&a.push({key:c,value:p}),7789==e.storeId){const e=n[n.length-1].product_id,t=n[n.length-1].id;_.set("product_id",e),_.set("item_id",t),localStorage.setItem(n[n.length-1].key,JSON.stringify(Object.fromEntries(_))),localStorage.setItem("__",JSON.stringify(a))}else{const e=n[0].product_id,t=n[0].id;_.set("product_id",e),_.set("item_id",t),localStorage.setItem(n[0].key,JSON.stringify(Object.fromEntries(_))),localStorage.setItem("__",JSON.stringify(a))}if(578==e.storeId)document.querySelector(".site-header-icon.site-header-cart-icon").click();else if(1030==e.storeId){let o=`<p class="noti_add_to_cart">\n                                    The item has been added to <a href="https://${t.shop.domain}/cart">cart</a>\n                                </p>`,n=document.querySelector(".product-form__controls-group--submit");n.innerHTML.includes(o)||(n.innerHTML=o+n.innerHTML),e.po.handleAddToCart(r,i,l)}else e.enableMiniCart?e.cart.handleMiniCart(o):window.location.pathname=window.Shopify.routes.root+"cart";return o}).catch(e=>{console.log("Error:",e)})}},e.cart.updateToCart=function({appliedOptionSetForProduct:t,appliedOptionSetForVariant:n,variantProductIdApplyOptionSet:i,lineIndex:r}){let a=document.getElementById("updateCart");const c=a.getAttribute("bss-po-line-item-key");a.style.position="relative",a.addEventListener("click",(function(l){l.preventDefault(),a.classList.add("button--loading"),a.style.color="#4d4d4d",a.disabled=!0;let{chosenOptions:p,chosenOptionsWithoutPriceAddOns:s,totalExtraPrice:d,totalVariantExtraPrice:u}=e.po.getSelectedOptionSet({appliedOptionSet:t,appliedOptionSetForSpecificVariant:n,variantProductIdApplyOptionSet:i});if("function"==typeof bssFixSupportCustomAttributeWhenUpdateCart){let t=bssFixSupportCustomAttributeWhenUpdateCart({BSS_PO:e,chosenOptions:p,chosenOptionsWithoutPriceAddOns:s,oldLineItemKey:c});p=t.chosenOptions,s=t.chosenOptionsWithoutPriceAddOns}let _=e.common.chosenOptionsMapToLinePropertiesObject(p),m=e.po.customHideProp(t,_,d,u);if(m=e.po.customHideProp(n,m.customAttributes,m.totalExtraPrice,m.totalVariantExtraPrice),_=m.customAttributes,d=m.totalExtraPrice,u=m.totalVariantExtraPrice,s.set("totalExtraPrice",parseFloat(d.toFixed(2))),s.set("totalVariantExtraPrice",parseFloat(u.toFixed(2))),0!==Object.keys(_).length||_.constructor!==Object||[8633].includes(e.storeId)||(_={"":""}),[5701,6536,6191].includes(e.storeId)&&1==e.enableAddOns&&(_._totalExtraPrice=parseFloat(d.toFixed(2))),0==o.size){let t=1,o=document.querySelectorAll(e.cart.quantityInputElements.join(","));o.length>0&&(t=o[r].value),localStorage.removeItem(c);const n=Shopify.theme.name.toLowerCase(),i=Shopify.theme.theme_store_id;let a=function(e){const t={1:["debut","narrative","venture","minimal"],2:["refresh","ride","colorblock","taste","studio","craft","crave","sense","dawn"],3:[887,1356,1368,1363,1500,1434,1499,1567,1431,1864,1841,1891]},o="cart-template",n="main-cart-items";return t[1].includes(e)?o:t[2].includes(e)||t[3].includes(i)?n:null}(n);"function"==typeof bssFixSupportGetSectionMiniCart&&(a=bssFixSupportGetSectionMiniCart(a));const l={line:Number(r+1),properties:_,quantity:t};a&&(l.sections=a),6667===e.storeId&&(l.sections_url="/cart"),fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(e=>e.json()).then(t=>{const o=t.items[r].key;if(localStorage.setItem(o,JSON.stringify(Object.fromEntries(s))),6667===e.storeId)a.forEach(e=>{let o;"cart-counter"===e?(o=document.querySelector("#cart-counter"),o.innerHTML=t.sections[e].replace(/^<div>|<\/div>$/g,"")):(o=document.querySelector("[bss-po-line-properties]").closest(".shopify-section"),o.innerHTML=t.sections[e])});else if(10053===e.storeId){let e;"s_cart"===a?(e=document.querySelector('form[action*="/cart"]'),e.innerHTML=t.sections[a].slice(t.sections[a].indexOf("<form action"),t.sections[a].indexOf("</form>"))):(e=document.querySelector("[bss-po-line-properties]").closest(".shopify-section"),e.innerHTML=t.sections[a])}else if(a&&t.sections&&t.sections[a])if("function"==typeof bssFixSupportUpdateUIAfterEditOptions)bssFixSupportUpdateUIAfterEditOptions(e,a,t);else{document.querySelector("[bss-po-line-properties]").closest(".shopify-section").innerHTML=t.sections[a]}return 1==e.enableAddOns&&(e.cart.renderDiscountCodeFeature(),e.cart.handleCartCheckoutBtn(t),e.cart.displayPriceAddOnsWithCartItems(t)),e.cart.resetFeaturesOnCartPage(t),e.cart.generateEditCartOnCartPage(t),e.helper.toggleModalEditOption(),t}).catch(e=>{console.error("Error:",e)})}else if(document.querySelectorAll(".bss-error-msg").forEach(e=>e.remove()),o.forEach((e,t)=>{let o=document.querySelector(t).closest(".po-stack"),n=`<span class="bss-error-msg"><small>${e}</small></span>`;0==o.querySelectorAll(".bss-error-msg").length&&o.insertAdjacentHTML("beforeend",n)}),o.size){const[e]=o.keys();document.querySelector(e).focus()}a.classList.remove("button--loading"),a.style.color="#fff",a.disabled=!1}))}}(e,t,n),function(e,t,o){e.po.buyItNow=function(n=""){let r=e.po.appliedOptionSetForOneProduct,a=e.po.appliedOptionSetForSpecificVariant;if(!r&&!a)return;let c=t.product;(e.page.isHomePage()||1569==e.storeId)&&(c=n),e.helper.waitForElement("form[action*='/cart/add'] .shopify-payment-button__button:not([disabled])",3e3).then((function(){let l=document.querySelectorAll("form[action*='/cart/add'] .shopify-payment-button__button:not([disabled]):not(.bss-po-btn-buyitnow):not(.bss-b2b-btn-buyitnow), form[action*='/cart/add'] .shopify-payment-button__button.shopify-payment-button__button--unbranded:not([disabled]):not(.bss-po-btn-buyitnow):not(.bss-b2b-btn-buyitnow), form[action*='/cart/add'] .shopify-payment-button:not([disabled]):not(.bss-po-btn-buyitnow):not(.bss-b2b-btn-buyitnow)"),p=null;if(l.forEach(e=>{e.querySelector(".bss-b2b-btn-buyitnow")&&(p=!0)}),!p){if("function"==typeof bssFixSupportEventBuyItNow&&(l=bssFixSupportEventBuyItNow(e,l)),""!=e.buyItNowBtnSelector.trim()){let t=document.querySelector(e.buyItNowBtnSelector);t&&(l=[...l,...t])}l.length>0&&l.forEach((function(l){const p=l,s=l.cloneNode(!0);let d=null;if(e.page.isHomePage()&&n||1569==e.storeId){const t=l.closest("[bss-po-featured-product-key]").getAttribute("bss-po-featured-product-key");Object.keys(n).length&&n.id==t&&(c=n,r=e.po.getAppliedOptionSetOnProductPage(n),r&&(l.parentNode.insertBefore(s,l),s.classList.add("bss-po-btn-buyitnow"),s.style.display="block",s.style.position="relative",l.parentNode.removeChild(l)))}else l.parentNode.insertBefore(s,l),s.classList.add("bss-po-btn-buyitnow"),s.style.display="block",s.style.position="relative",l.parentNode.removeChild(l);s.addEventListener("click",(async function(n){n.preventDefault();let l="",u=e.po.variantProductIdApplyOptionSet;a=e.po.appliedOptionSetForSpecificVariant,(e.page.isHomePage()||1569==e.storeId)&&(l=s.closest("[bss-po-featured-product-key]").getAttribute("bss-po-featured-product-key"),e.home.productsData.length&&e.home.productsData.forEach(t=>{t.id==l&&(c=t,r=e.po.getAppliedOptionSetOnProductPage(t),a=e.po.getAppliedOptionSetOnProductPageForVariant({variantId:t.variantId,productData:t}),u=t.variantId)})),2951==e.storeId?(s.classList.add("button--loading"),s.style.color="#000",s.style.backgroundColor="#000",s.style.borderRadius="10px",s.disabled=!0):(d=window.getComputedStyle(s).getPropertyValue("font-size"),s.classList.add("button--loading"),s.style.fontSize="0px",s.disabled=!0);let{chosenOptions:_,chosenOptionsWithoutPriceAddOns:m,totalExtraPrice:y,totalVariantExtraPrice:h,skuOptionValueString:f}=e.po.getSelectedOptionSet({appliedOptionSet:r,appliedOptionSetForSpecificVariant:a,variantProductIdApplyOptionSet:u,idProductAddToCart:l});if("function"==typeof bssFixSupportCustomAttributeWhenBuyItNow){let t=bssFixSupportCustomAttributeWhenBuyItNow(e,_,m);_=t.chosenOptions,m=t.chosenOptionsWithoutPriceAddOns}[5960].includes(e.storeId)&&document.querySelector("div[data-ph_storename]")&&window.ph_check_cart()&&Array.from(document.querySelectorAll("[id^='imageFiles_']")).forEach(e=>{const t=e.getAttribute("data-main");let o=/\[(.*?)\]/;const n=e.querySelectorAll("input[name^='properties']")[0],i=o.exec(n.name)[1];_.set(""+i,""+n.value);const r=document.querySelectorAll(`input[data-ph-textarea="${t}"]`)[0],a=o.exec(r.name)[1];_.set(""+a,""+r.value)}),m.set("totalExtraPrice",parseFloat(y.toFixed(2))),m.set("totalVariantExtraPrice",parseFloat(h.toFixed(2)));const b=e.common.getCurrentVariant(c,l),g=e.common.getCurrentQuantity(l);let x=[],v=[];h&&(v=e.common.buyItNowGetVariantLineItems(m,g,x)),h&&!e.marketStatus||_.forEach((e,t)=>{if(e.includes("/po/")&&e.includes(", ")){e.split(", ").map((e,o)=>x.push({key:`${t}-File${o+1}`,value:e}))}else x.push({key:t,value:e})});let S=e.po.customHideProp(r,x,y,h,l);S=e.po.customHideProp(a,S.customAttributes,S.totalExtraPrice,S.totalVariantExtraPrice,l),x=S.customAttributes,y=S.totalExtraPrice,h=S.totalVariantExtraPrice;let w=`${e.settings.add_ons_text} ${c.title}`,O=x.some(({key:e})=>e)?e.helper.getSkuItemBySkuType(b.sku,f):"";(e.page.isHomePage()||1569==e.storeId)&&(w=`${e.settings.add_ons_text} ${c.handle}`),2398==e.storeId&&(w=e.settings.add_ons_text+" above print"),y-=h,y=e.common.convertRate(y,"checkout");let P=e.common.getBuyItNowLineItems(y,w,g,v,b,x,O),k=Array.from(document.querySelectorAll(".date-time-error")).some(e=>"block"==e.style.display);if(0!=o.size||k){if(document.querySelectorAll(".bss-error-msg").forEach(e=>e.remove()),o.forEach((e,t)=>{let o=document.querySelector(t).closest(".po-stack"),n=`<span class="bss-error-msg"><small>${e}</small></span>`;0==o.querySelectorAll(".bss-error-msg").length&&o.insertAdjacentHTML("beforeend",n)}),o.size){const[e]=o.keys();document.querySelector(e).focus()}s.classList.remove("button--loading"),s.style.fontSize=d,s.disabled=!1}else{if("undefined"!=typeof BSS_B2B&&(1==BSS_B2B.shopModules[1].status&&BSS_B2B.cart.cpPricingList&&BSS_B2B.cart.cpPricingList.size>0||1==BSS_B2B.shopModules[0].status&&BSS_B2B.cart.qbPricingList&&BSS_B2B.cart.qbPricingList.size>0)){e.po.lineItems=P;let t=new Event("bss_po_lineItems_ProductPage",{detail:{}});return void document.dispatchEvent(t)}const{apiDomain:o}=e,n=t.shop.domain;let r={lineItems:P};e.marketStatus&&"undefined"!=typeof Shopify&&Shopify&&Shopify.country&&(r.marketRegionCountryCode=Shopify.country);const a={domain:n,draftOrderInput:r};try{const e={headers:{"Content-Type":"application/json"}},{data:t}=await i.a.post(o+"/checkout/create-draft-order",a,e);if(t.draftOrder){let e="";"undefined"!=typeof Shopify&&Shopify&&Shopify.locale&&(e="?locale="+Shopify.locale),window.location=t.draftOrder.invoiceUrl+e}}catch(e){console.log("Error:",e),s.parentNode.insertBefore(p,s),s.parentNode.removeChild(s)}}}))}))}})).catch(()=>{})}}(e,t,n),function(e,t){e.cart.handleMiniCart=function(t){try{let o=!1;if("function"==typeof bssFixSupportHandleMinicart&&(o=bssFixSupportHandleMinicart(e,t,o)),!o)if(t.sections["cart-drawer"]&&t.sections["cart-notification-product"]&&t.sections["cart-icon-bubble"]){const o=new DOMParser,n=t.sections["cart-notification-product"],i=o.parseFromString(n,"text/html");let r=t.sections["cart-drawer"].indexOf('<div id="CartDrawer"'),a=t.sections["cart-drawer"].indexOf("</div></cart-drawer>"),c=t.sections["cart-icon-bubble"].indexOf("<svg"),l=t.sections["cart-icon-bubble"].indexOf("</a>"),p=t.sections["cart-drawer"].slice(r,a),s=t.sections["cart-icon-bubble"].slice(c,l),d=i.getElementById("cart-notification-product-"+t.items[0].key).innerHTML,u=document.querySelector(e.cart.miniCartIcon.join(",")),_=document.querySelector(e.cart.miniCartDrawerBox.join(",")),m=document.querySelector(e.cart.miniCartNotificationBox.join(","));if(u&&(u.innerHTML=s),_){u.click(),_.innerHTML=p,_.classList.contains("is-empty")&&_.classList.remove("is-empty");let e=document.querySelector("#CartDrawer-Overlay");e.addEventListener("click",()=>{e.closest("cart-drawer").close()})}m&&(u.classList.add("active"),m.classList.add("active"),document.querySelector(".cart-notification-product").innerHTML=d,document.querySelector("#cart-notification-button").innerHTML=t.sections["cart-notification-button"],setTimeout((async function(){const t=await e.helper.getCartData();1==e.enableAddOns&&e.cart.handleCartCheckoutBtn(t)}),1e3)),e.cart.initMiniCart(1e3)}else if(t.sections["mini-cart"])document.querySelector(".mini-cart").innerHTML=t.sections["mini-cart"],document.querySelector(".header__action-item-link.header__cart-toggle")&&document.querySelector(".header__action-item-link.header__cart-toggle").click();else if(t.sections["bss-po-mini-cart"]&&3910!=e.storeId){let o=t.sections["bss-po-mini-cart"].indexOf("<form"),n=t.sections["bss-po-mini-cart"].indexOf("</form>"),i=t.sections["bss-po-mini-cart"].slice(o,n);document.querySelector(".Cart-Drawer").classList.add("show"),document.querySelector(".Cart.Drawer__Content").outerHTML=i,document.querySelector("#shopify-section-header").outerHTML=t.sections.header,e.cart.initMiniCart(1e3)}else if(t.sections.api__minicart)document.querySelector(".minicart__label").click();else{if(9661==e.storeId)return;window.location.pathname="/cart"}}catch(e){console.log("Handle mini-cart error: ",e),window.location.pathname="/cart"}},e.cart.initMiniCart=function(o){setTimeout((async function(){const o=await e.helper.getCartData();o.item_count>0&&(1==e.enableAddOns&&(e.cart.displayPriceAddOnsWithCartItems(o),e.cart.handleCartCheckoutBtn(o)),t&&"drawer"===t.cart_type&&e.cart.resetFeaturesOnCartPage(o),"function"==typeof bssFixSupportHandleDiscountMiniCart&&bssFixSupportHandleDiscountMiniCart(e))}),o)}}(e,t),function(e,t,o,n,i){e.cart.generateEditCartOnCartPage=async function(t){let o=[];const n=t.items,i=n.map(e=>`id:"${e.product_id}"`);if(e.page.isCartPage()&&n&&n.length>0){o=n.map(e=>{const{product_id:t,key:o,properties:n,price:i,title:r,variant_id:a,variant_title:c,image:l}=e;return{productId:t,key:o,properties:n,price:i,title:r,variant_id:a,variant_title:c,image:l}});const t=await e.helper.callSearchLiquidApi(i);t.length&&e.cart.addEditOptionsButtonToLineItem(t,o)}},e.cart.addEditOptionsButtonToLineItem=function(t,o){document.getElementsByTagName("BODY")[0].insertAdjacentHTML("beforeend",' <div style="display:none; justify-content: center; align-items: center;" id="ajaxifyOptionsCart"><div id="ajaxifyOptionsCart-overlay" style="text-indent: -9999px">editoptions</div><div class="po-edit-options" id="po-edit-options"><button class="ajaxifyCart--close">Close Cart</button><div id="po-edit-option" style="padding: 1px 20px;"></div></div></div>');document.querySelectorAll("[bss-po-line-properties]").forEach((function(n){const i=n.getAttribute("bss-po-line-properties"),r=o.find(e=>e.key===i);"function"==typeof bssFixSupportReloadPageWhenEditOptions&&bssFixSupportReloadPageWhenEditOptions(e,r);const a=t.find(e=>e.id===r.productId),c=JSON.parse(localStorage.getItem(i)),{appliedOptionSetForProduct:l,appliedOptionSetForVariant:p}=e.cart.getAppliedOptionSetOnCartPage({responProdProduct:a,localCartItem:c});if((l||p)&&!n.querySelector('button[name="po-edit-options-in-cart"]')){let t=e.settings.edit_options_text;const o=`<button name="po-edit-options-in-cart" type="button" bss-po-line-item-key=${i}>${t}</button>`;n.insertAdjacentHTML("beforeend",o),n.querySelector('button[name="po-edit-options-in-cart"]').addEventListener("click",e.helper.debounce(()=>{e.cart.modalEditOptions({itemKey:i,appliedOptionSetForProduct:l,appliedOptionSetForVariant:p})},500))}}))},e.cart.getAppliedOptionSetOnCartPage=function({responProdProduct:o,localCartItem:n}){let i=null,r=null,a=e.optionSets,c=t.customer,l=o.collections,p=o.tags,s=o.id;for(let t=0;t<a.length;t++){const o=a[t];if(i=e.common.checkAppliedOptionSet({optionSet:o,customer:c,collections:l,productId:s,tags:p}),i)break}if(n&&n.variantProductIdApplyOptionSet)for(let t=0;t<a.length;t++){const o=a[t];if(4===o.product_condition_type&&(r=e.common.checkAppliedOptionSet({optionSet:o,customer:c,collections:l,productId:s,tags:p,variantId:n.variantProductIdApplyOptionSet}),r))break}return{appliedOptionSetForProduct:i,appliedOptionSetForVariant:r}},e.cart.getOptionHtmlCartPage=function(t,o){let n=t.options.sort((e,t)=>e.index_option>t.index_option?1:t.index_option>e.index_option?-1:0);e.conditional.newArray=n.map(e=>{if(o[e.label_on_cart])return{label:e.label_on_product,value:o[e.label_on_cart]}}).filter(e=>void 0!==e);const i=e.common.generateUniqueId();t.uniqueId||(t.uniqueId=i);const r=t.uniqueId?t.uniqueId:0,a=t.product_condition_type;let c=`<div class="${"bss-po-product-page"+(4!==a||window.bss_admin_option?"":" bss-po-specific-variant")}" data-position=${r}>`;c+="<form>";const l=`font-size: ${e.settings.text_tooltip_size}px ;${1==parseInt(e.settings.text_tooltip_color_type)?"color: "+e.settings.text_tooltip_color:null}; font-weight: ${parseInt(e.settings.text_tooltip_font_weight)?"bold":"normal"};`,p=(1==parseInt(e.settings.text_tooltip_background_color_type)?"background-color: "+e.settings.text_tooltip_background_color:null)+"; ";return n.forEach(o=>{let i="flex",r=0,s=!1,d=!1;const u=t.id;o.conditional_options[0]&&null!=o.conditional_options[0].conditional_option_label&&(o.conditional_options.forEach(t=>{2==t.conditional_option_type||6==t.conditional_option_type?e.conditional.newArray.forEach(e=>{if(e.label==t.conditional_option_label)if("any"==t.conditional_option_value||Array.isArray(e.value)){let o=n.find(e=>e.label_on_product===t.conditional_option_label);e.value&&"string"==typeof e.value&&0==t.type_contain&&(6==t.conditional_option_type?e.value.split(", ").some(e=>o.button_value.includes(e))&&r++:e.value.split(", ").some(e=>o.checkbox_value.includes(e))&&r++)}else 0!=t.type_contain&&4!=t.type_contain||!e.value.split(", ").includes(t.conditional_option_value)||r++,5!=t.type_contain&&1!=t.type_contain||e.value.split(", ").includes(t.conditional_option_value)||r++}):e.conditional.newArray.forEach(e=>{if(e.label==t.conditional_option_label&&0==t.type_contain)if("any"!=t.conditional_option_value){if(e.value==t.conditional_option_value&&r++,5==t.conditional_option_type){e.value.map(e=>JSON.parse(e)).map(e=>{e.title==t.conditional_option_value&&r++})}}else{let o=n.find(e=>e.label_on_product===t.conditional_option_label);if(e.value&&!Array.isArray(e.value)&&(3==t.conditional_option_type&&o.dropdown_value.includes(e.value)&&r++,12==t.conditional_option_type&&o.dropdown_thumbnail_value.includes(e.value)&&r++,4==t.conditional_option_type&&o.radio_button_value.includes(e.value)&&r++),5==t.conditional_option_type&&Array.isArray(e.value)){e.value.map(e=>JSON.parse(e)).some(e=>{o.swatch_label.includes(e.title)&&r++})}0==t.conditional_option_type&&e.value==t.conditional_option_value&&r++}if(e.label==t.conditional_option_label&&1==t.type_contain&&"any"!=t.conditional_option_value&&(e.value!=t.conditional_option_value&&r++,5==t.conditional_option_type)){e.value.map(e=>JSON.parse(e)).map(e=>{e.title!=t.conditional_option_value&&r++})}if(e.label==t.conditional_option_label&&2==t.type_contain&&parseInt(e.value)<parseInt(t.conditional_option_value)&&r++,e.label==t.conditional_option_label&&3==t.type_contain&&parseInt(e.value)>parseInt(t.conditional_option_value)&&r++,e.label==t.conditional_option_label&&4==t.type_contain&&(e.value.includes(t.conditional_option_value)&&r++,5==t.conditional_option_type)){const o=e.value.map(e=>JSON.parse(e).title)(o.includes(t.conditional_option_value))?r++:0}if(e.label==t.conditional_option_label&&5==t.type_contain&&(e.value.includes(t.conditional_option_value)||r++,5==t.conditional_option_type)){const o=e.value.map(e=>JSON.parse(e).title)(!o.includes(t.conditional_option_value))?r++:0}})}),r==o.conditional_options.length&&(s=!0),r>0&&(d=!0),o.conditional_options.forEach(e=>{i=0==o.conditional_options_match?1==o.conditional_options_display?d?"none":"flex":d?"flex":"none":1==o.conditional_options_display?s?"none":"flex":s?"flex":"none"}));let _=o.required?'<span class="po-required">*</span>':"",m=o.help_text&&""!==o.help_text.trim?`<div class="po-helptext-tooltip">?<span class="tooltip-text" style="${l+p}">${o.help_text}</span></div>`:"",y=o.help_text&&""!==o.help_text.trim?`<div class="po-helptext-content"><p>${o.help_text}</p></div>`:"";c+=`<div class="po-stack po-stack--vertical" id="po_stack${o.id}" style="display: ${i}">`,0==o.option_type?c+=e.po.getTextBoxHtml({option:o,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:u,optionSetConditionType:a}):1==o.option_type?c+=e.po.getNumberFieldHtml({option:o,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:u,optionSetConditionType:a}):2==o.option_type?c+=e.po.getCheckboxHtml({option:o,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:u,optionSetConditionType:a}):3==o.option_type?c+=e.po.getDropdownMenuHtml({option:o,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:u,optionSetConditionType:a}):4==o.option_type?c+=e.po.getRadioButtonHtml({option:o,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:u,optionSetConditionType:a}):5==o.option_type?c+=e.po.getSwatchHtml({option:o,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:u,appliedOptionSet:t,optionSetConditionType:a}):6==o.option_type?c+=e.po.getButtonHtml({option:o,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:u,optionSetConditionType:a}):7==o.option_type?c+=e.po.getFileUploadHtml({option:o,requiredSpan:_,help_text_tooltip:m,help_text_content:y,optionSetConditionType:a}):8==o.option_type&&e.currentPlan&&"free"!==e.currentPlan?c+=e.po.getDateTimePickerHtml({option:o,requiredSpan:_,help_text_tooltip:m,help_text_content:y,optionSetConditionType:a}):9==o.option_type?c+=e.po.getInstructionHtml({option:o,optionSetConditionType:a}):10==o.option_type&&e.currentPlan&&"free"!==e.currentPlan?c+=e.po.getColorPickerHtml({option:o,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:u,optionSetConditionType:a}):11==o.option_type?c+=e.po.getTextAreaHtml({option:o,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:u,optionSetConditionType:a}):12==o.option_type?c+=e.po.getDropdownWithThumbnailMenuHtml({option:o,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:u,optionSetConditionType:a}):13==o.option_type&&e.currentPlan&&"free"!==e.currentPlan&&(c+=e.po.getEmailBoxHtml({option:o,requiredSpan:_,help_text_tooltip:m,help_text_content:y,appliedOptionSetID:u,optionSetConditionType:a})),c+="</div>"}),c+="</form>",c+="</div>",c},e.cart.modalEditOptions=async function({itemKey:o,appliedOptionSetForProduct:n,appliedOptionSetForVariant:i}){!0,[];const r=document.getElementById("ajaxifyOptionsCart");if(r.querySelector(".ajaxifyCart--close").addEventListener("click",()=>e.helper.toggleModalEditOption()),"platinum"==e.currentPlan&&1==e.enableAddOns&&(n&&await e.common.getVariantDataOnOptionSet(n,t),i&&await e.common.getVariantDataOnOptionSet(i,t)),"none"===r.style.display){const t=document.getElementById("po-edit-option");for(;t.firstChild;)t.removeChild(t.lastChild);const a=await e.helper.getCartData(),c=a.items.find(e=>e.key===o),l=c.key,p=a.items.map(e=>e.key).indexOf(l),s=JSON.parse(localStorage.getItem(l));let d=null,u=null;n&&(d=e.cart.getOptionHtmlCartPage(n,s)),i&&(u=e.cart.getOptionHtmlCartPage(i,s)),e.cart.selectQuantity=s.optionQuantity;let _=e.settings.in_cart_cancel_button_text,m=e.settings.in_cart_update_button_text;document.getElementById("po-edit-option").insertAdjacentHTML("beforeend",`<h1 style="text-align: center" class="product-single__title">${c.title}</h1><img class="po-cart__image" src=${c.image?c.image:""} ></img>`),d&&(document.getElementById("po-edit-option").insertAdjacentHTML("beforeend",d),e.common.disableDefaultEventInput(n.product_condition_type)),u&&(document.getElementById("po-edit-option").insertAdjacentHTML("beforeend",u),e.common.disableDefaultEventInput(i.product_condition_type)),document.getElementById("po-edit-option").insertAdjacentHTML("beforeend",`<div style="margin-bottom: 40px;"><button type="submit" name="update" id="updateCart" bss-po-line-item-key=${l}>${m}</button><button class="cancel-update-edit-options">${_}</button></div>`),document.querySelector(".cancel-update-edit-options").addEventListener("click",()=>e.helper.toggleModalEditOption()),n&&e.cart.addMetaDataToOptionSet({appliedOptionSet:n,localGetItem:s}),i&&e.cart.addMetaDataToOptionSet({appliedOptionSet:i,localGetItem:s});try{e.cart.updateToCart({appliedOptionSetForVariant:i,appliedOptionSetForProduct:n,variantProductIdApplyOptionSet:s.variantProductIdApplyOptionSet,lineIndex:p})}catch(e){console.log(e)}r.style.display="flex"}},e.cart.addMetaDataToOptionSet=function({appliedOptionSet:t,localGetItem:n}){const i=t.product_condition_type;t.options.forEach(r=>{const a=e.common.getSeletorOfByOptionType(r.option_type,r.id),c=document.querySelector("#po_label"+r.id),l=r.label_on_cart;if(0==r.option_type){const o=document.querySelector(a);n[l]&&(o.value=n[l]),"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,r),e.common.addEventToOption({option:r,elementOfOption:o,currentLabel:c,selector:a,optionSetConditionType:i})}else if(1==r.option_type){const o=document.querySelector(a);n[l]&&(o.value=n[l]),"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,r),e.common.addEventToOption({option:r,elementOfOption:o,currentLabel:c,selector:a,optionSetConditionType:i})}else if(2==r.option_type){let o=document.querySelectorAll(a),d=o.length;for(var p=0;p<1<<d;p++){let e=[];for(var s=0;s<d;s++)p&1<<s&&e.push(o[s].value);if(n[l]&&e.join(", ")==n[l]){Array.prototype.forEach.call(o,(function(t,o){var n=0;e.includes(t.value)&&n!==e.length&&(n+=1,t.checked="true")}));break}}"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,r),e.common.addEventToOption({option:r,elementOfOption:o,currentLabel:c,selector:a,optionSetConditionType:i})}else if(3==r.option_type){let o=document.querySelector(a),p=document.querySelector(`#bss-po_dropdown_menu${r.id} .po-dropdown-selected-option`);n[l]&&(o.value=n[l],p.innerHTML=n[l]+'<i class="po-dropdown-arrow po-dropdown-arrow-down">'),"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,r),e.common.addEventToOption({option:r,elementOfOption:o,currentLabel:c,selector:a,optionSetConditionType:i})}else if(4==r.option_type){let o=document.querySelectorAll(a);n[l]&&o.forEach(e=>{e.value==n[l]&&(e.checked="true")}),"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,r),e.common.addEventToOption({option:r,elementOfOption:o,currentLabel:c,selector:a,optionSetConditionType:i})}else if(5==r.option_type){let o=document.querySelectorAll(a);o.forEach((e,t)=>{if(n[l]){let t=n[l];for(var o=0;o<t.length;o++){let n=JSON.parse(t[o]);if(e.value==n.title){var i=e.closest(".po-option__value").children[1].children;D(i[0].style.backgroundColor).toHex()!=n.value&&i[0].style.backgroundImage!=n.value||(e.checked="true")}}}}),"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,r),e.common.addEventToOption({option:r,elementOfOption:o,currentLabel:c,selector:a,optionSetConditionType:i})}else if(6==r.option_type){let o=document.querySelectorAll(a),d=o.length;for(p=0;p<1<<d;p++){let e=[];for(s=0;s<d;s++)p&1<<s&&e.push(o[s].value);if(n[l]&&e.join(", ")==n[l]){Array.prototype.forEach.call(o,(function(t,o){var n=0;e.includes(t.value)&&n!==e.length&&(t.checked="true",n+=1)}));break}}"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,r),e.common.addEventToOption({option:r,elementOfOption:o,currentLabel:c,selector:a,optionSetConditionType:i})}else if(7==r.option_type){const c=document.querySelector(a),l=c.closest(""+(4!==i||window.bss_admin_option?".bss-po-product-page:not(.bss-po-specific-variant)":".bss-po-product-page.bss-po-specific-variant")),p=l.getAttribute("data-position"),s=l.querySelector("#po_label"+r.id);let d=document.querySelector(".file-uploaded"+r.id),u=n[r.label_on_cart];const _=(u?u.includes(", ")?u.split(", "):[u]:[]).map((e,t)=>{const o=t,n=e.split("/").pop(),i=null!==e.match(/^https?:\/\/.+\.(jpeg|jpg|gif|png|svg|xml|webp)$/),r=`<div class='file-upload-item-${o}'><div> <a href=${e} target="_blank">${n}</a> <span class='remove-file-${o}'  style="cursor:pointer"> <i class="fas fa-trash"></i> </span></div>${i?`<img src=${e} style="max-width: 250px; height: auto" />`:""}</div>`;return d.innerHTML+=r,{id:o,url:e}});_.forEach(({id:t})=>{d.querySelector(".remove-file-"+t).addEventListener("click",()=>{e.po.removeFileUploaded({id:t,option:r,selector:a,optionSetConditionType:i})})}),o[`${p}-${r.id}`]=_,"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,r),e.common.addEventToOption({option:r,elementOfOption:c,currentLabel:s,selector:a,optionSetConditionType:i}),e.po.displayPriceAddOnsWithChosenOptions({option:r,element:c,currentLabel:s,optionSetConditionType:i})}else if(8==r.option_type&&e.currentPlan&&"free"!==e.currentPlan){e.po.dateTimePicker(r);const t=document.querySelector(a);let o=n[l];t.value=o,e.common.addEventToOption({option:r,elementOfOption:t,currentLabel:c,selector:a,optionSetConditionType:i})}else if(10==r.option_type&&e.currentPlan&&"free"!==e.currentPlan){const o=document.querySelector(a),p=o.closest("#po_stack"+r.id).querySelector(`[name="po_color_picker_value${r.id}"]`);n[l]&&(o.value=n[l],p.setAttribute("value",n[l]),e.po.displayColorPickerWithChosenValue(r,a)),"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,r),e.common.addEventToOption({option:r,elementOfOption:o,currentLabel:c,selector:a,optionSetConditionType:i})}else if(11==r.option_type){const o=document.querySelector(a);setTimeout((function(){o&&(o.style.height=o.scrollHeight+"px")}),50),n[l]&&(o.value=n[l]),"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,r),e.common.addEventToOption({option:r,elementOfOption:o,currentLabel:c,selector:a,optionSetConditionType:i})}else if(12==r.option_type){let o=document.querySelector(a),p=document.querySelector(`#po_dropdown_menu_thumbnail-div${r.id} .po-dropdown-selected-option`);n[l]&&(o.value=n[l],p.innerHTML=n[l]+'<i class="po-dropdown-thumbnail-arrow po-dropdown-thumbnail-arrow-down">'),"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,r),e.common.addEventToOption({option:r,elementOfOption:o,currentLabel:c,selector:a,optionSetConditionType:i})}else if(13==r.option_type){const o=document.querySelector(a);n[l]&&(o.value=n[l]),"platinum"==e.currentPlan&&e.common.addVariantDataToOption(t,r),e.common.addEventToOption({option:r,elementOfOption:o,currentLabel:c,selector:a,optionSetConditionType:i})}})}}(e,t,o),function(e,t){e.cart.discount.utils={rendering:!1,showDiscountCodeFeature:!1,renderDiscountErrorMessage({status:e="error",message:t=""}){const o=document.querySelector("#bss-po-discount-code--message");o.innerHTML=t,o.style.color="error"===e?"red":"green"},toggleApplyDiscountCodeLoading(e="loading"){const t=document.querySelector("div.bss-po-loader"),o=document.querySelector(".bss-po-discount-code-input--button"),n=document.querySelector("#bss-po-discount-code--message");"loading"===e?(n.innerHTML="",o.classList.add("bss-po-button-active"),o.style.pointerEvents="none",t.classList.add("button--loading")):(o.classList.remove("bss-po-button-active"),o.style.pointerEvents="auto",t.classList.remove("button--loading"))}},e.cart.getDiscountCodeHTML=function(t,o,n){let{discount_button:i,discount_input_placeholder:r}=e.settings,a="";(e.page.isCartPage()&&t[2].includes(n)||[887].includes(o))&&(a="page-width"),"function"==typeof bssFixSupportCustomButtonDiscountBox&&(customButtonDiscountBox=bssFixSupportCustomButtonDiscountBox(e,i,r),i=customButtonDiscountBox.discount_button,r=customButtonDiscountBox.discount_input_placeholder);return`\n            <div class="bss-po-discount-code-block ${a}">\n                <div class="bss-po-discount-code-wrapper">\n                    <div class="bss-po-discount-code-input--input-container">\n                        <input type="text" class="bss-po-discount-code-input--input" placeholder="${r}">\n\n                        <div class="bss-po-discount-code-input--button" tabindex="0">\n                            <div class="bss-po-discount-code-input--button-text">${i}</div>\n                            <div class="bss-po-loader"></div>\n                        </div>\n                    </div>\n                    <div id="bss-po-discount-code--message"></div>\n                    <div class="bss-po-discount-code--applied-wrapper"></div>\n                    <div class="bss-po-discount-code--summary-wrapper"></div>\n                </div>\n            </div>\n        `},e.cart.renderApplyDiscountCodeRes=function(t){const{discount_error_invalid:o}=e.settings,n=document.querySelector(".bss-po-discount-code--applied-wrapper"),i=document.querySelector(".bss-po-discount-code--summary-wrapper");if(t.success){e.money.addMoneyWithCurrencyFormat(t.cart.original_total_price/100,0);const o="-"+e.money.addMoneyWithCurrencyFormat(t.discount_amount/100,0),r=(e.money.addMoneyWithCurrencyFormat(t.cart.items_subtotal_price/100,0),`\n                    <div class="bss-po-discount-code--applied-wrapper--applied">\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" fill="currentColor"><path d="M17.78 3.09C17.45 2.443 16.778 2 16 2h-5.165c-.535 0-1.046.214-1.422.593l-6.82 6.89c0 .002 0 .003-.002.003-.245.253-.413.554-.5.874L.738 8.055c-.56-.953-.24-2.178.712-2.737L9.823.425C10.284.155 10.834.08 11.35.22l4.99 1.337c.755.203 1.293.814 1.44 1.533z" fill-opacity=".55"></path><path d="M10.835 2H16c1.105 0 2 .895 2 2v5.172c0 .53-.21 1.04-.586 1.414l-6.818 6.818c-.777.778-2.036.782-2.82.01l-5.166-5.1c-.786-.775-.794-2.04-.02-2.828.002 0 .003 0 .003-.002l6.82-6.89C9.79 2.214 10.3 2 10.835 2zM13.5 8c.828 0 1.5-.672 1.5-1.5S14.328 5 13.5 5 12 5.672 12 6.5 12.672 8 13.5 8z"></path>\n                        </svg>${t.discount.title}<div class="bss-po-discount-code--applied-wrapper--applied-remove" data-code="${t.discount.title}">×</div>\n                    </div>\n                `),a=`\n                    <div class="bss-po-discount-code--summary-discount">\n                        <span>Discount</span>\n                        <span class="bss-po-discount-code--summary-discount-value">${o}</span>\n                    </div>\n                `;if(6536==e.storeId||8109==e.storeId)setTimeout(()=>{document.querySelector(".bss-po-discount-code--applied-wrapper").innerHTML=r,document.querySelector(".bss-po-discount-code--summary-wrapper").innerHTML=a,e.cart.discount.utils.renderDiscountErrorMessage({status:"success",message:`Coupon code '${t.discount.title}' applied`});document.querySelector(".bss-po-discount-code--applied-wrapper--applied-remove").addEventListener("click",e.cart.handleDeleteDiscountCode)},1500);else{n.innerHTML=r,i.innerHTML=a,e.cart.discount.utils.renderDiscountErrorMessage({status:"success",message:`Coupon code '${t.discount.title}' applied`});document.querySelector(".bss-po-discount-code--applied-wrapper--applied-remove").addEventListener("click",e.cart.handleDeleteDiscountCode)}window.localStorage.setItem("appliedDiscount",t.discount.title)}else e.cart.discount.utils.renderDiscountErrorMessage({message:o}),n.innerHTML="",i.innerHTML="",window.localStorage.removeItem("appliedDiscount")},e.cart.handleDeleteDiscountCode=function(){const e=document.querySelector(".bss-po-discount-code--applied-wrapper"),t=document.querySelector(".bss-po-discount-code--summary-wrapper"),o=document.querySelector("#bss-po-discount-code--message");e&&t&&o&&(e.innerHTML="",t.innerHTML="",o.innerHTML="",window.localStorage.removeItem("appliedDiscount"))},e.cart.checkRenderDiscountCodeFeature=async function(){return(await e.helper.getCartData()).items.some(e=>{let t=JSON.parse(localStorage.getItem(e.key));return t&&(0!==t.totalExtraPrice||0!==t.totalVariantExtraPrice)})},e.cart.renderDiscountCodeFeature=async function(){e.cart.discount.utils.rendering=!0;let t=!1;try{if(document.querySelector(".bss-po-discount-code-block")&&document.querySelector(".bss-po-discount-code-block").remove(),!e.enableDiscount)return;const o={1:["debut","narrative","venture","minimal","simple","express","supply","boundless","brooklyn"],2:["refresh","ride","colorblock","taste","studio","craft","crave","sense","dawn","origin","publisher"]},n=Shopify.theme.theme_store_id,i=Shopify.theme.name.toLowerCase()||"",r=e.cart.getDiscountCodeHTML(o,n,i);if(t=await e.cart.checkRenderDiscountCodeFeature(),t){if(e.page.isCartPage())if(o[2].includes(i)||[887].includes(n))document.querySelector("main .shopify-section").insertAdjacentHTML("afterend",r);else if(o[1].includes(i))document.querySelector('form[action="/cart"] table').insertAdjacentHTML("afterend",r);else{let t=document.querySelectorAll('form[action="/cart"]');"function"==typeof bssFixSupportAppendDiscountBox?bssFixSupportAppendDiscountBox(e,t,r):(t=[...t].filter(e=>!e.closest("cart-notification,cart-drawer")),t.length&&t[0].insertAdjacentHTML("beforeend",r))}else"function"==typeof bssFixSupportAppendDiscountBoxSpecialPage&&bssFixSupportAppendDiscountBoxSpecialPage(e,r);document.querySelector("input.bss-po-discount-code-input--input").addEventListener("keydown",e=>{13==e.keyCode&&(e.preventDefault(),e.stopPropagation())}),document.querySelector(".bss-po-discount-code-input--button").addEventListener("click",(async function(){const t=document.querySelector(".bss-po-discount-code-wrapper input.bss-po-discount-code-input--input"),o=t.value.trim();await e.cart.handleApplyDiscountCode(o),t.value=""}))}}catch(e){console.error(e.message)}finally{e.cart.discount.utils.rendering=!1,e.cart.discount.utils.showDiscountCodeFeature=t}},e.cart.handleApplyDiscountCode=async function(o=""){const{discount_error_empty:n}=e.settings;if(!o)return e.cart.discount.utils.renderDiscountErrorMessage({message:n});e.cart.discount.utils.toggleApplyDiscountCodeLoading();const r=await e.helper.getCartData();if(0===r.items.length)return e.cart.discount.utils.renderDiscountErrorMessage({message:"Can not apply discount code with empty cart"});e.enableAddOns?(r.bss_items_subtotal_price=window.bssProductOptionsPrices.cart_subtotal,r.items.forEach(e=>{e.bss_final_line_price=window.bssProductOptionsPrices[e.key],e.bss_final_price=window.bssProductOptionsPrices[e.key]/e.quantity})):(r.bss_items_subtotal_price=r.items_subtotal_price,r.items.forEach(e=>{e.bss_final_line_price=e.final_line_price,e.bss_final_price=e.final_price}));const{apiDomain:a}=e,c={domain:t.shop.domain,cart:r,discountCode:o,customerId:t.customer.id};if(e.marketStatus){let t=e.marketData.parent&&e.marketData.parent.adjustment?e.marketData.parent.adjustment.value:0,o=e.marketData.parent&&e.marketData.parent.adjustment?e.marketData.parent.adjustment.type:"";c.marketData={priceAdjustment:t,adjustmentType:o},c.marketRate=parseFloat(Shopify.currency.rate)}try{const t={headers:{"Content-Type":"application/json"}},{data:o}=await i.a.post(a+"/dc/check-discount-code",c,t);await e.cart.renderApplyDiscountCodeRes(o)}catch(e){console.log("Error:",e)}e.cart.discount.utils.toggleApplyDiscountCodeLoading("loaded")},e.cart.initDC=async function(){if(e.cart.renderDiscountCodeFeature(),"platinum"!==e.currentPlan)return;if(window){if(window.bssCaculatingDC)return;window.bssCaculatingDC=!0}let o=document.querySelector(".bss-po-discount-code--applied-wrapper--applied-remove"),n=o?o.getAttribute("data-code"):"";const r=await e.helper.getCartData();if(!n||r.item_count<1)return window.bssCaculatingDC=!1,void e.cart.handleDeleteDiscountCode();e.enableAddOns?(r.bss_items_subtotal_price=window.bssProductOptionsPrices.cart_subtotal,r.items.forEach(e=>{e.bss_final_line_price=window.bssProductOptionsPrices[e.key],e.bss_final_price=window.bssProductOptionsPrices[e.key]/e.quantity})):(r.bss_items_subtotal_price=r.items_subtotal_price,r.items.forEach(e=>{e.bss_final_line_price=e.final_line_price,e.bss_final_price=e.final_price}));const{apiDomain:a}=e,c={domain:t.shop.domain,cart:r,discountCode:n,customerId:t.customer.id};try{const t={headers:{"Content-Type":"application/json"}},{data:o}=await i.a.post(a+"/dc/check-discount-code",c,t);if(o.success){const t=o.discount.shareableUrls;await i.a.get(t);const n=document.querySelector(".bss-po-discount-code--applied-wrapper"),r=document.querySelector(".bss-po-discount-code--summary-wrapper"),a=(e.money.addMoneyWithCurrencyFormat(o.cart.original_total_price/100,0),"-"+e.money.addMoneyWithCurrencyFormat(o.discount_amount/100,0)),c=(e.money.addMoneyWithCurrencyFormat(o.cart.items_subtotal_price/100,0),`\n                    <div class="bss-po-discount-code--applied-wrapper--applied">\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" fill="currentColor"><path d="M17.78 3.09C17.45 2.443 16.778 2 16 2h-5.165c-.535 0-1.046.214-1.422.593l-6.82 6.89c0 .002 0 .003-.002.003-.245.253-.413.554-.5.874L.738 8.055c-.56-.953-.24-2.178.712-2.737L9.823.425C10.284.155 10.834.08 11.35.22l4.99 1.337c.755.203 1.293.814 1.44 1.533z" fill-opacity=".55"></path><path d="M10.835 2H16c1.105 0 2 .895 2 2v5.172c0 .53-.21 1.04-.586 1.414l-6.818 6.818c-.777.778-2.036.782-2.82.01l-5.166-5.1c-.786-.775-.794-2.04-.02-2.828.002 0 .003 0 .003-.002l6.82-6.89C9.79 2.214 10.3 2 10.835 2zM13.5 8c.828 0 1.5-.672 1.5-1.5S14.328 5 13.5 5 12 5.672 12 6.5 12.672 8 13.5 8z"></path>\n                        </svg>${o.discount.title}<div class="bss-po-discount-code--applied-wrapper--applied-remove" data-code="${o.discount.title}">×</div>\n                    </div>\n                `),l=`\n                    <div class="bss-po-discount-code--summary-discount">\n                        <span>Discount</span>\n                        <span class="bss-po-discount-code--summary-discount-value">${a}</span>\n                    </div>\n                `;n.innerHTML=c,r.innerHTML=l;document.querySelector(".bss-po-discount-code--applied-wrapper--applied-remove").addEventListener("click",e.cart.handleDeleteDiscountCode)}else e.cart.handleDeleteDiscountCode()}catch(e){console.log("Error:",e)}window&&(window.bssCaculatingDC=!1)},e.cart.getKeyData=function(e){const t=[];let o=e.items;if(o.length){for(let e=0;e<o.length;e++){let n=o[e].key;t.push(n)}return t}},e.cart.changeKeyItem=async function(t){try{const n=await e.helper.getCartData(),i=e.cart.getKeyData(n),r=window.bssProductOptionsPrices;for(const e in r)if("cart_subtotal"!==e){const n=t.indexOf(e);if(r[i[n]]=r[e],i[n]!==e){delete r[e];const t=document.querySelectorAll('[bss-po-cart-item-key="'+e+'"]');for(var o=0;o<t.length;o++)t[o].setAttribute("bss-po-cart-item-key",i[n]);document.querySelector('[bss-po-line-properties="'+e+'"]').setAttribute("bss-po-line-properties",i[n])}const a=localStorage.getItem(e);if(a){localStorage.removeItem(e),localStorage.setItem(i[n],a);document.querySelector('[bss-po-line-item-key="'+e+'"]').remove()}}window.bssProductOptionsPrices=r,1==e.enableAddOns&&e.cart.handleCartCheckoutBtn(n),e.cart.resetFeaturesOnCartPage(n),e.cart.generateEditCartOnCartPage(n)}catch(e){console.log(e)}},e.cart.checkDataBeforeCheckout=async function(e){try{let t=!1,o=e.items;const n=[];return o.map(e=>{const t=JSON.parse(localStorage.getItem(e.key));let o=1;!t||e.product_id==t.product_id&&e.id==t.item_id||(o=0),n.push(o)}),n.every(e=>1==e)&&(t=!0),t}catch(e){console.log(e)}}}(e,t);if("function"==typeof bssFixSupportForSpecificStore&&bssFixSupportForSpecificStore(),e.currentPlan&&"free"!==e.currentPlan){var _=document.querySelector(":root");_.style.setProperty("--bss-po-background",e.settings.button_hover_color),_.style.setProperty("--bss-po-color",e.settings.button_hover_text_color),1==e.enableAddOns&&Shopify&&Shopify.currency&&Shopify.currency.rate&&(e.marketStatus=!0,e.common.getMarketDataByCountryCode())}if(setTimeout((function(){if((e.page.isProductPage()||e.page.isProductPreviewPage()||e.page.isProductPageWithAds())&&1==e.enable&&e.optionSets.length>0){"function"==typeof bssFixSupportGenerateProductPage&&bssFixSupportGenerateProductPage(e),"platinum"===e.currentPlan&&e.enableDisplayProductPrice&&e.enableAddOns&&document.addEventListener("BSSchangeProductPrice",e.helper.debounce(()=>e.po.handleChangePrice(t)));const o=document.querySelectorAll(".product-form__input:not(.product-form__quantity)");o.length&&o.forEach(t=>{t.addEventListener("change",(function(){e.po.buyItNow()}))});let n=0;"function"==typeof bssFixSupportGetTimeoutGenerateOptionSet&&(n=bssFixSupportGetTimeoutGenerateOptionSet({BSS_PO:e})),setTimeout(()=>{const o=e.optionSets.some(e=>4==e.product_condition_type),n=document.querySelector("#bss-po-variant-id-first-load");let i=n&&JSON.parse(n.innerText)&&JSON.parse(n.innerText).variant_id;"platinum"===e.currentPlan&&e.enable&&o&&(e.enableSpecificVariant||null==e.enableSpecificVariant)&&i?e.po.renderOptionSetOnProductPageOnPlatinumPlan({firstVariant:i,shopData:t}):e.po.generateOptionSetOnProductPage({})},n)}if(e.page.isHomePage()&&1==e.enable&&e.optionSets.length>0){e.po.generateOptionSetOnHomePage();const t=document.querySelectorAll(".product-form__input:not(.product-form__quantity)");t.length&&t.forEach(t=>{t.addEventListener("change",(function(){e.po.buyItNow()}))})}if("function"==typeof bssFixSupportGenerateHomePage&&bssFixSupportGenerateHomePage(),1569==e.storeId&&e.page.isProductPage()){e.po.generateOptionSetOnHomePage(),[...document.querySelectorAll(".horizontal-product-list button.button--subdued"),...document.querySelectorAll('.product-card__quick-buy button[aria-controls*="quick-buy-template"]')].forEach(t=>{t.addEventListener("click",(function(){const t=setInterval(async()=>{"visible"===window.getComputedStyle(document.querySelector(".bss-po-custom-quick-buy-drawer")).visibility&&(e.po.generateOptionSetOnHomePage(),clearInterval(t))},200)}))})}7019==e.storeId&&e.page.isCollectionPage()&&1==e.enable&&e.optionSets.length>0&&e.po.generateOptionSetOnHomePage(),1==e.enable&&1==e.enableInCart&&e.page.isCartPage()&&e.optionSets.length>0&&e.currentPlan&&"free"!==e.currentPlan&&e.cart.generateEditCartOnCartPage(t.cart)}),300),e.page.isCartPage()&&1==e.enable&&e.optionSets.length>0){(()=>document.querySelectorAll(['form[action*="/cart"] tbody[data-cart-line-items]','form[action*="/cart"] table.responsive-table']))().forEach(t=>t.addEventListener("click",()=>{setTimeout(()=>e.helper.generateHtmlForUploadedFileLink(),2500)}));let o=0;if("function"==typeof bssFixSupportSetTimeOutInit&&(o=bssFixSupportSetTimeOutInit(o)),setTimeout((function(){if(e.currentPlan&&"free"!==e.currentPlan){if(e.enableAddOns){if("undefined"!=typeof BSS_B2B){e.changeQuantity=null,e.checkCpQb=!1;var o='[bss-b2b-cart-total-price]:not([style*="display: none"])';1==BSS_B2B.shopModules[0].status&&BSS_B2B.cart.qbPricingList&&BSS_B2B.cart.qbPricingList.size>0&&BSS_B2B.qbRules&&BSS_B2B.qbRules.length>0?document.addEventListener("bss_b2b_doneCheckQb",o=>{e.checkCpQb=!0,e.changeQuantity>0||(10147!=e.storeId&&(e.changeQuantity+=1),fetch(window.Shopify.routes.root+"cart.js").then(e=>e.json()).then(o=>{1==e.enableInCart&&e.cart.generateEditCartOnCartPage(o),e.cart.displayPriceAddOnsWithCartItems(o),e.cart.handleCartCheckoutBtn(t.cart)}))}):1==BSS_B2B.shopModules[1].status&&BSS_B2B.cart.cpPricingList&&BSS_B2B.cart.cpPricingList.size>0&&BSS_B2B.configData&&BSS_B2B.configData.length>0?document.addEventListener("bss_b2b_doneCheckCp",n=>{e.checkCpQb=!0,e.changeQuantity>0||(e.changeQuantity+=1,e.helper.waitForElement(o,3e3).then(setTimeout(()=>{fetch(window.Shopify.routes.root+"cart.js").then(e=>e.json()).then(o=>{1==e.enableInCart&&e.cart.generateEditCartOnCartPage(o),e.cart.displayPriceAddOnsWithCartItems(o),e.cart.handleCartCheckoutBtn(t.cart)})},500)))}):e.helper.waitForElement(o,3e3).then(setTimeout(()=>{fetch(window.Shopify.routes.root+"cart.js").then(e=>e.json()).then(o=>{1==e.enableInCart&&e.cart.generateEditCartOnCartPage(o),e.cart.displayPriceAddOnsWithCartItems(o),e.cart.handleCartCheckoutBtn(t.cart)})},500))}else e.cart.displayPriceAddOnsWithCartItems(t.cart);3350==e.storeId&&document.querySelector("form.cart-template__wrapper .cart-template__terms input[type=checkbox]").addEventListener("change",(function(){this.checked&&e.cart.handleCartCheckoutBtn(t.cart)})),2136==e.storeId?document.querySelector(".form.nopad.radiobox input[type=checkbox]").addEventListener("change",(function(){this.checked&&e.cart.handleCartCheckoutBtn(t.cart)})):"undefined"==typeof BSS_B2B&&e.cart.handleCartCheckoutBtn(t.cart)}if(e.enableInCart||e.enableAddOns)if(2869==e.storeId)e.cart.customUpdateCartBtn(t.cart);else{let o=0;3219==e.storeId&&(o=1e3),setTimeout((function(){e.cart.resetFeaturesOnCartPage(t.cart)}),o)}}}),o),"platinum"===e.currentPlan&&e.enableDiscount&&e.cart.renderDiscountCodeFeature(),-1!==document.getElementsByTagName("head")[0].innerHTML.indexOf("d5zu2f4xvqanl")){const o=()=>{fetch(window.Shopify.routes.root+"cart.js").then(e=>e.json()).then(t=>{e.cart.displayPriceAddOnsWithCartItems(t),e.cart.handleCartCheckoutBtn(t)})};setTimeout((function(){e.cart.handleCartCheckoutBtn(t.cart)}),1500),e.helper.eventListenersWhenCartActivities(o)}}if(e.helper.detectBuyItNowButtonInterVal(),(e.enableMiniCart||[3667,6136,8144].includes(e.storeId))&&1==e.enable&&1==e.enableAddOns){let t=!1;"function"==typeof bssFixSupportCustomInitMinicart&&(t=bssFixSupportCustomInitMinicart(e,t)),t||e.cart.initMiniCart(2e3);const o=document.querySelector(e.cart.miniCartIcon.join(",")),n={attributes:!0,childList:!0,subtree:!0};if(o){if(new MutationObserver((t,o)=>{for(const o of t)"childList"===o.type&&e.cart.initMiniCart(1e3)}).observe(o,n),"function"==typeof bssFixSupportHandlePriceOnMiniCart&&bssFixSupportHandlePriceOnMiniCart(e),5048==e.storeId&&""==document.querySelector(".cart-drawer").style.visibility){const e=document.querySelector(".cart-drawer").querySelectorAll(["[bss-po-item-final-price]","[bss-po-cart-total-price]"]);e.length&&e.forEach(e=>{e.style.opacity=0})}}}window.bss_admin_option||new M(e).init()}window&&void 0===window.BSS_PO&&(window.BSS_PO={}),window.bss_admin_option&&(window.Shopify={}),console.log("Merge Init PO");const H=document.querySelectorAll('script[src*="bss-po-js.js"]');if(H&&1==H.length||window.bss_admin_option)!function(){var e={};if(document.querySelector("#bss-po-store-data")){let t=!1;if("function"==typeof bssFixSupportGetShopData){const o=bssFixSupportGetShopData(e,t);e=o.shopData,t=o.getShopData}if(!t){const t=(e=JSON.parse(document.querySelector("#bss-po-store-data").innerHTML)).shop.money_format.replace(/<\/?[^>]+>/gi,"");e.shop.money_format=t}}window.bss_admin_option&&(e={shop:{domain:"product-options.myshopify.com",permanent_domain:"product-options.myshopify.com",url:"https://product-options.myshopify.com",secure_url:"https://product-options.myshopify.com",money_format:JSON.parse(JSON.stringify(window.bss_admin_option.money_format))}}),setTimeout((function(){j(BSS_PO,e)}),500)}();else{document.querySelectorAll("span[bss-po-product-price]").forEach(e=>{e.style.visibility="visible"})}}]);